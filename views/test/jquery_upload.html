<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Test Upload from jQuery</title>
    <script src="{{=URL(c='static',f='scripts')}}/web2py/jquery-1.3.2.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $('a.get').click(function(){
                //$.get("{{=URL(c='cr',f='shelter',args=['create'],vars=dict(format='json'))}}", { name: "Positive", capacity: "1" } );
                $.get("{{=URL(c='cr',f='shelter',args=['update'],vars=dict(format='json'))}}", { name: "Doug", capacity: "45", uuid: "def734b3-390e-4f4c-8b3f-29c31bbf5aee" } );
                //$.get("{{=URL(c='cr',f='shelter',args=['delete',8])}}" );
                return false;
            });
            $('a.post').click(function(){
                //$.post("{{=URL(c='cr',f='shelter',args=['create'],vars=dict(format='json'))}}", { name: "John" } );
                $.ajax({
                    type: "POST",
                    contentType: 'multipart/form-data;boundary="MyBoundaryString"',
                    url: "{{=URL(c='cr',f='shelter',args=['create'])}}",
                    data: { name: "Jimbob", _formname: "cr_shelter" },
                    success: function(msg){
                        alert( "Data Saved: " + msg );
                    }
                });
                return false;
            });
        });
    </script>
</head>

<body>
<ul>
<li><a href="linkfollowedwhenjsnotenabled.htm" class="get">GET</a>
<li><a href="linkfollowedwhenjsnotenabled.htm" class="post">POST</a>
</ul>
</body>
</html>
