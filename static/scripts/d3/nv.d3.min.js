var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){c!=Array.prototype&&c!=Object.prototype&&(c[a]=b.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var a=0;return $jscomp.iteratorPrototype(function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,a){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var b=0,d={next:function(){if(b<c.length){var g=b++;return{value:a(g,c[g]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(c,a,b,d){if(a){b=$jscomp.global;c=c.split(".");for(d=0;d<c.length-1;d++){var g=c[d];g in b||(b[g]={});b=b[g]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a,b){return b})}},"es6","es3");
$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var a=c[Symbol.iterator];return a?a.call(c):$jscomp.arrayIterator(c)};$jscomp.owns=function(c,a){return Object.prototype.hasOwnProperty.call(c,a)};
$jscomp.polyfill("WeakMap",function(c){function a(a){$jscomp.owns(a,d)||$jscomp.defineProperty(a,d,{value:{}})}function b(b){var c=Object[b];c&&(Object[b]=function(b){a(b);return c(b)})}if(function(){if(!c||!Object.seal)return!1;try{var a=Object.seal({}),b=Object.seal({}),d=new c([[a,2],[b,3]]);if(2!=d.get(a)||3!=d.get(b))return!1;d["delete"](a);d.set(b,4);return!d.has(a)&&4==d.get(b)}catch(h){return!1}}())return c;var d="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");
b("seal");var g=0,f=function(a){this.id_=(g+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};f.prototype.set=function(b,c){a(b);if(!$jscomp.owns(b,d))throw Error("WeakMap key fail: "+b);b[d][this.id_]=c;return this};f.prototype.get=function(a){return $jscomp.owns(a,d)?a[d][this.id_]:void 0};f.prototype.has=function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)};f.prototype["delete"]=
function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return f},"es6-impl","es3");$jscomp.MapEntry=function(){};$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(c){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),b=new c($jscomp.makeIterator([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var d=b.entries(),f=d.next();if(f.done||f.value[0]!=a||"s"!=f.value[1])return!1;f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(q){return!1}}())return c;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var a=new WeakMap,b=function(a){this.data_={};this.head_=f();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};b.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};b.prototype["delete"]=
function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};b.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};b.prototype.has=function(a){return!!d(this,a).entry};b.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};b.prototype.entries=function(){return g(this,function(a){return[a.key,
a.value]})};b.prototype.keys=function(){return g(this,function(a){return a.key})};b.prototype.values=function(){return g(this,function(a){return a.value})};b.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};b.prototype[Symbol.iterator]=b.prototype.entries;var d=function(b,c){var d=c&&typeof c;"object"==d||"function"==d?a.has(c)?d=a.get(c):(d=""+ ++k,a.set(c,d)):d="p_"+c;var f=b.data_[d];if(f&&$jscomp.owns(b.data_,d))for(var e=0;e<f.length;e++){var g=
f[e];if(c!==c&&g.key!==g.key||c===g.key)return{id:d,list:f,index:e,entry:g}}return{id:d,list:f,index:-1,entry:void 0}},g=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},f=function(){var a={};return a.previous=a.next=a.head=a},k=0;return b},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.polyfill("Set",function(c){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),d=new c($jscomp.makeIterator([a]));if(!d.has(a)||1!=d.size||d.add(a)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var g=d.entries(),f=g.next();if(f.done||f.value[0]!=a||f.value[1]!=a)return!1;f=g.next();return f.done||f.value[0]==a||4!=f.value[0].x||f.value[1]!=f.value[0]?!1:g.next().done}catch(k){return!1}}())return c;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=
function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(a,c){var b=this;this.map_.forEach(function(d){return a.call(c,d,d,b)})};return a},"es6-impl","es3");$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.entries",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a,b){return[a,b]})}},"es6-impl","es3");
(function(){var c={dev:!1};c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.logs={};c.dom={};"undefined"!==typeof module&&"undefined"!==typeof exports&&"undefined"==typeof d3&&(d3=require("d3"));c.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,
1),c=this,g=function(){},f=function(){return c.apply(this instanceof g&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};g.prototype=this.prototype;f.prototype=new g;return f});c.dev&&(c.dispatch.on("render_start",function(a){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(a){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));c.log=function(){c.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,
arguments):c.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")};c.render=function(a){a=a||1;c.render.active=!0;c.dispatch.render_start();var b=function(){for(var d,g,f=0;f<a&&(g=c.render.queue[f]);f++)d=g.generate(),typeof g.callback==typeof Function&&
g.callback(d);c.render.queue.splice(0,f);c.render.queue.length?setTimeout(b):(c.dispatch.render_end(),c.render.active=!1)};setTimeout(b)};c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};"undefined"!==typeof module&&"undefined"!==typeof exports&&(module.exports=c);"undefined"!==typeof window&&(window.nv=c);c.dom.write=function(a){return void 0!==window.fastdom?fastdom.mutate(a):
a()};c.dom.read=function(a){return void 0!==window.fastdom?fastdom.measure(a):a()};c.interactiveGuideline=function(){function a(q){q.each(function(t){function u(){var c=d3.mouse(this),d=c[0],c=c[1],e=!0,l=!1;n&&(d=d3.event.offsetX,c=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(e=!1),d3.event.target.className.baseVal.match("nv-legend")&&(l=!0));e&&(d-=b.left,c-=b.top);if("mouseout"===d3.event.type||0>d||0>c||d>q||c>w||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||l)n&&
d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(h.nvPointerEventsClass))||(k.elementMouseout({mouseX:d,mouseY:c}),a.renderGuideLine(null),h.hidden(!0));else{h.hidden(!1);if("function"===typeof f.rangeBands)if(e=d3.bisect(f.range(),d)-1,f.range()[e]+f.rangeBand()>=d)e=f.domain()[d3.bisect(f.range(),d)-1];else{k.elementMouseout({mouseX:d,mouseY:c});a.renderGuideLine(null);h.hidden(!0);return}else e=
f.invert(d);k.elementMousemove({mouseX:d,mouseY:c,pointXValue:e});"dblclick"===d3.event.type&&k.elementDblclick({mouseX:d,mouseY:c,pointXValue:e});"click"===d3.event.type&&k.elementClick({mouseX:d,mouseY:c,pointXValue:e});"mousedown"===d3.event.type&&k.elementMouseDown({mouseX:d,mouseY:c,pointXValue:e});"mouseup"===d3.event.type&&k.elementMouseUp({mouseX:d,mouseY:c,pointXValue:e})}}var v=d3.select(this),q=d||960,w=g||400,C=v.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);C.enter().append("g").attr("class",
" nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");e&&(e.on("touchmove",u).on("mousemove",u,!0).on("mouseout",u,!0).on("mousedown",u,!0).on("mouseup",u,!0).on("dblclick",u).on("click",u),a.guideLine=null,a.renderGuideLine=function(b){m&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=C.select(".nv-interactiveGuideLine").selectAll("line").data(null!=b?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",
function(a){return a}).attr("x2",function(a){return a}).attr("y1",w).attr("y2",0);a.exit().remove()}))})})}var b={left:0,top:0},d=null,g=null,f=d3.scale.linear(),k=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),m=!0,e=null,h=c.models.tooltip(),n=window.ActiveXObject;h.duration(0).hideDelay(0).hidden(!1);a.dispatch=k;a.tooltip=h;a.margin=function(c){if(!arguments.length)return b;b.top="undefined"!=typeof c.top?c.top:b.top;b.left=
"undefined"!=typeof c.left?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return d;d=b;return a};a.height=function(b){if(!arguments.length)return g;g=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.showGuideLine=function(b){if(!arguments.length)return m;m=b;return a};a.svgContainer=function(b){if(!arguments.length)return e;e=b;return a};return a};c.interactiveBisect=function(a,b,c){if(!(a instanceof Array))return null;var d="function"!==typeof c?function(a){return a.x}:
c;c=d3.bisector(function(a,b){return d(a)-b}).left;c=d3.max([0,c(a,b)-1]);var f=d(a[c]);"undefined"===typeof f&&(f=c);if(f===b)return c;var k=d3.min([c+1,a.length-1]);a=d(a[k]);"undefined"===typeof a&&(a=k);return Math.abs(a-b)>=Math.abs(f-b)?c:k};c.nearestValueIndex=function(a,b,c){var d=Infinity,f=null;a.forEach(function(a,g){var e=Math.abs(b-a);null!=a&&e<=d&&e<c&&(d=e,f=g)});return f};c.models.tooltip=function(){function a(){if(u&&l(d))return c.dom.write(function(){n&&n.node()||(n=d3.select(document.body).select("#"+
b).data([1]),n.enter().append("div").attr("class","nvtooltip "+(m?m:"xy-tooltip")).attr("id",b).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed("nv-pointer-events-none",!0).classed("nv-pointer-events-none",!0),n.exit().remove());var a=z(d);a&&(n.node().innerHTML=a);G()}),a}var b="nvtooltip-"+Math.floor(1E5*Math.random()),d=null,g="w",f=25,k=0,m=null,e=!0,h=200,n=null,q=null,t=null,u=!0,v=100,r=!0,w=function(a,b){return a},C=function(a){return a},
y=function(a,b){return a},z=function(a){if(null===a)return"";var b=d3.select(document.createElement("table"));r&&b.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(C(a.value));var c=b.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});c.append("td").classed("legend-color-guide",!0).append("div").style("background-color",
function(a){return a.color});c.append("td").classed("key",!0).classed("total",function(a){return!!a.total}).html(function(a,b){return y(a.key,b)});c.append("td").classed("value",!0).html(function(a,b){return w(a.value,b)});c.filter(function(a,b){return void 0!==a.percent}).append("td").classed("percent",!0).html(function(a,b){return"("+d3.format("%")(a.percent)+")"});c.selectAll("td").each(function(a){a.highlight&&(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",
a(.6)).style("border-top-color",a(.6)))});b=b.node().outerHTML;void 0!==a.footer&&(b+="<div class='footer'>"+a.footer+"</div>");return b},D=function(){var a={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var b=document.body.getBoundingClientRect();a.left-=b.left;a.top-=b.top}return a},l=function(a){if(a&&a.series){if(c.utils.isArray(a.series))return!0;if(c.utils.isObject(a.series))return a.series=[a.series],!0}return!1},
I=function(a){var b=n.node().offsetHeight,c=n.node().offsetWidth,d=document.documentElement.clientWidth,l=document.documentElement.clientHeight,e;switch(g){case "e":var F=-c-f;var A=-(b/2);0>a.left+F&&(F=f);0>(e=a.top+A)&&(A-=e);(e=a.top+A+b)>l&&(A-=e-l);break;case "w":F=f;A=-(b/2);a.left+F+c>d&&(F=-c-f);0>(e=a.top+A)&&(A-=e);(e=a.top+A+b)>l&&(A-=e-l);break;case "n":F=-(c/2)-5;A=f;a.top+A+b>l&&(A=-b-f);0>(e=a.left+F)&&(F-=e);(e=a.left+F+c)>d&&(F-=e-d);break;case "s":F=-(c/2);A=-b-f;0>a.top+A&&(A=
f);0>(e=a.left+F)&&(F-=e);(e=a.left+F+c)>d&&(F-=e-d);break;case "center":F=-(c/2);A=-(b/2);break;default:A=F=0}return{left:F,top:A}},G=function(){c.dom.read(function(){var a=D(),b=I(a),c=a.left+b.left,a=a.top+b.top;if(e)n.interrupt().transition().delay(h).duration(0).style("opacity",0);else{var b="translate("+Math.round(c)+"px, "+Math.round(a)+"px)",d=d3.interpolateString("translate("+q+"px, "+t+"px)",b),l=.1>n.style("opacity");n.interrupt().transition().duration(l?0:v).styleTween("transform",function(a){return d},
"important").styleTween("-webkit-transform",function(a){return d}).style("-ms-transform",b).style("opacity",1)}q=c;t=a})};a.nvPointerEventsClass="nv-pointer-events-none";a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{duration:{get:function(){return v},set:function(a){v=a}},gravity:{get:function(){return g},set:function(a){g=a}},distance:{get:function(){return f},set:function(a){f=a}},snapDistance:{get:function(){return k},set:function(a){k=a}},classes:{get:function(){return m},
set:function(a){m=a}},enabled:{get:function(){return u},set:function(a){u=a}},hideDelay:{get:function(){return h},set:function(a){h=a}},contentGenerator:{get:function(){return z},set:function(a){z=a}},valueFormatter:{get:function(){return w},set:function(a){w=a}},headerFormatter:{get:function(){return C},set:function(a){C=a}},keyFormatter:{get:function(){return y},set:function(a){y=a}},headerEnabled:{get:function(){return r},set:function(a){r=a}},position:{get:function(){return D},set:function(a){D=
a}},chartContainer:{get:function(){return document.body},set:function(a){c.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(a){c.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(a){c.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return e},set:function(b){e!=b&&(e=!!b,a())}},data:{get:function(){return d},set:function(a){a.point&&(a.value=
a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color);d=a}},node:{get:function(){return n.node()},set:function(a){}},id:{get:function(){return b},set:function(a){}}});c.utils.initOptions(a);return a};c.utils.windowSize=function(){var a={width:640,height:480};if(window.innerWidth&&window.innerHeight)return a.width=window.innerWidth,a.height=window.innerHeight,a;if("CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth)return a.width=
document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a;document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);return a};c.utils.isArray=Array.isArray;c.utils.isObject=function(a){return null!==a&&"object"===typeof a};c.utils.isFunction=function(a){return"function"===typeof a};c.utils.isDate=function(a){return"[object Date]"===toString.call(a)};c.utils.isNumber=function(a){return!isNaN(a)&&"number"===typeof a};
c.utils.windowResize=function(a){window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a);return{callback:a,clear:function(){window.removeEventListener("resize",a)}}};c.utils.getColor=function(a){if(void 0===a)return c.utils.defaultColor();if(c.utils.isArray(a)){var b=d3.scale.ordinal().range(a);return function(a,c){return a.color||b(void 0===c?a:c)}}return a};c.utils.defaultColor=function(){return c.utils.getColor(d3.scale.category20().range())};
c.utils.customTheme=function(a,b,d){b=b||function(a){return a.key};d=d||d3.scale.category20().range();var g=d.length;return function(f,k){var m=b(f);if(c.utils.isFunction(a[m]))return a[m]();if(void 0!==a[m])return a[m];g||(g=d.length);--g;return d[g]}};c.utils.pjax=function(a,b){var d=function(d){d3.html(d,function(d){var f=d3.select(b).node();f.parentNode.replaceChild(d3.select(d).select(b).node(),f);c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,
this.href);d(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if(c.utils.isFunction(a.style)&&c.utils.isFunction(a.text)){var b=parseInt(a.style("font-size").replace("px",""),10);a=a.text().length;return c.utils.NaNtoZero(a*b*.5)}return 0};c.utils.NaNtoZero=function(a){return!c.utils.isNumber(a)||isNaN(a)||null===a||Infinity===a||-Infinity===a?0:a};d3.selection.prototype.watchTransition=function(a){var b=
[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)};c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var d=void 0!==b?b:250,g=[],f=this;this.models=function(a){a=[].slice.call(arguments,0);a.forEach(function(a){a.__rendered=!1;(function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=!0;f.renderEnd("model")})})(a);0>g.indexOf(a)&&g.push(a)});return this};this.reset=function(a){void 0!==a&&(d=a);g=[]};this.transition=
function(a,b,c){b=1<arguments.length?[].slice.call(arguments,1):[];c=1<b.length?b.pop():void 0!==d?d:250;a.__rendered=!1;0>g.indexOf(a)&&g.push(a);if(0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var e=0;return a.transition().duration(c).each(function(){++e}).each("end",function(c,d){0===--e&&(a.__rendered=!0,f.renderEnd.apply(this,b))})};this.renderEnd=
function(){g.every(function(a){return a.__rendered})&&(g.forEach(function(a){a.__rendered=!1}),a.renderEnd.apply(this,arguments))}};c.utils.deepExtend=function(a){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(b){for(var d in b){var g=c.utils.isArray(a[d]),f=c.utils.isObject(a[d]),k=c.utils.isObject(b[d]);f&&!g&&k?c.utils.deepExtend(a[d],b[d]):a[d]=b[d]}})};c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},d=function(){return{}},
g=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(a){b(a,!0)});this.getter=function(a){d=a;return this};this.setter=function(a,c){c||(c=function(){});b=function(b,d){a(b);d&&c()};return this};this.init=function(a){g=g||{};c.utils.deepExtend(g,a)};this.update=function(){g&&(b(g,!1),g=null);var c=d();if(JSON.stringify(c)===JSON.stringify(a))c=!1;else{for(var k in c)void 0===a[k]&&(a[k]={}),a[k]=c[k];c=!0}c&&this.dispatch.change(a)}};c.utils.optionsFunc=function(a){a&&
d3.map(a).forEach(function(a,d){if(c.utils.isFunction(this[a]))this[a](d)}.bind(this));return this};c.utils.calcTicksX=function(a,b){for(var d=1,g=0;g<b.length;g+=1)var f=b[g]&&b[g].values?b[g].values.length:0,d=f>d?f:d;c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",d);a=a>d?a=d-1:a;a=Math.floor(1>a?1:a);c.log("Calculating tick count as: ",a);return a};c.utils.calcTicksY=function(a,b){for(var d=1,g=0;g<b.length;g+=1)for(var f=b[g]&&b[g].values?b[g].values:[],k,m=0;m<
f.length;m+=1)k=f[m]&&f[m].value?f[m].value:0,d=k>d?k:d;c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",d);a=a>d?a=d-1:a;a=Math.floor(1>a?1:a);c.log("Calculating tick count as: ",a);return a};c.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]=!0;a._options[b]=c;return a},a["_"+b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]||(a._options[b]=c);return a})};
c.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),d=Object.getOwnPropertyNames(a._calls||{}),b=b.concat(d),g;for(g in b)c.utils.initOption(a,b[g])};c.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]);c.unshift(b);c.unshift(a);d3.rebind.apply(this,c)};c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})};c.utils.symbolMap=d3.map();c.utils.symbol=function(){function a(a,f){var g=
b.call(this,a,f),m=d.call(this,a,f);return-1!==d3.svg.symbolTypes.indexOf(g)?d3.svg.symbol().type(g).size(m)():c.utils.symbolMap.get(g)(m)}var b,d=64;a.type=function(c){if(!arguments.length)return b;b=d3.functor(c);return a};a.size=function(b){if(!arguments.length)return d;d=d3.functor(b);return a};return a};c.utils.inheritOptions=function(a,b){var d=Object.getOwnPropertyNames(b._options||{}),g=Object.getOwnPropertyNames(b._calls||{}),f=b._inherited||[],k=b._d3options||[],m=d.concat(g).concat(f).concat(k);
m.unshift(b);m.unshift(a);d3.rebind.apply(this,m);a._inherited=c.utils.arrayUnique(d.concat(g).concat(f).concat(d).concat(a._inherited||[]));a._d3options=c.utils.arrayUnique(k.concat(a._d3options||[]))};c.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})};c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400};c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960};c.utils.availableHeight=function(a,b,d){return Math.max(0,c.utils.sanitizeHeight(a,
b)-d.top-d.bottom)};c.utils.availableWidth=function(a,b,d){return Math.max(0,c.utils.sanitizeWidth(a,b)-d.left-d.right)};c.utils.noData=function(a,b){var d=a.options(),g=d.margin(),d=d.noData(),d=null==d?["No Data Available."]:[d],f=c.utils.availableHeight(null,b,g),k=c.utils.availableWidth(null,b,g),k=g.left+k/2,g=g.top+f/2;b.selectAll("g").remove();d=b.selectAll(".nv-noData").data(d);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");d.attr("x",
k).attr("y",g).text(function(a){return a})};c.utils.wrapTicks=function(a,b){a.each(function(){for(var a=d3.select(this),c=a.text().split(/\s+/).reverse(),f,k=[],m=0,e=a.attr("y"),h=parseFloat(a.attr("dy")),n=a.text(null).append("tspan").attr("x",0).attr("y",e).attr("dy",h+"em");f=c.pop();)k.push(f),n.text(k.join(" ")),n.node().getComputedTextLength()>b&&(k.pop(),n.text(k.join(" ")),k=[f],n=a.append("tspan").attr("x",0).attr("y",e).attr("dy",1.1*++m+h+"em").text(f))})};c.utils.arrayEquals=function(a,
b){if(a===b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var d=0,g=a.length;d<g;d++)if(a[d]instanceof Array&&b[d]instanceof Array){if(!c.arrayEquals(a[d],b[d]))return!1}else if(a[d]!=b[d])return!1;return!0};c.models.axis=function(){function a(D){z.reset();D.each(function(a){var l=d3.select(this);c.utils.initSVG(l);a=l.selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");l=a.select("g");null!==u?b.ticks(u):"top"!=b.orient()&&"bottom"!=
b.orient()||b.ticks(Math.abs(d.range()[1]-d.range()[0])/100);l.watchTransition(z,"axis").call(b);y=y||b.scale();var D=b.tickFormat();null==D&&(D=y.tickFormat());var k=l.selectAll("text.nv-axislabel").data([m||null]);k.exit().remove();void 0!==r&&l.selectAll("g").select("text").style("font-size",r);switch(b.orient()){case "top":k.enter().append("text").attr("class","nv-axislabel");var x=0;1===d.range().length?x=t?2*d.range()[0]+d.rangeBand():0:2===d.range().length?x=t?d.range()[0]+d.range()[1]+d.rangeBand():
d.range()[1]:2<d.range().length&&(x=d.range()[d.range().length-1]+(d.range()[1]-d.range()[0]));k.attr("text-anchor","middle").attr("y",0).attr("x",x/2);if(e){var p=a.selectAll("g.nv-axisMaxMin").data(d.domain());p.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");p.exit().remove();p.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",
-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){var c=D(a);return(""+c).match("NaN")?"":c});p.watchTransition(z,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d.range()[b])+",0)"})}break;case "bottom":p=v+36;var B=30,J=0;x=l.selectAll("g").select("text");var H="";h%360?(x.attr("transform",""),x.each(function(a,b){var c=this.getBoundingClientRect(),d=c.width;J=c.height;d>B&&(B=d)}),H="rotate("+h+" 0,"+(J/2+b.tickPadding())+")",p=Math.abs(Math.sin(h*
Math.PI/180)),p=(p?p*B:B)+30,x.attr("transform",H).style("text-anchor",0<h%360?"start":"end")):q?x.attr("transform",function(a,b){return"translate(0,"+(0==b%2?"0":"12")+")"}):x.attr("transform","translate(0,0)");k.enter().append("text").attr("class","nv-axislabel");x=0;1===d.range().length?x=t?2*d.range()[0]+d.rangeBand():0:2===d.range().length?x=t?d.range()[0]+d.range()[1]+d.rangeBand():d.range()[1]:2<d.range().length&&(x=d.range()[d.range().length-1]+(d.range()[1]-d.range()[0]));k.attr("text-anchor",
"middle").attr("y",p).attr("x",x/2);e&&(p=a.selectAll("g.nv-axisMaxMin").data([d.domain()[0],d.domain()[d.domain().length-1]]),p.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),p.exit().remove(),p.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a)+(t?d.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",H).style("text-anchor",
h?0<h%360?"start":"end":"middle").text(function(a,b){var c=D(a);return(""+c).match("NaN")?"":c}),p.watchTransition(z,"min-max bottom").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a)+(t?d.rangeBand()/2:0))+",0)"}));break;case "right":k.enter().append("text").attr("class","nv-axislabel");k.style("text-anchor",n?"middle":"begin").attr("transform",n?"rotate(90)":"").attr("y",n?-Math.max(g.right,f)+12-(v||0):-10).attr("x",n?d3.max(d.range())/2:b.tickPadding());e&&(p=a.selectAll("g.nv-axisMaxMin").data(d.domain()),
p.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,b){var c=D(a);return(""+c).match("NaN")?"":c}),p.watchTransition(z,"min-max right").attr("transform",function(a,
b){return"translate(0,"+c.utils.NaNtoZero(d.range()[b])+")"}).select("text").style("opacity",1));break;case "left":k.enter().append("text").attr("class","nv-axislabel"),k.style("text-anchor",n?"middle":"end").attr("transform",n?"rotate(-90)":"").attr("y",n?-Math.max(g.left,f)+25-(v||0):-10).attr("x",n?-d3.max(d.range())/2:-b.tickPadding()),e&&(p=a.selectAll("g.nv-axisMaxMin").data(d.domain()),p.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",0==b?"nv-axisMin-y":
"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(y(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){var c=D(a);return(""+c).match("NaN")?"":c}),p.watchTransition(z,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d.range()[b])+")"}).select("text").style("opacity",1))}k.text(function(a){return a});
!e||"left"!==b.orient()&&"right"!==b.orient()||(l.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1);if(d(a)<d.range()[1]+10||d(a)>d.range()[0]-10)(1E-10<a||-1E-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),d.domain()[0]==d.domain()[1]&&0==d.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1}));if(e&&("top"===b.orient()||"bottom"===b.orient())){var F=[];a.selectAll("g.nv-axisMaxMin").each(function(a,
b){try{b?F.push(d(a)-this.getBoundingClientRect().width-4):F.push(d(a)+this.getBoundingClientRect().width+4)}catch(P){b?F.push(d(a)-4):F.push(d(a)+4)}});l.selectAll("g").each(function(a,b){if(d(a)<F[0]||d(a)>F[1])1E-10<a||-1E-10>a?d3.select(this).remove():d3.select(this).select("text").remove()})}l.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a)/1E6)&&void 0!==a}).classed("zero",!0);y=d.copy()});z.renderEnd("axis immediate");return a}var b=d3.svg.axis(),d=d3.scale.linear(),
g={top:0,right:0,bottom:0,left:0},f=75,k=60,m=null,e=!0,h=0,n=!0,q=!1,t=!1,u=null,v=0,r=void 0,w=250,C=d3.dispatch("renderEnd");b.scale(d).orient("bottom").tickFormat(function(a){return a});var y,z=c.utils.renderWatch(C,w);a.axis=b;a.dispatch=C;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{axisLabelDistance:{get:function(){return v},set:function(a){v=a}},staggerLabels:{get:function(){return q},set:function(a){q=a}},rotateLabels:{get:function(){return h},set:function(a){h=a}},
rotateYLabel:{get:function(){return n},set:function(a){n=a}},showMaxMin:{get:function(){return e},set:function(a){e=a}},axisLabel:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return k},set:function(a){k=a}},ticks:{get:function(){return u},set:function(a){u=a}},width:{get:function(){return f},set:function(a){f=a}},fontSize:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top;g.right=void 0!==a.right?
a.right:g.right;g.bottom=void 0!==a.bottom?a.bottom:g.bottom;g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return w},set:function(a){w=a;z.reset(w)}},scale:{get:function(){return d},set:function(e){d=e;b.scale(d);t="function"===typeof d.rangeBands;c.utils.inheritOptionsD3(a,d,["domain","range","rangeBand","rangeBands"])}}});c.utils.initOptions(a);c.utils.inheritOptionsD3(a,b,"orient tickValues tickSubdivide tickSize tickPadding tickFormat".split(" "));c.utils.inheritOptionsD3(a,
d,["domain","range","rangeBand","rangeBands"]);return a};c.models.boxPlot=function(){function a(F){H.reset();F.each(function(a){var F=d-b.left-b.right,f=g-b.top-b.bottom;D=d3.select(this);c.utils.initSVG(D);k.domain(l||a.map(function(a,b){return e(a,b)})).rangeBands(I||[0,F],.1);F=[];if(!G){var A=[];a.forEach(function(a,b){var c=h(a),d=q(a),F=t(a),l=u(a),e=r(a);e&&e.forEach(function(a,b){A.push(w(a,b,void 0))});F&&A.push(F);c&&A.push(c);d&&A.push(d);l&&A.push(l)});F=d3.min(A);var O=d3.max(A);F=[F,
O]}m.domain(G||F);m.range(M||[f,0]);J=J||m.copy().range([m(0),m(0)]);f=D.selectAll("g.nv-wrap").data([a]);f.enter().append("g").attr("class","nvd3 nv-wrap");f.attr("transform","translate("+b.left+","+b.top+")");var E=f.selectAll(".nv-boxplot").data(function(a){return a}),K=E.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);E.attr("class","nv-boxplot").attr("transform",function(a,b,c){return"translate("+(k(e(a,b))+.05*k.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover});
E.watchTransition(H,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(b,c){return c*p/a.length}).attr("transform",function(a,b){return"translate("+(k(e(a,b))+.05*k.rangeBand())+", 0)"});E.exit().remove();K.each(function(a,b){var c=d3.select(this);[t,u].forEach(function(d){void 0!==d(a)&&null!==d(a)&&(d=d===t?"low":"high",c.append("line").style("stroke",v(a)||z(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+d),c.append("line").style("stroke",v(a)||z(a,
b)).attr("class","nv-boxplot-tick nv-boxplot-"+d))})});var U=function(){return null===B?.9*k.rangeBand():Math.min(75,.9*k.rangeBand())},aa=function(){return.45*k.rangeBand()-U()/2},Z=function(){return.45*k.rangeBand()+U()/2};[t,u].forEach(function(a){var b=a===t?"low":"high",c=a===t?h:q;E.select("line.nv-boxplot-whisker.nv-boxplot-"+b).watchTransition(H,"nv-boxplot: boxplots").attr("x1",.45*k.rangeBand()).attr("y1",function(b,c){return m(a(b))}).attr("x2",.45*k.rangeBand()).attr("y2",function(a,b){return m(c(a))});
E.select("line.nv-boxplot-tick.nv-boxplot-"+b).watchTransition(H,"nv-boxplot: boxplots").attr("x1",aa).attr("y1",function(b,c){return m(a(b))}).attr("x2",Z).attr("y2",function(b,c){return m(a(b))})});[t,u].forEach(function(a){K.selectAll(".nv-boxplot-"+(a===t?"low":"high")).on("mouseover",function(b,c,d){d3.select(this).classed("hover",!0);x.elementMouseover({series:{key:a(b),color:v(b)||z(b,d)},e:d3.event})}).on("mouseout",function(b,c,d){d3.select(this).classed("hover",!1);x.elementMouseout({series:{key:a(b),
color:v(b)||z(b,d)},e:d3.event})}).on("mousemove",function(a,b){x.elementMousemove({e:d3.event})})});K.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",!0);x.elementMouseover({key:e(a),value:e(a),series:[{key:"Q3",value:q(a),color:v(a)||z(a,b)},{key:"Q2",value:n(a),color:v(a)||z(a,b)},{key:"Q1",value:h(a),color:v(a)||z(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);x.elementMouseout({key:e(a),
value:e(a),series:[{key:"Q3",value:q(a),color:v(a)||z(a,b)},{key:"Q2",value:n(a),color:v(a)||z(a,b)},{key:"Q1",value:h(a),color:v(a)||z(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(a,b){x.elementMousemove({e:d3.event})});E.select("rect.nv-boxplot-box").watchTransition(H,"nv-boxplot: boxes").attr("y",function(a,b){return m(q(a))}).attr("width",U).attr("x",aa).attr("height",function(a,b){return Math.abs(m(q(a))-m(h(a)))||1}).style("fill",function(a,b){return v(a)||z(a,b)}).style("stroke",
function(a,b){return v(a)||z(a,b)});K.append("line").attr("class","nv-boxplot-median");E.select("line.nv-boxplot-median").watchTransition(H,"nv-boxplot: boxplots line").attr("x1",aa).attr("y1",function(a,b){return m(n(a))}).attr("x2",Z).attr("y2",function(a,b){return m(n(a))});f=E.selectAll(".nv-boxplot-outlier").data(function(a){return r(a)||[]});f.enter().append("circle").style("fill",function(a,b,c){return y(a,b,c)||z(a,c)}).style("stroke",function(a,b,c){return y(a,b,c)||z(a,c)}).style("z-index",
9E3).on("mouseover",function(a,b,c){d3.select(this).classed("hover",!0);x.elementMouseover({series:{key:C(a,b,c),color:y(a,b,c)||z(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",!1);x.elementMouseout({series:{key:C(a,b,c),color:y(a,b,c)||z(a,c)},e:d3.event})}).on("mousemove",function(a,b){x.elementMousemove({e:d3.event})});f.attr("class","nv-boxplot-outlier");f.watchTransition(H,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*k.rangeBand()).attr("cy",function(a,
b,c){return m(w(a,b,c))}).attr("r","3");f.exit().remove();k.copy();J=m.copy()});H.renderEnd("nv-boxplot immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=Math.floor(1E4*Math.random()),k=d3.scale.ordinal(),m=d3.scale.linear(),e=function(a){return a.label},h=function(a){return a.values.Q1},n=function(a){return a.values.Q2},q=function(a){return a.values.Q3},t=function(a){return a.values.whisker_low},u=function(a){return a.values.whisker_high},v=function(a){return a.color},r=function(a){return a.values.outliers},
w=function(a,b,c){return a},C=function(a,b,c){return a},y=function(a,b,c){},z=c.utils.defaultColor(),D=null,l,I,G,M,x=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),p=250,B=null,J,H=c.utils.renderWatch(x,p);a.dispatch=x;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},maxBoxWidth:{get:function(){return B},set:function(a){B=a}},x:{get:function(){return e},
set:function(a){e=a}},q1:{get:function(){return h},set:function(a){h=a}},q2:{get:function(){return n},set:function(a){n=a}},q3:{get:function(){return q},set:function(a){q=a}},wl:{get:function(){return t},set:function(a){t=a}},wh:{get:function(){return u},set:function(a){u=a}},itemColor:{get:function(){return v},set:function(a){v=a}},outliers:{get:function(){return r},set:function(a){r=a}},outlierValue:{get:function(){return w},set:function(a){w=a}},outlierLabel:{get:function(){return C},set:function(a){C=
a}},outlierColor:{get:function(){return y},set:function(a){y=a}},xScale:{get:function(){return k},set:function(a){k=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return l},set:function(a){l=a}},yDomain:{get:function(){return G},set:function(a){G=a}},xRange:{get:function(){return I},set:function(a){I=a}},yRange:{get:function(){return M},set:function(a){M=a}},id:{get:function(){return f},set:function(a){f=a}},y:{get:function(){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.");
return{}},set:function(a){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a)}},duration:{get:function(){return p},set:function(a){p=a;H.reset(p)}}});c.utils.initOptions(a);return a};
c.models.boxPlotChart=function(){function a(e){z.reset();z.models(b);h&&z.models(d);n&&z.models(g);e.each(function(l){var e=d3.select(this);c.utils.initSVG(e);var D=(k||parseInt(e.style("width"))||960)-f.left-f.right,z=(m||parseInt(e.style("height"))||400)-f.top-f.bottom;a.update=function(){C.beforeUpdate();e.transition().duration(y).call(a)};a.container=this;if(l&&l.length)e.selectAll(".nv-noData").remove();else return l=e.selectAll(".nv-noData").data([w]),l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy",
"-.7em").style("text-anchor","middle"),l.attr("x",f.left+D/2).attr("y",f.top+z/2).text(function(a){return a}),a;v=b.xScale();r=b.yScale().clamp(!0);var x=e.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([l]),p=x.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),B=p.append("defs"),x=x.select("g");p.append("g").attr("class","nv-x nv-axis");p.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");p.append("g").attr("class","nv-barsWrap");
x.attr("transform","translate("+f.left+","+f.top+")");q&&x.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)");b.width(D).height(z);x.select(".nv-barsWrap").datum(l.filter(function(a){return!a.disabled})).transition().call(b);B.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");x.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",v.rangeBand()*(t?2:1)).attr("height",16).attr("x",-v.rangeBand()/(t?1:2));h&&(d.scale(v).ticks(c.utils.calcTicksX(D/100,l)).tickSize(-z,
0),x.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),x.select(".nv-x.nv-axis").call(d),l=x.select(".nv-x.nv-axis").selectAll("g"),t&&l.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(0===c%2?"5":"17")+")"}));n&&(g.scale(r).ticks(Math.floor(z/36)).tickSize(-D,0),x.select(".nv-y.nv-axis").call(g));x.select(".nv-zeroLine line").attr("x1",0).attr("x2",D).attr("y1",r(0)).attr("y2",r(0))});z.renderEnd("nv-boxplot chart immediate");return a}var b=c.models.boxPlot(),
d=c.models.axis(),g=c.models.axis(),f={top:15,right:10,bottom:50,left:60},k=null,m=null,e=c.utils.getColor(),h=!0,n=!0,q=!1,t=!1,u=c.models.tooltip(),v,r,w="No Data Available.",C=d3.dispatch("beforeUpdate","renderEnd"),y=250;d.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a});g.orient(q?"right":"left").tickFormat(d3.format(",.1f"));u.duration(0);var z=c.utils.renderWatch(C,y);b.dispatch.on("elementMouseover.tooltip",function(a){u.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",
function(a){u.data(a).hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){u()});a.dispatch=C;a.boxplot=b;a.xAxis=d;a.yAxis=g;a.tooltip=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return m},set:function(a){m=a}},staggerLabels:{get:function(){return t},set:function(a){t=a}},showXAxis:{get:function(){return h},set:function(a){h=a}},showYAxis:{get:function(){return n},set:function(a){n=
a}},tooltipContent:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top;f.right=void 0!==a.right?a.right:f.right;f.bottom=void 0!==a.bottom?a.bottom:f.bottom;f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return y},set:function(a){y=a;z.reset(y);b.duration(y);d.duration(y);g.duration(y)}},color:{get:function(){return e},set:function(a){e=c.utils.getColor(a);
b.color(e)}},rightAlignYAxis:{get:function(){return q},set:function(a){q=a;g.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.bullet=function(){function a(a,b){var c=a.slice();a.sort(function(a,d){var l=c.indexOf(a),e=c.indexOf(d);return d3.descending(b[l],b[e])})}function b(g){g.each(function(b,l){var g=n-d.left-d.right,D=q-d.top-d.bottom;t=d3.select(this);c.utils.initSVG(t);var z=k.call(this,b,l).slice(),x=m.call(this,b,l).slice(),p=(b.markerLines?
b.markerLines:[0]).slice(),B=e.call(this,b,l).slice(),J=(b.rangeLabels?b.rangeLabels:[]).slice(),H=(b.markerLabels?b.markerLabels:[]).slice(),F=(b.markerLineLabels?b.markerLineLabels:[]).slice(),A=(b.measureLabels?b.measureLabels:[]).slice();a(J,z);a(H,x);a(F,p);a(A,B);z.sort(d3.descending);x.sort(d3.descending);p.sort(d3.descending);B.sort(d3.descending);var L=d3.scale.linear().domain(d3.extent(d3.merge([h,z]))).range(f?[g,0]:[0,g]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(L.range());
this.__chart__=L;d3.min(z);d3.max(z);var g=t.selectAll("g.nv-wrap.nv-bullet").data([b]),u=g.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),N=g.select("g");l=0;for(var O=z.length;l<O;l++){var E="nv-range nv-range"+l;2>=l&&(E=E+" nv-range"+C[l]);u.append("rect").attr("class",E)}u.append("rect").attr("class","nv-measure");g.attr("transform","translate("+d.left+","+d.top+")");l=0;for(O=z.length;l<O;l++)E=z[l],N.select("rect.nv-range"+l).datum(E).attr("height",D).transition().duration(y).attr("width",
Math.abs(L(E)-L(0))).attr("x",0>E?L(E):L(0));N.select("rect.nv-measure").style("fill",v).attr("height",D/3).attr("y",D/3).on("mouseover",function(){r.elementMouseover({value:B[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){r.elementMousemove({value:B[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){r.elementMouseout({value:B[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(y).attr("width",
0>B?L(0)-L(B[0]):L(B[0])-L(0)).attr("x",0>B?L(B):L(0));z=D/6;x=x.map(function(a,b){return{value:a,label:H[b]}});u.selectAll("path.nv-markerTriangle").data(x).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+z+"L"+z+","+-z+" "+-z+","+-z+"Z").on("mouseover",function(a){r.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[L(a.value),D/2]})}).on("mousemove",function(a){r.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",
function(a,b){r.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});N.selectAll("path.nv-markerTriangle").data(x).transition().duration(y).attr("transform",function(a){return"translate("+L(a.value)+","+D/2+")"});p=p.map(function(a,b){return{value:a,label:F[b]}});u.selectAll("line.nv-markerLine").data(p).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(a){return L(a.value)}).attr("y1","2").attr("x2",function(a){return L(a.value)}).attr("y2",
D-2).on("mouseover",function(a){r.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[L(a.value),D/2]})}).on("mousemove",function(a){r.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){r.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});N.selectAll("line.nv-markerLine").data(p).transition().duration(y).attr("x1",function(a){return L(a.value)}).attr("x2",
function(a){return L(a.value)});g.selectAll(".nv-range").on("mouseover",function(a,b){r.elementMouseover({value:a,label:J[b]||w[b],color:d3.select(this).style("fill")})}).on("mousemove",function(){r.elementMousemove({value:B[0],label:A[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){r.elementMouseout({value:a,label:J[b]||w[b],color:d3.select(this).style("fill")})})});return b}var d={top:0,right:0,bottom:0,left:0},g="left",f=!1,k=function(a){return a.ranges},m=function(a){return a.markers?
a.markers:[]},e=function(a){return a.measures},h=[0],n=380,q=30,t=null,u=null,v=c.utils.getColor(["#1f77b4"]),r=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),w=["Maximum","Mean","Minimum"],C=["Max","Avg","Min"],y=1E3;b.dispatch=r;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{ranges:{get:function(){return k},set:function(a){k=a}},markers:{get:function(){return m},set:function(a){m=a}},measures:{get:function(){return e},set:function(a){e=a}},forceX:{get:function(){return h},
set:function(a){h=a}},width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return q},set:function(a){q=a}},tickFormat:{get:function(){return u},set:function(a){u=a}},duration:{get:function(){return y},set:function(a){y=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top;d.right=void 0!==a.right?a.right:d.right;d.bottom=void 0!==a.bottom?a.bottom:d.bottom;d.left=void 0!==a.left?a.left:d.left}},orient:{get:function(){return g},set:function(a){g=
a;f="right"==g||"bottom"==g}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a)}}});c.utils.initOptions(b);return b};c.models.bulletChart=function(){function a(d){d.each(function(g,y){var w=d3.select(this);c.utils.initSVG(w);var D=c.utils.availableWidth(n,w,k),l=q-k.top-k.bottom;a.update=function(){a(d)};a.container=this;if(g&&m.call(this,g,y))w.selectAll(".nv-noData").remove();else return c.utils.noData(a,w),a;var I=m.call(this,g,y).slice().sort(d3.descending),G=e.call(this,g,
y).slice().sort(d3.descending),C=h.call(this,g,y).slice().sort(d3.descending),x=w.selectAll("g.nv-wrap.nv-bulletChart").data([g]),p=x.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),w=x.select("g");p.append("g").attr("class","nv-bulletWrap");p.append("g").attr("class","nv-titles");x.attr("transform","translate("+k.left+","+k.top+")");var B=d3.scale.linear().domain([0,Math.max(I[0],G[0]||0,C[0])]).range(f?[D,0]:[0,D]),J=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(B.range());
this.__chart__=B;I=p.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(q-k.top-k.bottom)/2+")");I.append("text").attr("class","nv-title").text(function(a){return a.title});I.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(D).height(l);I=w.select(".nv-bulletWrap");d3.transition(I).call(b);var H=t||B.tickFormat(D/100),D=w.selectAll("g.nv-tick").data(B.ticks(u?u:D/50),function(a){return this.textContent||
H(a)}),w=D.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+J(a)+",0)"}).style("opacity",1E-6);w.append("line").attr("y1",l).attr("y2",7*l/6);w.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*l/6).text(H);w=d3.transition(D).transition().duration(b.duration()).attr("transform",function(a){return"translate("+B(a)+",0)"}).style("opacity",1);w.select("line").attr("y1",l).attr("y2",7*l/6);w.select("text").attr("y",7*l/6);d3.transition(D.exit()).transition().duration(b.duration()).attr("transform",
function(a){return"translate("+B(a)+",0)"}).style("opacity",1E-6).remove()});d3.timer.flush();return a}var b=c.models.bullet(),d=c.models.tooltip(),g="left",f=!1,k={top:5,right:40,bottom:20,left:120},m=function(a){return a.ranges},e=function(a){return a.markers?a.markers:[]},h=function(a){return a.measures},n=null,q=55,t=null,u=null,v=null,r=d3.dispatch();d.duration(0).headerEnabled(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color};d.data(a).hidden(!1)});
b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){d()});a.bullet=b;a.dispatch=r;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return m},set:function(a){m=a}},markers:{get:function(){return e},set:function(a){e=a}},measures:{get:function(){return h},set:function(a){h=a}},width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return q},set:function(a){q=
a}},tickFormat:{get:function(){return t},set:function(a){t=a}},ticks:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top;k.right=void 0!==a.right?a.right:k.right;k.bottom=void 0!==a.bottom?a.bottom:k.bottom;k.left=void 0!==a.left?a.left:k.left}},orient:{get:function(){return g},set:function(a){g=a;f="right"==g||"bottom"==g}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);
return a};c.models.candlestickBar=function(){function a(p){p.each(function(a){k=d3.select(this);var p=c.utils.availableWidth(d,k,b),H=c.utils.availableHeight(g,k,b);c.utils.initSVG(k);var F=p/a[0].values.length*.45;m.domain(l||d3.extent(a[0].values.map(h).concat(r)));C?m.range(G||[.5*p/a[0].values.length,p*(a[0].values.length-.5)/a[0].values.length]):m.range(G||[5+F/2,p-F/2-5]);e.domain(I||[d3.min(a[0].values.map(v).concat(w)),d3.max(a[0].values.map(u).concat(w))]).range(M||[H,0]);m.domain()[0]===
m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));a=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]);var A=a.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),B=A.append("defs"),A=A.append("g"),D=a.select("g");A.append("g").attr("class","nv-ticks");
a.attr("transform","translate("+b.left+","+b.top+")");k.on("click",function(a,b){x.chartClick({data:a,index:b,pos:d3.event,id:f})});B.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");a.select("#nv-chart-clip-path-"+f+" rect").attr("width",p).attr("height",H);D.attr("clip-path",y?"url(#nv-chart-clip-path-"+f+")":"");p=a.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});p.exit().remove();H=p.enter().append("g");p.attr("class",function(a,b,c){return(q(a,b)>t(a,
b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});H.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+m(h(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return e(u(a,b))}).attr("x2",0).attr("y2",function(a,b){return e(v(a,b))});H.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(m(h(a,b))-F/2)+","+(e(n(a,b))-(q(a,b)>t(a,b)?e(t(a,b))-e(q(a,b)):0))+")"}).attr("x",0).attr("y",
0).attr("width",F).attr("height",function(a,b){var c=q(a,b),d=t(a,b);return c>d?e(d)-e(c):e(c)-e(d)});p.select(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+m(h(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return e(u(a,b))}).attr("x2",0).attr("y2",function(a,b){return e(v(a,b))});p.select(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(m(h(a,b))-F/2)+","+(e(n(a,b))-(q(a,b)>t(a,b)?e(t(a,b))-e(q(a,b)):0))+")"}).attr("x",
0).attr("y",0).attr("width",F).attr("height",function(a,b){var c=q(a,b),d=t(a,b);return c>d?e(d)-e(c):e(c)-e(d)})});return a}var b={top:0,right:0,bottom:0,left:0},d=null,g=null,f=Math.floor(1E4*Math.random()),k,m=d3.scale.linear(),e=d3.scale.linear(),h=function(a){return a.x},n=function(a){return a.y},q=function(a){return a.open},t=function(a){return a.close},u=function(a){return a.high},v=function(a){return a.low},r=[],w=[],C=!1,y=!0,z=c.utils.defaultColor(),D=!1,l,I,G,M,x=d3.dispatch("stateChange",
"changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();k.select(".nv-candlestickBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){k.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)};a.dispatch=x;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},
set:function(a){g=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return l},set:function(a){l=a}},yDomain:{get:function(){return I},set:function(a){I=a}},xRange:{get:function(){return G},set:function(a){G=a}},yRange:{get:function(){return M},set:function(a){M=a}},forceX:{get:function(){return r},set:function(a){r=a}},forceY:{get:function(){return w},set:function(a){w=a}},padData:{get:function(){return C},set:function(a){C=
a}},clipEdge:{get:function(){return y},set:function(a){y=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return D},set:function(a){D=a}},x:{get:function(){return h},set:function(a){h=a}},y:{get:function(){return n},set:function(a){n=a}},open:{get:function(){return q()},set:function(a){q=a}},close:{get:function(){return t()},set:function(a){t=a}},high:{get:function(){return u},set:function(a){u=a}},low:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return b},
set:function(a){b.top=void 0!=a.top?a.top:b.top;b.right=void 0!=a.right?a.right:b.right;b.bottom=void 0!=a.bottom?a.bottom:b.bottom;b.left=void 0!=a.left?a.left:b.left}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.cumulativeLineChart=function(){function a(A){N.reset();N.models(d);w&&N.models(g);C&&N.models(f);A.each(function(A){function U(){ca.data([P]);var b=a.duration();a.duration(0);a.update();a.duration(b)}var h=d3.select(this);
c.utils.initSVG(h);h.classed("nv-chart-"+M,!0);var B=c.utils.availableWidth(u,h,n),K=c.utils.availableHeight(v,h,n);a.update=function(){0===F?h.call(a):h.transition().duration(F).call(a)};a.container=this;x.setter(E(A),a.update).getter(O(A)).update();x.disabled=A.map(function(a){return!!a.disabled});if(!p)for(aa in p={},x)p[aa]=x[aa]instanceof Array?x[aa].slice(0):x[aa];var aa=d3.behavior.drag().on("dragstart",function(b,c){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(a,
b){P.x=d3.event.x;P.i=Math.round(L.invert(P.x));U()}).on("dragend",function(b,c){d3.select(a.container).style("cursor","auto");x.index=P.i;H.stateChange(x)});if(A&&A.length&&A.filter(function(a){return a.values.length}).length)h.selectAll(".nv-noData").remove();else return c.utils.noData(a,h),a;I=d.xScale();G=d.yScale();if(l)d.yDomain(null);else{var N=A.filter(function(a){return!a.disabled}).map(function(a,b){var c=d3.extent(a.values,d.y());-.95>c[0]&&(c[0]=-.95);return[(c[0]-c[1])/(1+c[1]),(c[1]-
c[0])/(1+c[0])]}),N=[d3.min(N,function(a){return a[0]}),d3.max(N,function(a){return a[1]})];d.yDomain(N)}L.domain([0,A[0].values.length-1]).range([0,B]).clamp(!0);A=b(P.i,A);var Y=D?"none":"all",R=h.selectAll("g.nv-wrap.nv-cumulativeLine").data([A]),S=R.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),N=R.select("g");S.append("g").attr("class","nv-interactive");S.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");S.append("g").attr("class","nv-y nv-axis");
S.append("g").attr("class","nv-background");S.append("g").attr("class","nv-linesWrap").style("pointer-events",Y);S.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");S.append("g").attr("class","nv-legendWrap");S.append("g").attr("class","nv-controlsWrap");r?(k.width(B),N.select(".nv-legendWrap").datum(A).call(k),q||k.height()===n.top||(n.top=k.height(),K=c.utils.availableHeight(v,h,n)),N.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")):N.select(".nv-legendWrap").selectAll("*").remove();
z?(Y=[{key:"Re-scale y-axis",disabled:!l}],m.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),N.select(".nv-controlsWrap").datum(Y).attr("transform","translate(0,"+-n.top+")").call(m)):N.select(".nv-controlsWrap").selectAll("*").remove();R.attr("transform","translate("+n.left+","+n.top+")");y&&N.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)");Y=A.filter(function(a){return a.tempDisabled});R.select(".tempDisabled").remove();Y.length&&R.append("text").attr("class",
"tempDisabled").attr("x",B/2).attr("y","-.71em").style("text-anchor","end").text(Y.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");D&&(e.width(B).height(K).margin({left:n.left,top:n.top}).svgContainer(h).xScale(I),R.select(".nv-interactive").call(e));S.select(".nv-background").append("rect");N.select(".nv-background rect").attr("width",B).attr("height",K);d.y(function(a){return a.display.y}).width(B).height(K).color(A.map(function(a,b){return a.color||
t(a,b)}).filter(function(a,b){return!A[b].disabled&&!A[b].tempDisabled}));R=N.select(".nv-linesWrap").datum(A.filter(function(a){return!a.disabled&&!a.tempDisabled}));R.call(d);A.forEach(function(a,b){a.seriesIndex=b});S=A.filter(function(a){return!a.disabled&&!!J(a)});S=N.select(".nv-avgLinesWrap").selectAll("line").data(S,function(a){return a.key});Y=function(a){a=G(J(a));return 0>a?0:a>K?K:a};S.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,
b){return d.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",B).attr("y1",Y).attr("y2",Y);S.style("stroke-opacity",function(a){a=G(J(a));return 0>a||a>K?0:1}).attr("x1",0).attr("x2",B).attr("y1",Y).attr("y2",Y);S.exit().remove();var ca=R.selectAll(".nv-indexLine").data([P]);ca.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(aa);ca.attr("transform",function(a){return"translate("+L(a.i)+",0)"}).attr("height",
K);w&&(g.scale(I)._ticks(c.utils.calcTicksX(B/70,A)).tickSize(-K,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+G.range()[0]+")"),N.select(".nv-x.nv-axis").call(g));C&&(f.scale(G)._ticks(c.utils.calcTicksY(K/36,A)).tickSize(-B,0),N.select(".nv-y.nv-axis").call(f));N.select(".nv-background rect").on("click",function(){P.x=d3.mouse(this)[0];P.i=Math.round(L.invert(P.x));x.index=P.i;H.stateChange(x);U()});d.dispatch.on("elementClick",function(a){P.i=a.pointIndex;P.x=L(P.i);x.index=P.i;
H.stateChange(x);U()});m.dispatch.on("legendClick",function(b,c){b.disabled=!b.disabled;l=!b.disabled;x.rescaleY=l;H.stateChange(x);a.update()});k.dispatch.on("stateChange",function(b){for(var c in b)x[c]=b[c];H.stateChange(x);a.update()});e.dispatch.on("elementMousemove",function(b){d.clearHighlights();var l,E,F,H=[];A.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,A){E=c.interactiveBisect(e.values,b.pointXValue,a.x());d.highlightPoint(A,E,!0);var f=e.values[E];"undefined"!==
typeof f&&("undefined"===typeof l&&(l=f),"undefined"===typeof F&&(F=a.xScale()(a.x()(f,E))),H.push({key:e.key,value:a.y()(f,E),color:t(e,e.seriesIndex)}))});if(2<H.length){var p=a.yScale().invert(b.mouseY),y=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),p=c.nearestValueIndex(H.map(function(a){return a.value}),p,y);null!==p&&(H[p].highlight=!0)}p=g.tickFormat()(a.x()(l,E),E);e.tooltip.valueFormatter(function(a,b){return f.tickFormat()(a)}).data({value:p,series:H})();e.renderGuideLine(F)});
e.dispatch.on("elementMouseout",function(a){d.clearHighlights()});H.on("changeState",function(b){"undefined"!==typeof b.disabled&&(A.forEach(function(a,c){a.disabled=b.disabled[c]}),x.disabled=b.disabled);"undefined"!==typeof b.index&&(P.i=b.index,P.x=L(P.i),x.index=b.index,ca.data([P]));"undefined"!==typeof b.rescaleY&&(l=b.rescaleY);a.update()})});N.renderEnd("cumulativeLineChart immediate");return a}function b(a,b){K||(K=d.y());return b.map(function(b,c){if(!b.values)return b;var d=b.values[a];
if(null==d)return b;var l=K(d,a);if(-.95>l&&!A)return b.tempDisabled=!0,b;b.tempDisabled=!1;b.values=b.values.map(function(a,b){a.display={y:(K(a,b)-l)/(1+l)};return a});return b})}var d=c.models.line(),g=c.models.axis(),f=c.models.axis(),k=c.models.legend(),m=c.models.legend(),e=c.interactiveGuideline(),h=c.models.tooltip(),n={top:30,right:30,bottom:50,left:60},q=null,t=c.utils.defaultColor(),u=null,v=null,r=!0,w=!0,C=!0,y=!1,z=!0,D=!1,l=!0,I,G,M=d.id(),x=c.utils.state(),p=null,B=null,J=function(a){return a.average},
H=d3.dispatch("stateChange","changeState","renderEnd"),F=250,A=!1;x.index=0;x.rescaleY=l;g.orient("bottom").tickPadding(7);f.orient(y?"right":"left");h.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)});m.updateState(!1);var L=d3.scale.linear(),P={i:0,x:0},N=c.utils.renderWatch(H,F),O=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:P.i,rescaleY:l}}},E=function(a){return function(b){void 0!==b.index&&
(P.i=b.index);void 0!==b.rescaleY&&(l=b.rescaleY);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};d.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),y:a.y()(b.point),color:b.point.color};b.point=c;h.data(b).hidden(!1)});d.dispatch.on("elementMouseout.tooltip",function(a){h.hidden(!0)});var K=null;a.dispatch=H;a.lines=d;a.legend=k;a.controls=m;a.xAxis=g;a.yAxis=f;a.interactiveLayer=e;a.state=x;a.tooltip=h;a.options=c.utils.optionsFunc.bind(a);a._options=
Object.create({},{width:{get:function(){return u},set:function(a){u=a}},height:{get:function(){return v},set:function(a){v=a}},rescaleY:{get:function(){return l},set:function(a){l=a}},showControls:{get:function(){return z},set:function(a){z=a}},showLegend:{get:function(){return r},set:function(a){r=a}},average:{get:function(){return J},set:function(a){J=a}},defaultState:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return B},set:function(a){B=a}},showXAxis:{get:function(){return w},
set:function(a){w=a}},showYAxis:{get:function(){return C},set:function(a){C=a}},noErrorCheck:{get:function(){return A},set:function(a){A=a}},margin:{get:function(){return n},set:function(a){void 0!==a.top&&(q=n.top=a.top);n.right=void 0!==a.right?a.right:n.right;n.bottom=void 0!==a.bottom?a.bottom:n.bottom;n.left=void 0!==a.left?a.left:n.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);k.color(t)}},useInteractiveGuideline:{get:function(){return D},set:function(b){D=b;!0===
b&&(a.interactive(!1),a.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(a){y=a;f.orient(a?"right":"left")}},duration:{get:function(){return F},set:function(a){F=a;d.duration(F);g.duration(F);f.duration(F);N.reset(F)}}});c.utils.inheritOptions(a,d);c.utils.initOptions(a);return a};c.models.discreteBar=function(){function a(l){G.reset();l.each(function(a){var l=d-b.left-b.right,f=g-b.top-b.bottom;k=d3.select(this);c.utils.initSVG(k);a.forEach(function(a,b){a.values.forEach(function(a){a.series=
b})});var x=r&&w?[]:a.map(function(a){return a.values.map(function(a,b){return{x:h(a,b),y:n(a,b),y0:a.y0}})});m.domain(r||d3.merge(x).map(function(a){return a.x})).rangeBands(C||[0,l],.1);e.domain(w||d3.extent(d3.merge(x).map(function(a){return a.y}).concat(q)));u?e.range(y||[f-(0>e.domain()[0]?12:0),0<e.domain()[1]?12:0]):e.range(y||[f,0]);I=I||e.copy().range([e(0),e(0)]);l=k.selectAll("g.nv-wrap.nv-discretebar").data([a]);f=l.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");
l.select("g");f.append("g").attr("class","nv-groups");l.attr("transform","translate("+b.left+","+b.top+")");l=l.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});l.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);l.exit().watchTransition(G,"discreteBar: exit groups").style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();l.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});
l.watchTransition(G,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);l=l.selectAll("g.nv-bar").data(function(a){return a.values});l.exit().remove();f=l.enter().append("g").attr("transform",function(a,b,c){return"translate("+(m(h(a,b))+.05*m.rangeBand())+", "+e(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);z.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);z.elementMouseout({data:a,
index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){z.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){z.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this});d3.event.stopPropagation()}).on("dblclick",function(a,b){z.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});f.append("rect").attr("height",0).attr("width",.9*m.rangeBand()/a.length);
u?(f.append("text").attr("text-anchor","middle"),l.select("text").text(function(a,b){return v(n(a,b))}).watchTransition(G,"discreteBar: bars text").attr("x",.9*m.rangeBand()/2).attr("y",function(a,b){return 0>n(a,b)?e(n(a,b))-e(0)+12:-4})):l.selectAll("text").remove();l.attr("class",function(a,b){return 0>n(a,b)?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||t(a,b)}).style("stroke",function(a,b){return a.color||t(a,b)}).select("rect").attr("class",D).watchTransition(G,
"discreteBar: bars rect").attr("width",.9*m.rangeBand()/a.length);l.watchTransition(G,"discreteBar: bars").attr("transform",function(a,b){var c=m(h(a,b))+.05*m.rangeBand(),d=0>n(a,b)?e(0):1>e(0)-e(n(a,b))?e(0)-1:e(n(a,b));return"translate("+c+", "+d+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(e(n(a,b))-e(0)),1)});m.copy();I=e.copy()});G.renderEnd("discreteBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=Math.floor(1E4*Math.random()),k,m=d3.scale.ordinal(),
e=d3.scale.linear(),h=function(a){return a.x},n=function(a){return a.y},q=[0],t=c.utils.defaultColor(),u=!1,v=d3.format(",.2f"),r,w,C,y,z=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D="discreteBar",l=250,I,G=c.utils.renderWatch(z,l);a.dispatch=z;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=
a}},forceY:{get:function(){return q},set:function(a){q=a}},showValues:{get:function(){return u},set:function(a){u=a}},x:{get:function(){return h},set:function(a){h=a}},y:{get:function(){return n},set:function(a){n=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return r},set:function(a){r=a}},yDomain:{get:function(){return w},set:function(a){w=a}},xRange:{get:function(){return C},set:function(a){C=a}},yRange:{get:function(){return y},
set:function(a){y=a}},valueFormat:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return f},set:function(a){f=a}},rectClass:{get:function(){return D},set:function(a){D=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a)}},duration:{get:function(){return l},
set:function(a){l=a;G.reset(l)}}});c.utils.initOptions(a);return a};c.models.discreteBarChart=function(){function a(l){M.reset();M.models(b);u&&M.models(d);v&&M.models(g);l.each(function(l){var p=d3.select(this);c.utils.initSVG(p);var k=c.utils.availableWidth(h,p,m),x=c.utils.availableHeight(n,p,m);a.update=function(){I.beforeUpdate();p.transition().duration(G).call(a)};a.container=this;if(l&&l.length&&l.filter(function(a){return a.values.length}).length)p.selectAll(".nv-noData").remove();else return c.utils.noData(a,
p),a;z=b.xScale();D=b.yScale().clamp(!0);var F=p.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([l]),A=F.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),L=A.append("defs"),q=F.select("g");A.append("g").attr("class","nv-x nv-axis");A.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");A.append("g").attr("class","nv-barsWrap");A.append("g").attr("class","nv-legendWrap");q.attr("transform","translate("+m.left+","+m.top+
")");t?(f.width(k),q.select(".nv-legendWrap").datum(l).call(f),e||f.height()===m.top||(m.top=f.height(),x=c.utils.availableHeight(n,p,m)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")):q.select(".nv-legendWrap").selectAll("*").remove();r&&q.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)");b.width(k).height(x);q.select(".nv-barsWrap").datum(l.filter(function(a){return!a.disabled})).transition().call(b);L.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");
q.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",z.rangeBand()*(w?2:1)).attr("height",16).attr("x",-z.rangeBand()/(w?1:2));u&&(d.scale(z)._ticks(c.utils.calcTicksX(k/100,l)).tickSize(-x,0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+(D.range()[0]+(b.showValues()&&0>D.domain()[0]?16:0))+")"),q.select(".nv-x.nv-axis").call(d),F=q.select(".nv-x.nv-axis").selectAll("g"),w&&F.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(0==c%2?"5":"17")+")"}),y&&F.selectAll(".tick text").attr("transform",
"rotate("+y+" 0,0)").style("text-anchor",0<y?"start":"end"),C&&q.selectAll(".tick text").call(c.utils.wrapTicks,a.xAxis.rangeBand()));v&&(g.scale(D)._ticks(c.utils.calcTicksY(x/36,l)).tickSize(-k,0),q.select(".nv-y.nv-axis").call(g));q.select(".nv-zeroLine line").attr("x1",0).attr("x2",r?-k:k).attr("y1",D(0)).attr("y2",D(0))});M.renderEnd("discreteBar chart immediate");return a}var b=c.models.discreteBar(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend(),k=c.models.tooltip(),m={top:15,right:10,
bottom:50,left:60},e=null,h=null,n=null,q=c.utils.getColor(),t=!1,u=!0,v=!0,r=!1,w=!1,C=!1,y=0,z,D,l=null,I=d3.dispatch("beforeUpdate","renderEnd"),G=250;d.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a});g.orient(r?"right":"left").tickFormat(d3.format(",.1f"));k.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).keyFormatter(function(a,b){return d.tickFormat()(a,b)});var M=c.utils.renderWatch(I,G);b.dispatch.on("elementMouseover.tooltip",function(b){b.series=
{key:a.x()(b.data),value:a.y()(b.data),color:b.color};k.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){k()});a.dispatch=I;a.discretebar=b;a.legend=f;a.xAxis=d;a.yAxis=g;a.tooltip=k;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return t},set:function(a){t=
a}},staggerLabels:{get:function(){return w},set:function(a){w=a}},rotateLabels:{get:function(){return y},set:function(a){y=a}},wrapLabels:{get:function(){return C},set:function(a){C=!!a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return l},set:function(a){l=a}},margin:{get:function(){return m},set:function(a){void 0!==a.top&&(e=m.top=a.top);m.right=void 0!==a.right?a.right:m.right;m.bottom=void 0!==a.bottom?
a.bottom:m.bottom;m.left=void 0!==a.left?a.left:m.left}},duration:{get:function(){return G},set:function(a){G=a;M.reset(G);b.duration(G);d.duration(G);g.duration(G)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a);b.color(q);f.color(q)}},rightAlignYAxis:{get:function(){return r},set:function(a){r=a;g.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.distribution=function(){function a(d){t.reset();d.each(function(a){var d="x"==
f?"y":"x",h=d3.select(this);c.utils.initSVG(h);q=q||e;a=h.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");h=a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");a=h.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return m(a,b)});h=a.selectAll("line.nv-dist"+f).data(function(a){return a.values});
h.enter().append("line").attr(f+"1",function(a,b){return q(k(a,b))}).attr(f+"2",function(a,b){return q(k(a,b))});t.transition(a.exit().selectAll("line.nv-dist"+f),"dist exit").attr(f+"1",function(a,b){return e(k(a,b))}).attr(f+"2",function(a,b){return e(k(a,b))}).style("stroke-opacity",0).remove();h.attr("class",function(a,b){return"nv-dist"+f+" nv-dist"+f+"-"+b}).attr(d+"1",0).attr(d+"2",g);t.transition(h,"dist").attr(f+"1",function(a,b){return e(k(a,b))}).attr(f+"2",function(a,b){return e(k(a,b))});
q=e.copy()});t.renderEnd("distribution immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=400,g=8,f="x",k=function(a){return a[f]},m=c.utils.defaultColor(),e=d3.scale.linear(),h=250,n=d3.dispatch("renderEnd"),q,t=c.utils.renderWatch(n,h);a.options=c.utils.optionsFunc.bind(a);a.dispatch=n;a.margin=function(c){if(!arguments.length)return b;b.top="undefined"!=typeof c.top?c.top:b.top;b.right="undefined"!=typeof c.right?c.right:b.right;b.bottom="undefined"!=typeof c.bottom?c.bottom:b.bottom;
b.left="undefined"!=typeof c.left?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return d;d=b;return a};a.axis=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return g;g=b;return a};a.getData=function(b){if(!arguments.length)return k;k=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return e;e=b;return a};a.color=function(b){if(!arguments.length)return m;m=c.utils.getColor(b);return a};a.duration=function(b){if(!arguments.length)return h;
h=b;t.reset(h);return a};return a};c.models.focus=function(a){function b(D){z.reset();z.models(a);n&&z.models(d);q&&z.models(g);D.each(function(l){function D(){f.empty()||f.extent(r);F.data([f.empty()?u.domain():r]).each(function(a,b){var c=u(a[0])-u.range()[0],d=x-u(a[1]);d3.select(this).select(".left").attr("width",0>c?0:c);d3.select(this).select(".right").attr("x",u(a[1])).attr("width",0>d?0:d)})}function G(a){r=f.empty()?null:f.extent();var b=f.empty()?u.domain():f.extent();C.brush({extent:b,
brush:f});D();if(a)C.onBrush(b)}var z=d3.select(this);c.utils.initSVG(z);var x=c.utils.availableWidth(e,z,k),p=h-k.top-k.bottom;b.update=function(){0===w?z.call(b):z.transition().duration(w).call(b)};b.container=this;u=a.xScale();v=a.yScale();var B=z.selectAll("g.nv-focus").data([l]),J=B.enter().append("g").attr("class","nvd3 nv-focus").append("g"),H=B.select("g");B.attr("transform","translate("+k.left+","+k.top+")");J.append("g").attr("class","nv-background").append("rect");J.append("g").attr("class",
"nv-x nv-axis");J.append("g").attr("class","nv-y nv-axis");J.append("g").attr("class","nv-contentWrap");J.append("g").attr("class","nv-brushBackground");J.append("g").attr("class","nv-x nv-brush");t&&H.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)");H.select(".nv-background rect").attr("width",x).attr("height",p);a.width(x).height(p).color(l.map(function(a,b){return a.color||m(a,b)}).filter(function(a,b){return!l[b].disabled}));B=H.select(".nv-contentWrap").datum(l.filter(function(a){return!a.disabled}));
d3.transition(B).call(a);f.x(u).on("brush",function(){G(y)});f.on("brushend",function(){if(!y)C.onBrush(f.empty()?u.domain():f.extent())});r&&f.extent(r);var F=H.select(".nv-brushBackground").selectAll("g").data([r||f.extent()]),B=F.enter().append("g");B.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",p);B.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",p);B=H.select(".nv-x.nv-brush").call(f);B.selectAll("rect").attr("height",p);B.selectAll(".resize").append("path").attr("d",
function(a){var b=(a=+("e"==a))?1:-1,c=p/3;return"M"+.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});G(!0);H.select(".nv-background rect").attr("width",x).attr("height",p);n&&(d.scale(u)._ticks(c.utils.calcTicksX(x/100,l)).tickSize(-p,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")"),d3.transition(H.select(".nv-x.nv-axis")).call(d));q&&(g.scale(v)._ticks(c.utils.calcTicksY(p/
36,l)).tickSize(-x,0),d3.transition(H.select(".nv-y.nv-axis")).call(g));H.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")")});z.renderEnd("focus immediate");return b}a=a||c.models.line();var d=c.models.axis(),g=c.models.axis(),f=d3.svg.brush(),k={top:10,right:0,bottom:30,left:0},m=c.utils.defaultColor(),e=null,h=70,n=!0,q=!1,t=!1,u,v,r=null,w=250,C=d3.dispatch("brush","onBrush","renderEnd"),y=!0;a.interactive(!1);a.pointActive(function(a){return!1});var z=c.utils.renderWatch(C,
w);b.dispatch=C;b.content=a;b.brush=f;b.xAxis=d;b.yAxis=g;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return h},set:function(a){h=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return q},set:function(a){q=a}},brushExtent:{get:function(){return r},set:function(a){r=a}},syncBrushing:{get:function(){return y},set:function(a){y=a}},margin:{get:function(){return k},
set:function(a){k.top=void 0!==a.top?a.top:k.top;k.right=void 0!==a.right?a.right:k.right;k.bottom=void 0!==a.bottom?a.bottom:k.bottom;k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return w},set:function(b){w=b;z.reset(w);a.duration(w);d.duration(w);g.duration(w)}},color:{get:function(){return m},set:function(b){m=c.utils.getColor(b);a.color(m)}},interpolate:{get:function(){return a.interpolate()},set:function(b){a.interpolate(b)}},xTickFormat:{get:function(){return d.tickFormat()},
set:function(a){d.tickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a)}},x:{get:function(){return a.x()},set:function(b){a.x(b)}},y:{get:function(){return a.y()},set:function(b){a.y(b)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a;g.orient(t?"right":"left")}}});c.utils.inheritOptions(b,a);c.utils.initOptions(b);return b};c.models.forceDirectedGraph=function(){function a(l){D.reset();l.each(function(l){f=d3.select(this);c.utils.initSVG(f);
var h=c.utils.availableWidth(d,f,b),k=c.utils.availableHeight(g,f,b);f.attr("width",h).attr("height",k);if(l&&l.links&&l.nodes)f.selectAll(".nv-noData").remove();else return c.utils.noData(a,f),a;f.selectAll("*").remove();var x=new Set;l.nodes.forEach(function(a){Object.keys(a).forEach(function(a){x.add(a)})});var h=d3.layout.force().nodes(l.nodes).links(l.links).size([h,k]).linkStrength(n).friction(q).linkDistance(t).charge(u).gravity(v).theta(r).alpha(w).start(),p=f.selectAll(".link").data(l.links).enter().append("line").attr("class",
"nv-force-link").style("stroke-width",function(a){return Math.sqrt(a.value)}),B=f.selectAll(".node").data(l.nodes).enter().append("g").attr("class","nv-force-node").call(h.drag);B.append("circle").attr("r",C).style("fill",function(a){return m(a)}).on("mouseover",function(a){f.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.py);f.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.px);var b=m(a);a.series=[];x.forEach(function(c){a.series.push({color:b,
key:c,value:a[c]})});e.data(a).hidden(!1)}).on("mouseout",function(a){e.hidden(!0)});e.headerFormatter(function(a){return"Node"});z(p);y(B);h.on("tick",function(){p.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y});B.attr("transform",function(a){return"translate("+a.x+", "+a.y+")"})})});return a}var b={top:2,right:0,bottom:2,left:0},d=400,g=32,f=null,k=d3.dispatch("renderEnd"),m=c.utils.getColor(["#000"]),
e=c.models.tooltip(),h=null,n=.1,q=.9,t=30,u=-120,v=.1,r=.8,w=.1,C=5,y=function(a){},z=function(a){},D=c.utils.renderWatch(k);a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},linkStrength:{get:function(){return n},set:function(a){n=a}},friction:{get:function(){return q},set:function(a){q=a}},linkDist:{get:function(){return t},set:function(a){t=a}},charge:{get:function(){return u},
set:function(a){u=a}},gravity:{get:function(){return v},set:function(a){v=a}},theta:{get:function(){return r},set:function(a){r=a}},alpha:{get:function(){return w},set:function(a){w=a}},radius:{get:function(){return C},set:function(a){C=a}},x:{get:function(){return getX},set:function(a){getX=d3.functor(a)}},y:{get:function(){return getY},set:function(a){getY=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=
void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}},noData:{get:function(){return h},set:function(a){h=a}},nodeExtras:{get:function(){return y},set:function(a){y=a}},linkExtras:{get:function(){return z},set:function(a){z=a}}});a.dispatch=k;a.tooltip=e;c.utils.initOptions(a);return a};c.models.furiousLegend=function(){function a(C){function y(a,b){if("furious"!=w)return"#000";if(v)return a.disengaged?m(a,
b):"#fff";if(!v)return a.disabled?m(a,b):"#fff"}function z(a,b){return v&&"furious"==w?a.disengaged?"#fff":m(a,b):a.disabled?"#fff":m(a,b)}C.each(function(a){var l=d-b.left-b.right,I=d3.select(this);c.utils.initSVG(I);I=I.selectAll("g.nv-legend").data([a]);I.enter().append("g").attr("class","nvd3 nv-legend").append("g");a=I.select("g");I.attr("transform","translate("+b.left+","+b.top+")");var G=a.selectAll(".nv-series").data(function(a){return"furious"!=w?a:a.filter(function(a){return v?!0:!a.disengaged})}),
I=G.enter().append("g").attr("class","nv-series");if("classic"==w){I.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);var D=G.select("circle")}else"furious"==w&&(I.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),D=G.select("rect"),I.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform",
"translate(-10,-8)scale(0.5)"),G.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",y(a,b))}));I.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var x=G.select("text.nv-legend-text");G.on("mouseover",function(a,b){r.legendMouseover(a,b)}).on("mouseout",function(a,b){r.legendMouseout(a,b)}).on("click",function(a,b){r.legendClick(a,b);var c=G.data();t&&("classic"==w?u?(c.forEach(function(a){a.disabled=
!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1})):"furious"==w&&(v?(a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled):v||(a.disabled=!a.disabled,a.userDisabled=a.disabled,c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1}))),r.stateChange({disabled:c.map(function(a){return!!a.disabled}),
disengaged:c.map(function(a){return!!a.disengaged})}))}).on("dblclick",function(a,b){if("furious"!=w||!v)if(r.legendDblclick(a,b),t){var c=G.data();c.forEach(function(a){a.disabled=!0;"furious"==w&&(a.userDisabled=a.disabled)});a.disabled=!1;"furious"==w&&(a.userDisabled=a.disabled);r.stateChange({disabled:c.map(function(a){return!!a.disabled})})}});G.classed("nv-disabled",function(a){return a.userDisabled});G.exit().remove();x.attr("fill",y).text(function(a){return k(f(a))});switch(w){case "furious":var p=
23;break;case "classic":p=20}if(h){var B=[];G.each(function(a,b){if(k(f(a))&&k(f(a)).length>e){var d=k(f(a)).substring(0,e);d=d3.select(this).select("text").text(d+"...");d3.select(this).append("svg:title").text(k(f(a)))}else d=d3.select(this).select("text");try{var l=d.node().getComputedTextLength();if(0>=l)throw Error();}catch(Z){l=c.utils.calcApproxTextWidth(d)}B.push(l+n)});for(var J=0,H=0,I=[];H<l&&J<B.length;)I[J]=B[J],H+=B[J++];for(0===J&&(J=1);H>l&&1<J;){I=[];J--;for(H=0;H<B.length;H++)B[H]>
(I[H%J]||0)&&(I[H%J]=B[H]);H=I.reduce(function(a,b,c,d){return a+b})}for(var F=[],A=l=0;l<J;l++)F[l]=A,A+=I[l];G.attr("transform",function(a,b){return"translate("+F[b%J]+","+(5+Math.floor(b/J)*p)+")"});q?a.attr("transform","translate("+(d-b.right-H)+","+b.top+")"):a.attr("transform","translate(0,"+b.top+")");g=b.top+b.bottom+Math.ceil(B.length/J)*p}else{var L=5,C=5,N=0,O;G.attr("transform",function(a,c){var l=d3.select(this).select("text").node().getComputedTextLength()+n;O=C;d<b.left+b.right+O+l&&
(C=O=5,L+=p);C+=l;C>N&&(N=C);return"translate("+O+","+L+")"});a.attr("transform","translate("+(d-b.right-N)+","+b.top+")");g=b.top+b.bottom+L+15}"furious"==w&&D.attr("width",function(a,b){return x[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);D.style("fill",z).style("stroke",function(a,b){return a.color||m(a,b)})});return a}var b={top:5,right:0,bottom:5,left:0},d=400,g=20,f=function(a){return a.key},k=function(a){return a},m=c.utils.getColor(),e=20,h=!0,n=28,q=!0,
t=!0,u=!1,v=!1,r=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),w="classic";a.dispatch=r;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},key:{get:function(){return f},set:function(a){f=a}},keyFormatter:{get:function(){return k},set:function(a){k=a}},align:{get:function(){return h},set:function(a){h=a}},rightAlign:{get:function(){return q},
set:function(a){q=a}},maxKeyLength:{get:function(){return e},set:function(a){e=a}},padding:{get:function(){return n},set:function(a){n=a}},updateState:{get:function(){return t},set:function(a){t=a}},radioButtonMode:{get:function(){return u},set:function(a){u=a}},expanded:{get:function(){return v},set:function(a){v=a}},vers:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=
void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBar=function(){function a(G){G.each(function(a){I.reset();k=d3.select(this);var x=c.utils.availableWidth(d,k,b),p=c.utils.availableHeight(g,k,b);c.utils.initSVG(k);m.domain(w||d3.extent(a[0].values.map(h).concat(q)));u?m.range(y||[.5*x/a[0].values.length,x*(a[0].values.length-.5)/a[0].values.length]):
m.range(y||[0,x]);e.domain(C||d3.extent(a[0].values.map(n).concat(t))).range(z||[p,0]);m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));var B=k.selectAll("g.nv-wrap.nv-historicalBar-"+f).data([a[0].values]),G=B.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+
f),H=G.append("defs"),G=G.append("g"),F=B.select("g");G.append("g").attr("class","nv-bars");B.attr("transform","translate("+b.left+","+b.top+")");k.on("click",function(a,b){D.chartClick({data:a,index:b,pos:d3.event,id:f})});H.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");B.select("#nv-chart-clip-path-"+f+" rect").attr("width",x).attr("height",p);F.attr("clip-path",v?"url(#nv-chart-clip-path-"+f+")":"");p=B.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,
b){return h(a,b)});p.exit().remove();p.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(e(Math.max(0,n(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(e(n(a,b))-e(0)))}).attr("transform",function(b,c){return"translate("+(m(h(b,c))-x/a[0].values.length*.45)+",0)"}).on("mouseover",function(a,b){l&&(d3.select(this).classed("hover",!0),D.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mouseout",function(a,b){l&&(d3.select(this).classed("hover",
!1),D.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mousemove",function(a,b){l&&D.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){l&&(D.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())}).on("dblclick",function(a,b){l&&(D.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())});p.attr("fill",function(a,
b){return r(a,b)}).attr("class",function(a,b,c){return(0>n(a,b)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(I,"bars").attr("transform",function(b,c){return"translate("+(m(h(b,c))-x/a[0].values.length*.45)+",0)"}).attr("width",x/a[0].values.length*.9);p.watchTransition(I,"bars").attr("y",function(a,b){var d=0>n(a,b)?e(0):1>e(0)-e(n(a,b))?e(0)-1:e(n(a,b));return c.utils.NaNtoZero(d)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(e(n(a,b))-e(0)),
1))})});I.renderEnd("historicalBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=null,g=null,f=Math.floor(1E4*Math.random()),k=null,m=d3.scale.linear(),e=d3.scale.linear(),h=function(a){return a.x},n=function(a){return a.y},q=[],t=[0],u=!1,v=!0,r=c.utils.defaultColor(),w,C,y,z,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),l=!0,I=c.utils.renderWatch(D,0);a.highlightPoint=function(a,b){k.select(".nv-bars .nv-bar-0-"+
a).classed("hover",b)};a.clearHighlights=function(){k.select(".nv-bars .nv-bar.hover").classed("hover",!1)};a.dispatch=D;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return q},set:function(a){q=a}},forceY:{get:function(){return t},set:function(a){t=a}},padData:{get:function(){return u},set:function(a){u=a}},x:{get:function(){return h},set:function(a){h=
a}},y:{get:function(){return n},set:function(a){n=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return w},set:function(a){w=a}},yDomain:{get:function(){return C},set:function(a){C=a}},xRange:{get:function(){return y},set:function(a){y=a}},yRange:{get:function(){return z},set:function(a){z=a}},clipEdge:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return l},
set:function(a){l=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBarChart=function(a){function b(a){a.each(function(e){p.reset();p.models(d);r&&p.models(g);w&&p.models(f);var H=d3.select(this);c.utils.initSVG(H);
var F=c.utils.availableWidth(t,H,h),A=c.utils.availableHeight(u,H,h);b.update=function(){H.transition().duration(x).call(b)};b.container=this;l.disabled=e.map(function(a){return!!a.disabled});if(!I)for(G in I={},l)I[G]=l[G]instanceof Array?l[G].slice(0):l[G];if(e&&e.length&&e.filter(function(a){return a.values.length}).length)H.selectAll(".nv-noData").remove();else return c.utils.noData(b,H),b;z=d.xScale();D=d.yScale();var B=H.selectAll("g.nv-wrap.nv-historicalBarChart").data([e]);var G=B.enter().append("g").attr("class",
"nvd3 nv-wrap nv-historicalBarChart").append("g");var J=B.select("g");G.append("g").attr("class","nv-x nv-axis");G.append("g").attr("class","nv-y nv-axis");G.append("g").attr("class","nv-barsWrap");G.append("g").attr("class","nv-legendWrap");G.append("g").attr("class","nv-interactive");v?(k.width(F),J.select(".nv-legendWrap").datum(e).call(k),n||k.height()===h.top||(h.top=k.height(),A=c.utils.availableHeight(u,H,h)),B.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")):J.select(".nv-legendWrap").selectAll("*").remove();
B.attr("transform","translate("+h.left+","+h.top+")");C&&J.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)");y&&(m.width(F).height(A).margin({left:h.left,top:h.top}).svgContainer(H).xScale(z),B.select(".nv-interactive").call(m));d.width(F).height(A).color(e.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!e[b].disabled}));J.select(".nv-barsWrap").datum(e.filter(function(a){return!a.disabled})).transition().call(d);r&&(g.scale(z)._ticks(c.utils.calcTicksX(F/100,e)).tickSize(-A,
0),J.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")"),J.select(".nv-x.nv-axis").transition().call(g));w&&(f.scale(D)._ticks(c.utils.calcTicksY(A/36,e)).tickSize(-F,0),J.select(".nv-y.nv-axis").transition().call(f));m.dispatch.on("elementMousemove",function(a){d.clearHighlights();var l,A,h,F=[];e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,f){A=c.interactiveBisect(e.values,a.pointXValue,b.x());d.highlightPoint(A,!0);var g=e.values[A];void 0!==
g&&(void 0===l&&(l=g),void 0===h&&(h=b.xScale()(b.x()(g,A))),F.push({key:e.key,value:b.y()(g,A),color:q(e,e.seriesIndex),data:e.values[A]}))});var k=g.tickFormat()(b.x()(l,A));m.tooltip.valueFormatter(function(a,b){return f.tickFormat()(a)}).data({value:k,index:A,series:F})();m.renderGuideLine(h)});m.dispatch.on("elementMouseout",function(a){M.tooltipHide();d.clearHighlights()});k.dispatch.on("legendClick",function(c,d){c.disabled=!c.disabled;e.filter(function(a){return!a.disabled}).length||e.map(function(a){a.disabled=
!1;B.selectAll(".nv-series").classed("disabled",!1);return a});l.disabled=e.map(function(a){return!!a.disabled});M.stateChange(l);a.transition().call(b)});k.dispatch.on("legendDblclick",function(a){e.forEach(function(a){a.disabled=!0});a.disabled=!1;l.disabled=e.map(function(a){return!!a.disabled});M.stateChange(l);b.update()});M.on("changeState",function(a){"undefined"!==typeof a.disabled&&(e.forEach(function(b,c){b.disabled=a.disabled[c]}),l.disabled=a.disabled);b.update()})});p.renderEnd("historicalBarChart immediate");
return b}var d=a||c.models.historicalBar(),g=c.models.axis(),f=c.models.axis(),k=c.models.legend(),m=c.interactiveGuideline(),e=c.models.tooltip(),h={top:30,right:90,bottom:50,left:90},n=null,q=c.utils.defaultColor(),t=null,u=null,v=!1,r=!0,w=!0,C=!1,y=!1,z,D,l={},I=null,G=null,M=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),x=250;g.orient("bottom").tickPadding(7);f.orient(C?"right":"left");e.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,
b){return g.tickFormat()(a,b)});var p=c.utils.renderWatch(M,0);d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color};e.data(a).hidden(!1)});d.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)});d.dispatch.on("elementMousemove.tooltip",function(a){e()});b.dispatch=M;b.bars=d;b.legend=k;b.xAxis=g;b.yAxis=f;b.interactiveLayer=m;b.tooltip=e;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{width:{get:function(){return t},
set:function(a){t=a}},height:{get:function(){return u},set:function(a){u=a}},showLegend:{get:function(){return v},set:function(a){v=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},defaultState:{get:function(){return I},set:function(a){I=a}},noData:{get:function(){return G},set:function(a){G=a}},margin:{get:function(){return h},set:function(a){void 0!==a.top&&(n=h.top=a.top);h.right=void 0!==a.right?a.right:h.right;h.bottom=void 0!==
a.bottom?a.bottom:h.bottom;h.left=void 0!==a.left?a.left:h.left}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a);k.color(q);d.color(q)}},duration:{get:function(){return x},set:function(a){x=a;p.reset(x);f.duration(x);g.duration(x)}},rightAlignYAxis:{get:function(){return C},set:function(a){C=a;f.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(a){y=a;!0===a&&b.interactive(!1)}}});c.utils.inheritOptions(b,d);c.utils.initOptions(b);return b};
c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());a.useInteractiveGuideline(!0);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+
a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.candlestickBarChart=function(){var a=c.models.historicalBarChart(c.models.candlestickBar());a.useInteractiveGuideline(!0);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+
a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.legend=function(){function a(C){function y(a,b){if("furious"!=w)return"#000";if(v)return a.disengaged?"#000":"#fff";if(!v)return a.color||(a.color=m(a,b)),a.disabled?a.color:"#fff"}function z(a,b){return v&&"furious"==w?a.disengaged?"#eee":a.color||m(a,b):a.color||m(a,b)}function D(a,b){return v&&"furious"==w?1:a.disabled?0:1}C.each(function(a){var l=d-b.left-b.right,
m=d3.select(this);c.utils.initSVG(m);var C=m.selectAll("g.nv-legend").data([a]);a=C.enter().append("g").attr("class","nvd3 nv-legend").append("g");m=C.select("g");q?C.attr("transform","translate("+-b.right+","+b.top+")"):C.attr("transform","translate("+b.left+","+b.top+")");var x=m.selectAll(".nv-series").data(function(a){return"furious"!=w?a:a.filter(function(a){return v?!0:!a.disengaged})}),C=x.enter().append("g").attr("class","nv-series");switch(w){case "furious":var p=23;break;case "classic":p=
20}if("classic"==w){C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);var B=x.select(".nv-legend-symbol")}else"furious"==w&&(C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),B=x.select(".nv-legend-symbol"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform",
"translate(-10,-8)scale(0.5)"),x.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",y(a,b))}));C.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var J=x.select("text.nv-legend-text");x.on("mouseover",function(a,b){r.legendMouseover(a,b)}).on("mouseout",function(a,b){r.legendMouseout(a,b)}).on("click",function(a,b){r.legendClick(a,b);var c=x.data();t&&("classic"==w?u?(c.forEach(function(a){a.disabled=
!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1})):"furious"==w&&(v?(a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled):v||(a.disabled=!a.disabled,a.userDisabled=a.disabled,c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1}))),r.stateChange({disabled:c.map(function(a){return!!a.disabled}),
disengaged:c.map(function(a){return!!a.disengaged})}))}).on("dblclick",function(a,b){if("furious"!=w||!v)if(r.legendDblclick(a,b),t){var c=x.data();c.forEach(function(a){a.disabled=!0;"furious"==w&&(a.userDisabled=a.disabled)});a.disabled=!1;"furious"==w&&(a.userDisabled=a.disabled);r.stateChange({disabled:c.map(function(a){return!!a.disabled})})}});x.classed("nv-disabled",function(a){return a.userDisabled});x.exit().remove();J.attr("fill",y).text(function(a){return k(f(a))});var H=0;if(h){var F=
[];x.each(function(a,b){if(k(f(a))&&k(f(a)).length>e){var d=k(f(a)).substring(0,e);d=d3.select(this).select("text").text(d+"...");d3.select(this).append("svg:title").text(k(f(a)))}else d=d3.select(this).select("text");try{var l=d.node().getComputedTextLength();if(0>=l)throw Error();}catch(T){l=c.utils.calcApproxTextWidth(d)}F.push(l+n)});for(var A=0,C=[],H=0;H<l&&A<F.length;)C[A]=F[A],H+=F[A++];for(0===A&&(A=1);H>l&&1<A;){C=[];A--;for(var L=0;L<F.length;L++)F[L]>(C[L%A]||0)&&(C[L%A]=F[L]);H=C.reduce(function(a,
b,c,d){return a+b})}for(var P=[],L=l=0;l<A;l++)P[l]=L,L+=C[l];x.attr("transform",function(a,b){return"translate("+P[b%A]+","+(5+Math.floor(b/A)*p)+")"});q?m.attr("transform","translate("+(d-b.right-H)+","+b.top+")"):m.attr("transform","translate(0,"+b.top+")");g=b.top+b.bottom+Math.ceil(F.length/A)*p}else{var N=5,O=5,E=0,K;x.attr("transform",function(a,c){var e=d3.select(this).select("text").node().getComputedTextLength()+n;K=O;d<b.left+b.right+K+e&&(O=K=5,N+=p);O+=e;O>E&&(E=O);H<K+E&&(H=K+E);return"translate("+
K+","+N+")"});m.attr("transform","translate("+(d-b.right-E)+","+b.top+")");g=b.top+b.bottom+N+15}"furious"==w&&(B.attr("width",function(a,b){return J[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),a.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),m.select(".nv-legend-bg").transition().duration(300).attr("x",-p).attr("width",H+p-12).attr("height",g+10).attr("y",-b.top-10).attr("opacity",v?1:0));B.style("fill",z).style("fill-opacity",
D).style("stroke",z)});return a}var b={top:5,right:0,bottom:5,left:0},d=400,g=20,f=function(a){return a.key},k=function(a){return a},m=c.utils.getColor(),e=20,h=!0,n=32,q=!0,t=!0,u=!1,v=!1,r=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),w="classic";a.dispatch=r;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},key:{get:function(){return f},
set:function(a){f=a}},keyFormatter:{get:function(){return k},set:function(a){k=a}},align:{get:function(){return h},set:function(a){h=a}},maxKeyLength:{get:function(){return e},set:function(a){e=a}},rightAlign:{get:function(){return q},set:function(a){q=a}},padding:{get:function(){return n},set:function(a){n=a}},updateState:{get:function(){return t},set:function(a){t=a}},radioButtonMode:{get:function(){return u},set:function(a){u=a}},expanded:{get:function(){return v},set:function(a){v=a}},vers:{get:function(){return w},
set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.line=function(){function a(l){D.reset();D.models(b);l.each(function(a){k=d3.select(this);var l=c.utils.availableWidth(g,k,d),I=c.utils.availableHeight(f,k,d);
c.utils.initSVG(k);u=b.xScale();v=b.yScale();y=y||u;z=z||v;a=k.selectAll("g.nv-wrap.nv-line").data([a]);var x=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),p=x.append("defs"),B=x.append("g"),x=a.select("g");B.append("g").attr("class","nv-groups");B.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+d.left+","+d.top+")");b.width(l).height(I);B=a.select(".nv-scatterWrap");B.call(b);p.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+
b.id()+" rect").attr("width",l).attr("height",0<I?I:0);x.attr("clip-path",t?"url(#nv-edge-clip-"+b.id()+")":"");B.attr("clip-path",t?"url(#nv-edge-clip-"+b.id()+")":"");l=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});l.enter().append("g").style("stroke-opacity",1E-6).style("stroke-width",function(a){return a.strokeWidth||1.5}).style("fill-opacity",1E-6);l.exit().remove();l.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+
b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return m(a,b)}).style("stroke",function(a,b){return m(a,b)});l.watchTransition(D,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||.5});I=l.selectAll("path.nv-area").data(function(a){return q(a)?[a]:[]});I.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(r).defined(n).x(function(a,b){return c.utils.NaNtoZero(y(e(a,b)))}).y0(function(a,
b){return c.utils.NaNtoZero(z(h(a,b)))}).y1(function(a,b){return z(0>=v.domain()[0]?0<=v.domain()[1]?0:v.domain()[1]:v.domain()[0])}).apply(this,[a.values])});l.exit().selectAll("path.nv-area").remove();I.watchTransition(D,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(r).defined(n).x(function(a,b){return c.utils.NaNtoZero(u(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(v(h(a,b)))}).y1(function(a,b){return v(0>=v.domain()[0]?0<=v.domain()[1]?0:v.domain()[1]:v.domain()[0])}).apply(this,
[a.values])});l=l.selectAll("path.nv-line").data(function(a){return[a.values]});l.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(r).defined(n).x(function(a,b){return c.utils.NaNtoZero(y(e(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(z(h(a,b)))}));l.watchTransition(D,"line: linePaths").attr("d",d3.svg.line().interpolate(r).defined(n).x(function(a,b){return c.utils.NaNtoZero(u(e(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(v(h(a,b)))}));y=u.copy();z=v.copy()});
D.renderEnd("line immediate");return a}var b=c.models.scatter(),d={top:0,right:0,bottom:0,left:0},g=960,f=500,k=null,m=c.utils.defaultColor(),e=function(a){return a.x},h=function(a){return a.y},n=function(a,b){return!isNaN(h(a,b))&&null!==h(a,b)},q=function(a){return a.area},t=!1,u,v,r="linear",w=250,C=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");b.pointSize(16).pointDomain([16,256]);var y,z,D=c.utils.renderWatch(C,w);a.dispatch=C;a.scatter=b;b.dispatch.on("elementClick",
function(){C.elementClick.apply(this,arguments)});b.dispatch.on("elementMouseover",function(){C.elementMouseover.apply(this,arguments)});b.dispatch.on("elementMouseout",function(){C.elementMouseout.apply(this,arguments)});a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return f},set:function(a){f=a}},defined:{get:function(){return n},set:function(a){n=a}},interpolate:{get:function(){return r},set:function(a){r=
a}},clipEdge:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top;d.right=void 0!==a.right?a.right:d.right;d.bottom=void 0!==a.bottom?a.bottom:d.bottom;d.left=void 0!==a.left?a.left:d.left}},duration:{get:function(){return w},set:function(a){w=a;D.reset(w);b.duration(w)}},isArea:{get:function(){return q},set:function(a){q=d3.functor(a)}},x:{get:function(){return e},set:function(a){e=a;b.x(a)}},y:{get:function(){return h},
set:function(a){h=a;b.y(a)}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a);b.color(m)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineChart=function(){function a(A){J.reset();J.models(b);w&&J.models(d);C&&J.models(g);A.each(function(A){function m(){w&&V.select(".nv-focus .nv-x.nv-axis").transition().duration(B).call(d)}function x(){C&&V.select(".nv-focus .nv-y.nv-axis").transition().duration(B).call(g)}function O(a){V.select(".nv-focus .nv-linesWrap").datum(A.filter(function(a){return!a.disabled}).map(function(c,
d){return{key:c.key,area:c.area,classed:c.classed,values:c.values.filter(function(c,d){return b.x()(c,d)>=a[0]&&b.x()(c,d)<=a[1]}),disableTooltip:c.disableTooltip}})).transition().duration(B).call(b);m();x()}var E=d3.select(this);c.utils.initSVG(E);var K=c.utils.availableWidth(t,E,h),U=c.utils.availableHeight(u,E,h)-(I?e.height():0);a.update=function(){0===B?E.call(a):E.transition().duration(B).call(a)};a.container=this;G.setter(F(A),a.update).getter(H(A)).update();G.disabled=A.map(function(a){return!!a.disabled});
if(!M)for(J in M={},G)M[J]=G[J]instanceof Array?G[J].slice(0):G[J];if(A&&A.length&&A.filter(function(a){return a.values.length}).length)E.selectAll(".nv-noData").remove();else return c.utils.noData(a,E),a;e.dispatch.on("onBrush",function(a){O(a)});D=b.xScale();l=b.yScale();var J=E.selectAll("g.nv-wrap.nv-lineChart").data([A]);var L=J.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),V=J.select("g");L.append("g").attr("class","nv-legendWrap");var T=L.append("g").attr("class",
"nv-focus");T.append("g").attr("class","nv-background").append("rect");T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-linesWrap");T.append("g").attr("class","nv-interactive");L.append("g").attr("class","nv-focusWrap");v?(f.width(K),V.select(".nv-legendWrap").datum(A).call(f),"bottom"===r?J.select(".nv-legendWrap").attr("transform","translate(0,"+U+")"):"top"===r&&(n||f.height()===h.top||(h.top=f.height(),U=c.utils.availableHeight(u,
E,h)-(I?e.height():0)),J.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")"))):V.select(".nv-legendWrap").selectAll("*").remove();J.attr("transform","translate("+h.left+","+h.top+")");y&&V.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)");z&&(k.width(K).height(U).margin({left:h.left,top:h.top}).svgContainer(E).xScale(D),J.select(".nv-interactive").call(k));V.select(".nv-focus .nv-background rect").attr("width",K).attr("height",U);b.width(K).height(U).color(A.map(function(a,
b){return a.color||q(a,b)}).filter(function(a,b){return!A[b].disabled}));J=V.select(".nv-linesWrap").datum(A.filter(function(a){return!a.disabled}));w&&d.scale(D)._ticks(c.utils.calcTicksX(K/100,A)).tickSize(-U,0);C&&g.scale(l)._ticks(c.utils.calcTicksY(U/36,A)).tickSize(-K,0);V.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+U+")");I?(e.width(K),V.select(".nv-focusWrap").attr("transform","translate(0,"+(U+h.bottom+e.margin().top)+")").datum(A.filter(function(a){return!a.disabled})).call(e),
K=e.brush.empty()?e.xDomain():e.brush.extent(),null!==K&&O(K)):(J.call(b),m(),x());f.dispatch.on("stateChange",function(b){for(var c in b)G[c]=b[c];p.stateChange(G);a.update()});k.dispatch.on("elementMousemove",function(d){b.clearHighlights();var l,f,h,E=[];A.filter(function(a,b){a.seriesIndex=b;return!a.disabled&&!a.disableTooltip}).forEach(function(A,g){var p=I?e.brush.empty()?e.xScale().domain():e.brush.extent():D.domain(),k=A.values.filter(function(a,c){return p[0]<=p[1]?b.x()(a,c)>=p[0]&&b.x()(a,
c)<=p[1]:b.x()(a,c)>=p[1]&&b.x()(a,c)<=p[0]});f=c.interactiveBisect(k,d.pointXValue,b.x());var k=k[f],F=a.y()(k,f);null!==F&&b.highlightPoint(g,f,!0);void 0!==k&&(void 0===l&&(l=k),void 0===h&&(h=a.xScale()(a.x()(k,f))),E.push({key:A.key,value:F,color:q(A,A.seriesIndex),data:k}))});if(2<E.length){var p=a.yScale().invert(d.mouseY),F=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),p=c.nearestValueIndex(E.map(function(a){return a.value}),p,F);null!==p&&(E[p].highlight=!0)}p=function(a,b){return null==
a?"N/A":g.tickFormat()(a)};k.tooltip.valueFormatter(k.tooltip.valueFormatter()||p).data({value:a.x()(l,f),index:f,series:E})();k.renderGuideLine(h)});k.dispatch.on("elementClick",function(d){var e,l=[];A.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(b){var f=c.interactiveBisect(b.values,d.pointXValue,a.x()),A=b.values[f];if("undefined"!==typeof A){"undefined"===typeof e&&(e=a.xScale()(a.x()(A,f)));var g=a.yScale()(a.y()(A,f));l.push({point:A,pointIndex:f,pos:[e,g],seriesIndex:b.seriesIndex,
series:b})}});b.dispatch.elementClick(l)});k.dispatch.on("elementMouseout",function(a){b.clearHighlights()});p.on("changeState",function(b){"undefined"!==typeof b.disabled&&A.length===b.disabled.length&&(A.forEach(function(a,c){a.disabled=b.disabled[c]}),G.disabled=b.disabled);a.update()})});J.renderEnd("lineChart immediate");return a}var b=c.models.line(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend(),k=c.interactiveGuideline(),m=c.models.tooltip(),e=c.models.focus(c.models.line()),h={top:30,
right:20,bottom:50,left:60},n=null,q=c.utils.defaultColor(),t=null,u=null,v=!0,r="top",w=!0,C=!0,y=!1,z=!1,D,l,I=!1,G=c.utils.state(),M=null,x=null,p=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),B=250;d.orient("bottom").tickPadding(7);g.orient(y?"right":"left");b.clipEdge(!0).duration(0);m.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});k.tooltip.valueFormatter(function(a,b){return g.tickFormat()(a,
b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});var J=c.utils.renderWatch(p,B),H=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},F=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){a.series.disableTooltip||m.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){m.hidden(!0)});a.dispatch=p;a.lines=b;a.legend=f;a.focus=e;a.xAxis=
d;a.x2Axis=e.xAxis;a.yAxis=g;a.y2Axis=e.yAxis;a.interactiveLayer=k;a.tooltip=m;a.state=G;a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return t},set:function(a){t=a}},height:{get:function(){return u},set:function(a){u=a}},showLegend:{get:function(){return v},set:function(a){v=a}},legendPosition:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return w},set:function(a){w=a}},showYAxis:{get:function(){return C},set:function(a){C=
a}},defaultState:{get:function(){return M},set:function(a){M=a}},noData:{get:function(){return x},set:function(a){x=a}},focusEnable:{get:function(){return I},set:function(a){I=a}},focusHeight:{get:function(){return e.height()},set:function(a){e.height(a)}},focusShowAxisX:{get:function(){return e.showXAxis()},set:function(a){e.showXAxis(a)}},focusShowAxisY:{get:function(){return e.showYAxis()},set:function(a){e.showYAxis(a)}},brushExtent:{get:function(){return e.brushExtent()},set:function(a){e.brushExtent(a)}},
focusMargin:{get:function(){return e.margin},set:function(a){void 0!==a.top&&(n=h.top=a.top);e.margin.right=void 0!==a.right?a.right:e.margin.right;e.margin.bottom=void 0!==a.bottom?a.bottom:e.margin.bottom;e.margin.left=void 0!==a.left?a.left:e.margin.left}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top;h.right=void 0!==a.right?a.right:h.right;h.bottom=void 0!==a.bottom?a.bottom:h.bottom;h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return B},
set:function(a){B=a;J.reset(B);b.duration(B);e.duration(B);d.duration(B);g.duration(B)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a);f.color(q);b.color(q);e.color(q)}},interpolate:{get:function(){return b.interpolate()},set:function(a){b.interpolate(a);e.interpolate(a)}},xTickFormat:{get:function(){return d.tickFormat()},set:function(a){d.tickFormat(a);e.xTickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a);e.yTickFormat(a)}},
x:{get:function(){return b.x()},set:function(a){b.x(a);e.x(a)}},y:{get:function(){return b.y()},set:function(a){b.y(a);e.y(a)}},rightAlignYAxis:{get:function(){return y},set:function(a){y=a;g.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return z},set:function(a){if(z=a)b.interactive(!1),b.useVoronoi(!1)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineWithFocusChart=function(){return c.models.lineChart().margin({bottom:30}).focusEnable(!0)};c.models.linePlusBarChart=
function(){function a(E){E.each(function(E){function v(){u.empty()||u.extent(H);na.data([u.empty()?A.domain():H]).each(function(a,b){var c=A(a[0])-A.range()[0],d=A.range()[1]-A(a[1]);d3.select(this).select(".left").attr("width",0>c?0:c);d3.select(this).select(".right").attr("x",A(a[1])).attr("width",0>d?0:d)})}function R(){H=u.empty()?null:u.extent();J=u.empty()?A.domain():u.extent();K.brush({extent:J,brush:u});v();g.width(ga).height(S).color(E.map(function(a,b){return a.color||I(a,b)}).filter(function(a,
b){return!E[b].disabled&&E[b].bar}));b.width(ga).height(S).color(E.map(function(a,b){return a.color||I(a,b)}).filter(function(a,b){return!E[b].disabled&&!E[b].bar}));var a=Q.select(".nv-focus .nv-barsWrap").datum(fa.length?fa.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return g.x()(a,b)>=J[0]&&g.x()(a,b)<=J[1]})}}):[{values:[]}]),d=Q.select(".nv-focus .nv-linesWrap").datum(Y(la)?[{values:[]}]:la.filter(function(a){return!a.disabled}).map(function(a,c){return{area:a.area,
fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,key:a.key,values:a.values.filter(function(a,c){return b.x()(a,c)>=J[0]&&b.x()(a,c)<=J[1]})}}));F=fa.length&&!W?g.xScale():b.xScale();k.scale(F)._ticks(c.utils.calcTicksX(ga/100,E)).tickSize(-S,0);k.domain([Math.ceil(J[0]),Math.floor(J[1])]);Q.select(".nv-x.nv-axis").transition().duration(U).call(k);a.transition().duration(U).call(g);d.transition().duration(U).call(b);Q.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+L.range()[0]+
")");e.scale(L)._ticks(c.utils.calcTicksY(S/36,E)).tickSize(-ga,0);h.scale(P)._ticks(c.utils.calcTicksY(S/36,E));W?h.tickSize(la.length?0:-ga,0):h.tickSize(fa.length?0:-ga,0);var d=fa.length?1:0,l=la.length&&!Y(la)?1:0,a=W?l:d,d=W?d:l;Q.select(".nv-focus .nv-y1.nv-axis").style("opacity",a);Q.select(".nv-focus .nv-y2.nv-axis").style("opacity",d).attr("transform","translate("+F.range()[1]+",0)");Q.select(".nv-focus .nv-y1.nv-axis").transition().duration(U).call(e);Q.select(".nv-focus .nv-y2.nv-axis").transition().duration(U).call(h)}
var X=d3.select(this);c.utils.initSVG(X);var ga=c.utils.availableWidth(y,X,r),S=c.utils.availableHeight(z,X,r)-(M?B:0),da=B-C.top-C.bottom;a.update=function(){X.transition().duration(U).call(a)};a.container=this;aa.setter(ja(E),a.update).getter(ia(E)).update();aa.disabled=E.map(function(a){return!!a.disabled});if(!Z)for(ea in Z={},aa)Z[ea]=aa[ea]instanceof Array?aa[ea].slice(0):aa[ea];if(E&&E.length&&E.filter(function(a){return a.values.length}).length)X.selectAll(".nv-noData").remove();else return c.utils.noData(a,
X),a;var fa=E.filter(function(a){return!a.disabled&&a.bar}),la=E.filter(function(a){return!a.bar});F=fa.length&&!W?g.xScale():b.xScale();A=m.scale();L=W?b.yScale():g.yScale();P=W?g.yScale():b.yScale();N=W?d.yScale():f.yScale();O=W?f.yScale():d.yScale();var ea=E.filter(function(a){return!a.disabled&&(W?!a.bar:a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:D(a,b),y:l(a,b)}})});var ha=E.filter(function(a){return!a.disabled&&(W?a.bar:!a.bar)}).map(function(a){return a.values.map(function(a,
b){return{x:D(a,b),y:l(a,b)}})});F.range([0,ga]);A.domain(d3.extent(d3.merge(ea.concat(ha)),function(a){return a.x})).range([0,ga]);ea=X.selectAll("g.nv-wrap.nv-linePlusBar").data([E]);var ha=ea.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),Q=ea.select("g");ha.append("g").attr("class","nv-legendWrap");var ka=ha.append("g").attr("class","nv-focus");ka.append("g").attr("class","nv-x nv-axis");ka.append("g").attr("class","nv-y1 nv-axis");ka.append("g").attr("class","nv-y2 nv-axis");
ka.append("g").attr("class","nv-barsWrap");ka.append("g").attr("class","nv-linesWrap");ha=ha.append("g").attr("class","nv-context");ha.append("g").attr("class","nv-x nv-axis");ha.append("g").attr("class","nv-y1 nv-axis");ha.append("g").attr("class","nv-y2 nv-axis");ha.append("g").attr("class","nv-barsWrap");ha.append("g").attr("class","nv-linesWrap");ha.append("g").attr("class","nv-brushBackground");ha.append("g").attr("class","nv-x nv-brush");G?(ha=t.align()?ga/2:ga,ka=t.align()?ha:0,t.width(ha),
Q.select(".nv-legendWrap").datum(E.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=W?a.originalKey+(a.bar?T:V):a.originalKey+(a.bar?V:T);return a})).call(t),w||t.height()===r.top||(r.top=t.height(),S=c.utils.availableHeight(z,X,r)-B),Q.select(".nv-legendWrap").attr("transform","translate("+ka+","+-r.top+")")):Q.select(".nv-legendWrap").selectAll("*").remove();ea.attr("transform","translate("+r.left+","+r.top+")");Q.select(".nv-context").style("display",M?"initial":"none");
f.width(ga).height(da).color(E.map(function(a,b){return a.color||I(a,b)}).filter(function(a,b){return!E[b].disabled&&E[b].bar}));d.width(ga).height(da).color(E.map(function(a,b){return a.color||I(a,b)}).filter(function(a,b){return!E[b].disabled&&!E[b].bar}));ea=Q.select(".nv-context .nv-barsWrap").datum(fa.length?fa:[{values:[]}]);ha=Q.select(".nv-context .nv-linesWrap").datum(Y(la)?[{values:[]}]:la.filter(function(a){return!a.disabled}));Q.select(".nv-context").attr("transform","translate(0,"+(S+
r.bottom+C.top)+")");ea.transition().call(f);ha.transition().call(d);p&&(m._ticks(c.utils.calcTicksX(ga/100,E)).tickSize(-da,0),Q.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+N.range()[0]+")"),Q.select(".nv-context .nv-x.nv-axis").transition().call(m));x&&(n.scale(N)._ticks(da/36).tickSize(-ga,0),q.scale(O)._ticks(da/36).tickSize(fa.length?0:-ga,0),Q.select(".nv-context .nv-y3.nv-axis").style("opacity",fa.length?1:0).attr("transform","translate(0,"+A.range()[0]+")"),Q.select(".nv-context .nv-y2.nv-axis").style("opacity",
la.length?1:0).attr("transform","translate("+A.range()[1]+",0)"),Q.select(".nv-context .nv-y1.nv-axis").transition().call(n),Q.select(".nv-context .nv-y2.nv-axis").transition().call(q));u.x(A).on("brush",R);H&&u.extent(H);var na=Q.select(".nv-brushBackground").selectAll("g").data([H||u.extent()]);ea=na.enter().append("g");ea.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",da);ea.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",da);ea=Q.select(".nv-x.nv-brush").call(u);
ea.selectAll("rect").attr("height",da);ea.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,c=da/3;return"M"+.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});t.dispatch.on("stateChange",function(b){for(var c in b)aa[c]=b[c];K.stateChange(aa);a.update()});K.on("changeState",function(b){"undefined"!==typeof b.disabled&&(E.forEach(function(a,c){a.disabled=b.disabled[c]}),
aa.disabled=b.disabled);a.update()});R()});return a}var b=c.models.line(),d=c.models.line(),g=c.models.historicalBar(),f=c.models.historicalBar(),k=c.models.axis(),m=c.models.axis(),e=c.models.axis(),h=c.models.axis(),n=c.models.axis(),q=c.models.axis(),t=c.models.legend(),u=d3.svg.brush(),v=c.models.tooltip(),r={top:30,right:30,bottom:30,left:60},w=null,C={top:0,right:30,bottom:20,left:60},y=null,z=null,D=function(a){return a.x},l=function(a){return a.y},I=c.utils.defaultColor(),G=!0,M=!0,x=!1,p=
!0,B=50,J,H=null,F,A,L,P,N,O,E=null,K=d3.dispatch("brush","stateChange","changeState"),U=0,aa=c.utils.state(),Z=null,V=" (left axis)",T=" (right axis)",W=!1;b.clipEdge(!0);d.interactive(!1);d.pointActive(function(a){return!1});k.orient("bottom").tickPadding(5);e.orient("left");h.orient("right");m.orient("bottom").tickPadding(5);n.orient("left");q.orient("right");v.headerEnabled(!0).headerFormatter(function(a,b){return k.tickFormat()(a,b)});var ia=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
ja=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},Y=function(a){return a.every(function(a){return a.disabled})};b.dispatch.on("elementMouseover.tooltip",function(a){v.duration(100).valueFormatter(function(a,b){return(W?{main:e,focus:n}:{main:h,focus:q}).main.tickFormat()(a,b)}).data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){v.hidden(!0)});g.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series=
{value:a.y()(b.data),color:b.color};v.duration(0).valueFormatter(function(a,b){return(W?{main:h,focus:q}:{main:e,focus:n}).main.tickFormat()(a,b)}).data(b).hidden(!1)});g.dispatch.on("elementMouseout.tooltip",function(a){v.hidden(!0)});g.dispatch.on("elementMousemove.tooltip",function(a){v()});a.dispatch=K;a.legend=t;a.lines=b;a.lines2=d;a.bars=g;a.bars2=f;a.xAxis=k;a.x2Axis=m;a.y1Axis=e;a.y2Axis=h;a.y3Axis=n;a.y4Axis=q;a.tooltip=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},
{width:{get:function(){return y},set:function(a){y=a}},height:{get:function(){return z},set:function(a){z=a}},showLegend:{get:function(){return G},set:function(a){G=a}},brushExtent:{get:function(){return H},set:function(a){H=a}},noData:{get:function(){return E},set:function(a){E=a}},focusEnable:{get:function(){return M},set:function(a){M=a}},focusHeight:{get:function(){return B},set:function(a){B=a}},focusShowAxisX:{get:function(){return p},set:function(a){p=a}},focusShowAxisY:{get:function(){return x},
set:function(a){x=a}},legendLeftAxisHint:{get:function(){return V},set:function(a){V=a}},legendRightAxisHint:{get:function(){return T},set:function(a){T=a}},margin:{get:function(){return r},set:function(a){void 0!==a.top&&(w=r.top=a.top);r.right=void 0!==a.right?a.right:r.right;r.bottom=void 0!==a.bottom?a.bottom:r.bottom;r.left=void 0!==a.left?a.left:r.left}},focusMargin:{get:function(){return C},set:function(a){C.top=void 0!==a.top?a.top:C.top;C.right=void 0!==a.right?a.right:C.right;C.bottom=void 0!==
a.bottom?a.bottom:C.bottom;C.left=void 0!==a.left?a.left:C.left}},duration:{get:function(){return U},set:function(a){U=a}},color:{get:function(){return I},set:function(a){I=c.utils.getColor(a);t.color(I)}},x:{get:function(){return D},set:function(a){D=a;b.x(a);d.x(a);g.x(a);f.x(a)}},y:{get:function(){return l},set:function(a){l=a;b.y(a);d.y(a);g.y(a);f.y(a)}},switchYAxisOrder:{get:function(){return W},set:function(a){if(W!==a){var b=e;e=h;h=b;b=n;n=q;q=b}W=a;e.orient("left");h.orient("right");n.orient("left");
q.orient("right")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBar=function(){function a(F){J.reset();F.each(function(a){var F=d-b.left-b.right,A=g-b.top-b.bottom;e=d3.select(this);c.utils.initSVG(e);var N=0;w&&a.length&&(w=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]);if(u){var O=d3.layout.stack().offset(v).values(function(a){return a.values}).y(n)(!a.length&&w?w:a);O.forEach(function(b,c){b.nonStackable?(a[c].nonStackableSeries=
N++,O[c]=a[c]):0<c&&O[c-1].nonStackable&&O[c].values.map(function(a,b){a.y0-=O[c-1].values[b].y;a.y1=a.y0+a.y})});a=O}a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});u&&0<a.length&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(b,l){if(!a[l].nonStackable){var f=b.values[c];f.size=Math.abs(f.y);0>f.y?(f.y1=e,e-=f.size):(f.y1=f.size+d,d+=f.size)}})});var E=D&&l?[]:a.map(function(a,b){return a.values.map(function(a,c){return{x:h(a,c),y:n(a,c),y0:a.y0,y1:a.y1,
idx:b}})});f.domain(D||d3.merge(E).map(function(a){return a.x})).rangeBands(I||[0,F],M);k.domain(l||d3.extent(d3.merge(E).map(function(b){var c=b.y;u&&!a[b.idx].nonStackable&&(c=0<b.y?b.y1:b.y1+b.y);return c}).concat(q))).range(G||[A,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1]));k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]+.01*k.domain()[0],k.domain()[1]-.01*k.domain()[1]]):k.domain([-1,
1]));B=B||k;var E=e.selectAll("g.nv-wrap.nv-multibar").data([a]),K=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),U=K.append("defs"),K=K.append("g"),aa=E.select("g");K.append("g").attr("class","nv-groups");E.attr("transform","translate("+b.left+","+b.top+")");U.append("clipPath").attr("id","nv-edge-clip-"+m).append("rect");E.select("#nv-edge-clip-"+m+" rect").attr("width",F).attr("height",A);aa.attr("clip-path",t?"url(#nv-edge-clip-"+m+")":"");F=E.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});F.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);A=J.transition(F.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,z)).attr("y",function(b,c,d){c=B(0)||0;u&&a[b.series]&&!a[b.series].nonStackable&&(c=B(b.y0));return c}).attr("height",0).remove();A.delay&&A.delay(function(a,b){return z/(H+1)*b-b});F.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return r(a,
b)}).style("stroke",function(a,b){return r(a,b)});F.style("stroke-opacity",1).style("fill-opacity",x);F=F.selectAll("rect.nv-bar").data(function(b){return w&&!a.length?w.values:b.values});F.exit().remove();F.enter().append("rect").attr("class",function(a,b){return 0>n(a,b)?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return u&&!a[d].nonStackable?0:d*f.rangeBand()/a.length}).attr("y",function(b,c,d){return B(u&&!a[d].nonStackable?b.y0:0)||0}).attr("height",0).attr("width",function(b,
c,d){return f.rangeBand()/(u&&!a[d].nonStackable?1:a.length)}).attr("transform",function(a,b){return"translate("+f(h(a,b))+",0)"});F.style("fill",function(a,b,c){return r(a,c,b)}).style("stroke",function(a,b,c){return r(a,c,b)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);p.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);p.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",
function(a,b){p.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){p.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this});d3.event.stopPropagation()}).on("dblclick",function(a,b){p.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});F.attr("class",function(a,b){return 0>n(a,b)?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+
f(h(a,b))+",0)"});C&&(y||(y=a.map(function(){return!0})),F.style("fill",function(a,b,c){return d3.rgb(C(a,b)).darker(y.map(function(a,b){return b}).filter(function(a,b){return!y[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(C(a,b)).darker(y.map(function(a,b){return b}).filter(function(a,b){return!y[b]})[c]).toString()}));F=F.watchTransition(J,"multibar",Math.min(250,z)).delay(function(b,c){return c*z/a[0].values.length});u?F.attr("y",function(b,c,d){return a[d].nonStackable?0>
n(b,c)?k(0):-1>k(0)-k(n(b,c))?k(0)-1:k(n(b,c))||0:k(b.y1)}).attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(k(n(b,c))-k(0)),0)||0:Math.max(Math.abs(k(b.y+b.y0)-k(b.y0)),0)}).attr("x",function(b,c,d){c=0;a[d].nonStackable&&(c=b.series*f.rangeBand()/a.length,a.length!==N&&(c=a[d].nonStackableSeries*f.rangeBand()/(2*N)));return c}).attr("width",function(b,c,d){return a[d].nonStackable?(b=f.rangeBand()/N,a.length!==N&&(b=f.rangeBand()/(2*N)),b):f.rangeBand()}):F.attr("x",function(b,
c){return b.series*f.rangeBand()/a.length}).attr("width",f.rangeBand()/a.length).attr("y",function(a,b){return 0>n(a,b)?k(0):1>k(0)-k(n(a,b))?k(0)-1:k(n(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(k(n(a,b))-k(0)),1)||0});f.copy();B=k.copy();a[0]&&a[0].values&&(H=a[0].values.length)});J.renderEnd("multibar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=d3.scale.ordinal(),k=d3.scale.linear(),m=Math.floor(1E4*Math.random()),e=null,h=function(a){return a.x},
n=function(a){return a.y},q=[0],t=!0,u=!1,v="zero",r=c.utils.defaultColor(),w=!1,C=null,y,z=500,D,l,I,G,M=.1,x=.75,p=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),B,J=c.utils.renderWatch(p,z),H=0;a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},x:{get:function(){return h},set:function(a){h=
a}},y:{get:function(){return n},set:function(a){n=a}},xScale:{get:function(){return f},set:function(a){f=a}},yScale:{get:function(){return k},set:function(a){k=a}},xDomain:{get:function(){return D},set:function(a){D=a}},yDomain:{get:function(){return l},set:function(a){l=a}},xRange:{get:function(){return I},set:function(a){I=a}},yRange:{get:function(){return G},set:function(a){G=a}},forceY:{get:function(){return q},set:function(a){q=a}},stacked:{get:function(){return u},set:function(a){u=a}},stackOffset:{get:function(){return v},
set:function(a){v=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},disabled:{get:function(){return y},set:function(a){y=a}},id:{get:function(){return m},set:function(a){m=a}},hideable:{get:function(){return w},set:function(a){w=a}},groupSpacing:{get:function(){return M},set:function(a){M=a}},fillOpacity:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==
a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},duration:{get:function(){return z},set:function(a){z=a;J.reset(z)}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a)}},barColor:{get:function(){return C},set:function(a){C=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarChart=function(){function a(E){L.reset();L.models(b);C&&L.models(d);y&&L.models(g);E.each(function(E){var K=d3.select(this);c.utils.initSVG(K);var J=c.utils.availableWidth(q,
K,h),L=c.utils.availableHeight(t,K,h);a.update=function(){0===F?K.call(a):K.transition().duration(F).call(a)};a.container=this;p.setter(O(E),a.update).getter(N(E)).update();p.disabled=E.map(function(a){return!!a.disabled});if(!B)for(V in B={},p)B[V]=p[V]instanceof Array?p[V].slice(0):p[V];if(E&&E.length&&E.filter(function(a){return a.values.length}).length)K.selectAll(".nv-noData").remove();else return c.utils.noData(a,K),a;M=b.xScale();x=b.yScale();var V=K.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([E]);
var T=V.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),W=V.select("g");T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-barsWrap");T.append("g").attr("class","nv-legendWrap");T.append("g").attr("class","nv-controlsWrap");T.append("g").attr("class","nv-interactive");w?(k.width(J-(v?180:0)),W.select(".nv-legendWrap").datum(E).call(k),n||k.height()===h.top||(h.top=k.height(),L=c.utils.availableHeight(t,
K,h)),W.select(".nv-legendWrap").attr("transform","translate("+(v?180:0)+","+-h.top+")")):W.select(".nv-legendWrap").selectAll("*").remove();if(v){var ia=[{key:r.grouped||"Grouped",disabled:b.stacked()},{key:r.stacked||"Stacked",disabled:!b.stacked()}];m.width(v?180:0).color(["#444","#444","#444"]);W.select(".nv-controlsWrap").datum(ia).attr("transform","translate(0,"+-h.top+")").call(m)}else W.select(".nv-controlsWrap").selectAll("*").remove();V.attr("transform","translate("+h.left+","+h.top+")");
z&&W.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)");b.disabled(E.map(function(a){return a.disabled})).width(J).height(L).color(E.map(function(a,b){return a.color||u(a,b)}).filter(function(a,b){return!E[b].disabled}));W.select(".nv-barsWrap").datum(E.filter(function(a){return!a.disabled})).call(b);if(C){d.scale(M)._ticks(c.utils.calcTicksX(J/100,E)).tickSize(-L,0);W.select(".nv-x.nv-axis").attr("transform","translate(0,"+x.range()[0]+")");W.select(".nv-x.nv-axis").call(d);T=W.select(".nv-x.nv-axis > g").selectAll("g");
T.selectAll("line, text").style("opacity",1);if(l){T.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(0==c%2?5:17)+")"});var ja=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;W.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(0===b||0!==ja%2?17:5)+")"})}I&&W.selectAll(".tick text").call(c.utils.wrapTicks,a.xAxis.rangeBand());D&&T.filter(function(a,b){return 0!==b%Math.ceil(E[0].values.length/(J/100))}).selectAll("text, line").style("opacity",
0);G&&T.selectAll(".tick text").attr("transform","rotate("+G+" 0,0)").style("text-anchor",0<G?"start":"end");W.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}y&&(g.scale(x)._ticks(c.utils.calcTicksY(L/36,E)).tickSize(-J,0),W.select(".nv-y.nv-axis").call(g));A&&(f.width(J).height(L).margin({left:h.left,top:h.top}).svgContainer(K).xScale(M),V.select(".nv-interactive").call(f));k.dispatch.on("stateChange",function(b){for(var c in b)p[c]=b[c];H.stateChange(p);a.update()});
m.dispatch.on("legendClick",function(c,d){if(c.disabled){ia=ia.map(function(a){a.disabled=!0;return a});c.disabled=!1;switch(c.key){case "Grouped":case r.grouped:b.stacked(!1);break;case "Stacked":case r.stacked:b.stacked(!0)}p.stacked=b.stacked();H.stateChange(p);a.update()}});H.on("changeState",function(c){"undefined"!==typeof c.disabled&&(E.forEach(function(a,b){a.disabled=c.disabled[b]}),p.disabled=c.disabled);"undefined"!==typeof c.stacked&&(b.stacked(c.stacked),P=p.stacked=c.stacked);a.update()});
A?(f.dispatch.on("elementMousemove",function(b){if(void 0!=b.pointXValue){var c,d,e,l,g=[];E.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,E){d=M.domain().indexOf(b.pointXValue);var h=f.values[d];void 0!==h&&(l=h.x,void 0===c&&(c=h),void 0===e&&(e=b.mouseX),g.push({key:f.key,value:a.y()(h,d),color:u(f,f.seriesIndex),data:f.values[d]}))});f.tooltip.data({value:l,index:d,series:g})();f.renderGuideLine(e)}}),f.dispatch.on("elementMouseout",function(a){f.tooltip.hidden(!0)})):
(b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};e.data(b).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(a){e()}))});L.renderEnd("multibarchart immediate");return a}var b=c.models.multiBar(),d=c.models.axis(),g=c.models.axis(),f=c.interactiveGuideline(),k=c.models.legend(),m=c.models.legend(),e=c.models.tooltip(),h={top:30,right:20,
bottom:50,left:60},n=null,q=null,t=null,u=c.utils.defaultColor(),v=!0,r={},w=!0,C=!0,y=!0,z=!1,D=!0,l=!1,I=!1,G=0,M,x,p=c.utils.state(),B=null,J=null,H=d3.dispatch("stateChange","changeState","renderEnd"),F=250,A=!1;p.stacked=!1;b.stacked(!1);d.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a});g.orient(z?"right":"left").tickFormat(d3.format(",.1f"));e.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,
b)});f.tooltip.valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});f.tooltip.valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});f.tooltip.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});m.updateState(!1);var L=c.utils.renderWatch(H),P=!1,N=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
stacked:P}}},O=function(a){return function(b){void 0!==b.stacked&&(P=b.stacked);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};a.dispatch=H;a.multibar=b;a.legend=k;a.controls=m;a.xAxis=d;a.yAxis=g;a.state=p;a.tooltip=e;a.interactiveLayer=f;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return t},set:function(a){t=a}},showLegend:{get:function(){return w},set:function(a){w=a}},showControls:{get:function(){return v},
set:function(a){v=a}},controlLabels:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return C},set:function(a){C=a}},showYAxis:{get:function(){return y},set:function(a){y=a}},defaultState:{get:function(){return B},set:function(a){B=a}},noData:{get:function(){return J},set:function(a){J=a}},reduceXTicks:{get:function(){return D},set:function(a){D=a}},rotateLabels:{get:function(){return G},set:function(a){G=a}},staggerLabels:{get:function(){return l},set:function(a){l=a}},wrapLabels:{get:function(){return I},
set:function(a){I=!!a}},margin:{get:function(){return h},set:function(a){void 0!==a.top&&(n=h.top=a.top);h.right=void 0!==a.right?a.right:h.right;h.bottom=void 0!==a.bottom?a.bottom:h.bottom;h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return F},set:function(a){F=a;b.duration(F);d.duration(F);g.duration(F);L.reset(F)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a);k.color(u)}},rightAlignYAxis:{get:function(){return z},set:function(a){z=a;g.orient(z?"right":
"left")}},useInteractiveGuideline:{get:function(){return A},set:function(a){A=a}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);k.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBarHorizontal=function(){function a(f){H.reset();f.each(function(a){var f=d-b.left-b.right,p=g-b.top-b.bottom;k=d3.select(this);c.utils.initSVG(k);w&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(n)(a));
a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});w&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);0>a.y?(a.y1=e-a.size,e-=a.size):(a.y1=d,d+=a.size)})});var F=I&&G?[]:a.map(function(a){return a.values.map(function(a,b){return{x:h(a,b),y:n(a,b),y0:a.y0,y1:a.y1}})});m.domain(I||d3.merge(F).map(function(a){return a.x})).rangeBands(M||[0,p],z);e.domain(G||d3.extent(d3.merge(F).map(function(a){return w?0<a.y?a.y1+a.y:a.y1:
a.y}).concat(t)));C&&!w?e.range(x||[0>e.domain()[0]?y:0,f-(0<e.domain()[1]?y:0)]):e.range(x||[0,f]);J=J||d3.scale.linear().domain(e.domain()).range([e(0),e(0)]);f=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);p=f.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");p.append("defs");p=p.append("g");f.select("g");p.append("g").attr("class","nv-groups");f.attr("transform","translate("+b.left+","+b.top+")");f=f.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});f.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);f.exit().watchTransition(H,"multibarhorizontal: exit groups").style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();f.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return u(a,b)}).style("stroke",function(a,b){return u(a,b)});f.watchTransition(H,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",
D);f=f.selectAll("g.nv-bar").data(function(a){return a.values});f.exit().remove();p=f.enter().append("g").attr("transform",function(b,c,d){return"translate("+J(w?b.y0:0)+","+(w?0:d*m.rangeBand()/a.length+m(h(b,c)))+")"});p.append("rect").attr("width",0).attr("height",m.rangeBand()/(w?1:a.length));f.on("mouseover",function(a,b){d3.select(this).classed("hover",!0);B.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);
B.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){B.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){B.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){B.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this});d3.event.stopPropagation()}).on("dblclick",function(a,b){B.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});
d3.event.stopPropagation()});q(a[0],0)&&(p.append("polyline"),f.select("polyline").attr("fill","none").attr("points",function(b,c){var d=q(b,c),f=.8*m.rangeBand()/(2*(w?1:a.length)),d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return e(a)-e(0)});return[[d[0],-f],[d[0],f],[d[0],0],[d[1],0],[d[1],-f],[d[1],f]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var d=m.rangeBand()/(2*(w?1:a.length));return"translate("+(0>n(b,c)?0:e(n(b,c))-e(0))+", "+d+")"}));
p.append("text");C&&!w?(f.select("text").attr("text-anchor",function(a,b){return 0>n(a,b)?"end":"start"}).attr("y",m.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){var c=l(n(a,b)),d=q(a,b);return void 0===d?c:d.length?c+"+"+l(Math.abs(d[1]))+"-"+l(Math.abs(d[0])):c+"\u00b1"+l(Math.abs(d))}),f.watchTransition(H,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return 0>n(a,b)?-4:e(n(a,b))-e(0)+4})):f.selectAll("text").text("");f.selectAll("text.nv-bar-label").text("");
f.attr("class",function(a,b){return 0>n(a,b)?"nv-bar negative":"nv-bar positive"});v&&(r||(r=a.map(function(){return!0})),f.style("fill",function(a,b,c){return d3.rgb(v(a,b)).darker(r.map(function(a,b){return b}).filter(function(a,b){return!r[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(v(a,b)).darker(r.map(function(a,b){return b}).filter(function(a,b){return!r[b]})[c]).toString()}));w?f.watchTransition(H,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+
e(a.y1)+","+m(h(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(e(n(a,b)+a.y0)-e(a.y0))||0}).attr("height",m.rangeBand()):f.watchTransition(H,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+(0>n(b,c)?e(n(b,c)):e(0))+","+(b.series*m.rangeBand()/a.length+m(h(b,c)))+")"}).select("rect").attr("height",m.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(e(n(a,b))-e(0)),1)||0});m.copy();J=e.copy()});H.renderEnd("multibarHorizontal immediate");
return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=Math.floor(1E4*Math.random()),k=null,m=d3.scale.ordinal(),e=d3.scale.linear(),h=function(a){return a.x},n=function(a){return a.y},q=function(a){return a.yErr},t=[0],u=c.utils.defaultColor(),v=null,r,w=!1,C=!1,y=60,z=.1,D=.75,l=d3.format(",.2f"),I,G,M,x,p=250,B=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),J,H=c.utils.renderWatch(B,p);a.dispatch=B;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},x:{get:function(){return h},set:function(a){h=a}},y:{get:function(){return n},set:function(a){n=a}},yErr:{get:function(){return q},set:function(a){q=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return I},set:function(a){I=a}},yDomain:{get:function(){return G},
set:function(a){G=a}},xRange:{get:function(){return M},set:function(a){M=a}},yRange:{get:function(){return x},set:function(a){x=a}},forceY:{get:function(){return t},set:function(a){t=a}},stacked:{get:function(){return w},set:function(a){w=a}},showValues:{get:function(){return C},set:function(a){C=a}},disabled:{get:function(){return r},set:function(a){r=a}},id:{get:function(){return f},set:function(a){f=a}},valueFormat:{get:function(){return l},set:function(a){l=a}},valuePadding:{get:function(){return y},
set:function(a){y=a}},groupSpacing:{get:function(){return z},set:function(a){z=a}},fillOpacity:{get:function(){return D},set:function(a){D=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},duration:{get:function(){return p},set:function(a){p=a;H.reset(p)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a)}},barColor:{get:function(){return v},
set:function(a){v=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarHorizontalChart=function(){function a(m){J.reset();J.models(b);w&&J.models(d);C&&J.models(g);m.each(function(m){var H=d3.select(this);c.utils.initSVG(H);var F=c.utils.availableWidth(n,H,e),J=c.utils.availableHeight(q,H,e);a.update=function(){H.transition().duration(x).call(a)};a.container=this;y=b.stacked();l.setter(B(m),a.update).getter(p(m)).update();l.disabled=m.map(function(a){return!!a.disabled});
if(!I)for(G in I={},l)I[G]=l[G]instanceof Array?l[G].slice(0):l[G];if(m&&m.length&&m.filter(function(a){return a.values.length}).length)H.selectAll(".nv-noData").remove();else return c.utils.noData(a,H),a;z=b.xScale();D=b.yScale().clamp(!0);var G=H.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([m]);var O=G.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),E=G.select("g");O.append("g").attr("class","nv-x nv-axis");O.append("g").attr("class","nv-y nv-axis").append("g").attr("class",
"nv-zeroLine").append("line");O.append("g").attr("class","nv-barsWrap");O.append("g").attr("class","nv-legendWrap");O.append("g").attr("class","nv-controlsWrap");r?(f.width(F-(u?180:0)),E.select(".nv-legendWrap").datum(m).call(f),h||f.height()===e.top||(e.top=f.height(),J=c.utils.availableHeight(q,H,e)),E.select(".nv-legendWrap").attr("transform","translate("+(u?180:0)+","+-e.top+")")):E.select(".nv-legendWrap").selectAll("*").remove();if(u){var K=[{key:v.grouped||"Grouped",disabled:b.stacked()},
{key:v.stacked||"Stacked",disabled:!b.stacked()}];k.width(u?180:0).color(["#444","#444","#444"]);E.select(".nv-controlsWrap").datum(K).attr("transform","translate(0,"+-e.top+")").call(k)}else E.select(".nv-controlsWrap").selectAll("*").remove();G.attr("transform","translate("+e.left+","+e.top+")");b.disabled(m.map(function(a){return a.disabled})).width(F).height(J).color(m.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!m[b].disabled}));E.select(".nv-barsWrap").datum(m.filter(function(a){return!a.disabled})).transition().call(b);
w&&(d.scale(z)._ticks(c.utils.calcTicksX(J/24,m)).tickSize(-F,0),E.select(".nv-x.nv-axis").call(d),E.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));C&&(g.scale(D)._ticks(c.utils.calcTicksY(F/100,m)).tickSize(-J,0),E.select(".nv-y.nv-axis").attr("transform","translate(0,"+J+")"),E.select(".nv-y.nv-axis").call(g));E.select(".nv-zeroLine line").attr("x1",D(0)).attr("x2",D(0)).attr("y1",0).attr("y2",-J);f.dispatch.on("stateChange",function(b){for(var c in b)l[c]=b[c];M.stateChange(l);
a.update()});k.dispatch.on("legendClick",function(c,d){if(c.disabled){K=K.map(function(a){a.disabled=!0;return a});c.disabled=!1;switch(c.key){case "Grouped":case v.grouped:b.stacked(!1);break;case "Stacked":case v.stacked:b.stacked(!0)}l.stacked=b.stacked();M.stateChange(l);y=b.stacked();a.update()}});M.on("changeState",function(c){"undefined"!==typeof c.disabled&&(m.forEach(function(a,b){a.disabled=c.disabled[b]}),l.disabled=c.disabled);"undefined"!==typeof c.stacked&&(b.stacked(c.stacked),y=l.stacked=
c.stacked);a.update()})});J.renderEnd("multibar horizontal chart immediate");return a}var b=c.models.multiBarHorizontal(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend().height(30),k=c.models.legend().height(30),m=c.models.tooltip(),e={top:30,right:20,bottom:50,left:60},h=null,n=null,q=null,t=c.utils.defaultColor(),u=!0,v={},r=!0,w=!0,C=!0,y=!1,z,D,l=c.utils.state(),I=null,G=null,M=d3.dispatch("stateChange","changeState","renderEnd"),x=250;l.stacked=!1;b.stacked(y);d.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a});
g.orient("bottom").tickFormat(d3.format(",.1f"));m.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});k.updateState(!1);var p=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:y}}},B=function(a){return function(b){void 0!==b.stacked&&(y=b.stacked);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},J=c.utils.renderWatch(M,x);b.dispatch.on("elementMouseover.tooltip",
function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};m.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){m.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){m()});a.dispatch=M;a.multibar=b;a.legend=f;a.controls=k;a.xAxis=d;a.yAxis=g;a.state=l;a.tooltip=m;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return q},set:function(a){q=
a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return u},set:function(a){u=a}},controlLabels:{get:function(){return v},set:function(a){v=a}},showXAxis:{get:function(){return w},set:function(a){w=a}},showYAxis:{get:function(){return C},set:function(a){C=a}},defaultState:{get:function(){return I},set:function(a){I=a}},noData:{get:function(){return G},set:function(a){G=a}},margin:{get:function(){return e},set:function(a){void 0!==a.top&&(h=e.top=a.top);e.right=
void 0!==a.right?a.right:e.right;e.bottom=void 0!==a.bottom?a.bottom:e.bottom;e.left=void 0!==a.left?a.left:e.left}},duration:{get:function(){return x},set:function(a){x=a;J.reset(x);b.duration(x);d.duration(x);g.duration(x)}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);f.color(t)}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);
return a};c.models.multiChart=function(){function a(e){e.each(function(e){function y(a){var b=2===e[a.seriesIndex].yAxis?L:A;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color,key:a.series.key};N.duration(0).headerFormatter(function(a,b){return F.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function v(a){var b=2===e[a.seriesIndex].yAxis?L:A;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color,key:a.series.key};N.duration(100).headerFormatter(function(a,
b){return F.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function K(a){var b=2===e[a.seriesIndex].yAxis?L:A;a.point.x=J.x()(a.point);a.point.y=J.y()(a.point);N.duration(0).headerFormatter(function(a,b){return F.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function O(a){var b=2===e[a.data.series].yAxis?L:A;a.value=p.x()(a.data);a.series={value:p.y()(a.data),color:a.color,key:a.data.key};N.duration(0).headerFormatter(function(a,
b){return F.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function U(){for(var a=0,b=E.length;a<b;a++){var c=E[a];try{c.clearHighlights()}catch(wa){}}}function ia(a,b,c){for(var d=0,e=E.length;d<e;d++){var f=E[d];try{f.highlightPoint(a,b,c)}catch(xa){}}}var ja=d3.select(this);c.utils.initSVG(ja);a.update=function(){ja.transition().call(a)};a.container=this;var Y=c.utils.availableWidth(f,ja,b),R=c.utils.availableHeight(k,ja,b),S=e.filter(function(a){return"line"==
a.type&&1==a.yAxis}),ca=e.filter(function(a){return"line"==a.type&&2==a.yAxis}),ba=e.filter(function(a){return"scatter"==a.type&&1==a.yAxis}),X=e.filter(function(a){return"scatter"==a.type&&2==a.yAxis}),ga=e.filter(function(a){return"bar"==a.type&&1==a.yAxis}),ma=e.filter(function(a){return"bar"==a.type&&2==a.yAxis}),da=e.filter(function(a){return"area"==a.type&&1==a.yAxis}),fa=e.filter(function(a){return"area"==a.type&&2==a.yAxis});if(e&&e.length&&e.filter(function(a){return a.values.length}).length)ja.selectAll(".nv-noData").remove();
else return c.utils.noData(a,ja),a;var la=e.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:q(a),y:t(a)}})}),ea=e.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:q(a),y:t(a)}})});z.domain(d3.extent(d3.merge(la.concat(ea)),function(a){return a.x})).range([0,Y]);var ha=ja.selectAll("g.wrap.multiChart").data([e]),Q=ha.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");
Q.append("g").attr("class","nv-x nv-axis");Q.append("g").attr("class","nv-y1 nv-axis");Q.append("g").attr("class","nv-y2 nv-axis");Q.append("g").attr("class","stack1Wrap");Q.append("g").attr("class","stack2Wrap");Q.append("g").attr("class","bars1Wrap");Q.append("g").attr("class","bars2Wrap");Q.append("g").attr("class","scatters1Wrap");Q.append("g").attr("class","scatters2Wrap");Q.append("g").attr("class","lines1Wrap");Q.append("g").attr("class","lines2Wrap");Q.append("g").attr("class","legendWrap");
Q.append("g").attr("class","nv-interactive");var Q=ha.select("g"),ka=e.map(function(a,b){return e[b].color||g(a,b)});if(m){var na=P.align()?Y/2:Y,oa=P.align()?na:0;P.width(na);P.color(ka);Q.select(".legendWrap").datum(e.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(1==a.yAxis?"":C);return a})).call(P);d||P.height()===b.top||(b.top=P.height(),R=c.utils.availableHeight(k,ja,b));Q.select(".legendWrap").attr("transform","translate("+oa+","+-b.top+")")}else Q.select(".legendWrap").selectAll("*").remove();
I.width(Y).height(R).interpolate(u).color(ka.filter(function(a,b){return!e[b].disabled&&1==e[b].yAxis&&"line"==e[b].type}));G.width(Y).height(R).interpolate(u).color(ka.filter(function(a,b){return!e[b].disabled&&2==e[b].yAxis&&"line"==e[b].type}));M.width(Y).height(R).color(ka.filter(function(a,b){return!e[b].disabled&&1==e[b].yAxis&&"scatter"==e[b].type}));x.width(Y).height(R).color(ka.filter(function(a,b){return!e[b].disabled&&2==e[b].yAxis&&"scatter"==e[b].type}));p.width(Y).height(R).color(ka.filter(function(a,
b){return!e[b].disabled&&1==e[b].yAxis&&"bar"==e[b].type}));B.width(Y).height(R).color(ka.filter(function(a,b){return!e[b].disabled&&2==e[b].yAxis&&"bar"==e[b].type}));J.width(Y).height(R).interpolate(u).color(ka.filter(function(a,b){return!e[b].disabled&&1==e[b].yAxis&&"area"==e[b].type}));H.width(Y).height(R).interpolate(u).color(ka.filter(function(a,b){return!e[b].disabled&&2==e[b].yAxis&&"area"==e[b].type}));Q.attr("transform","translate("+b.left+","+b.top+")");var ka=Q.select(".lines1Wrap").datum(S.filter(function(a){return!a.disabled})),
na=Q.select(".scatters1Wrap").datum(ba.filter(function(a){return!a.disabled})),oa=Q.select(".bars1Wrap").datum(ga.filter(function(a){return!a.disabled})),pa=Q.select(".stack1Wrap").datum(da.filter(function(a){return!a.disabled})),qa=Q.select(".lines2Wrap").datum(ca.filter(function(a){return!a.disabled})),ra=Q.select(".scatters2Wrap").datum(X.filter(function(a){return!a.disabled})),sa=Q.select(".bars2Wrap").datum(ma.filter(function(a){return!a.disabled})),ta=Q.select(".stack2Wrap").datum(fa.filter(function(a){return!a.disabled})),
ua=da.length?da.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],va=fa.length?fa.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];D.domain(h||d3.extent(d3.merge(la).concat(ua),function(a){return a.y})).range([0,R]);l.domain(n||d3.extent(d3.merge(ea).concat(va),function(a){return a.y})).range([0,R]);I.yDomain(D.domain());M.yDomain(D.domain());
p.yDomain(D.domain());J.yDomain(D.domain());G.yDomain(l.domain());x.yDomain(l.domain());B.yDomain(l.domain());H.yDomain(l.domain());da.length&&d3.transition(pa).call(J);fa.length&&d3.transition(ta).call(H);ga.length&&d3.transition(oa).call(p);ma.length&&d3.transition(sa).call(B);S.length&&d3.transition(ka).call(I);ca.length&&d3.transition(qa).call(G);ba.length&&d3.transition(na).call(M);X.length&&d3.transition(ra).call(x);F._ticks(c.utils.calcTicksX(Y/100,e)).tickSize(-R,0);Q.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+R+")");d3.transition(Q.select(".nv-x.nv-axis")).call(F);A._ticks(c.utils.calcTicksY(R/36,e)).tickSize(-Y,0);d3.transition(Q.select(".nv-y1.nv-axis")).call(A);L._ticks(c.utils.calcTicksY(R/36,e)).tickSize(-Y,0);d3.transition(Q.select(".nv-y2.nv-axis")).call(L);Q.select(".nv-y1.nv-axis").classed("nv-disabled",la.length?!1:!0).attr("transform","translate("+z.range()[0]+",0)");Q.select(".nv-y2.nv-axis").classed("nv-disabled",ea.length?!1:!0).attr("transform","translate("+z.range()[1]+",0)");
P.dispatch.on("stateChange",function(b){a.update()});w&&(r.width(Y).height(R).margin({left:b.left,top:b.top}).svgContainer(ja).xScale(z),ha.select(".nv-interactive").call(r));w?(r.dispatch.on("elementMousemove",function(b){U();var d,f,l,p=[];e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,h){var k=z.domain(),m=e.values.filter(function(b,c){return a.x()(b,c)>=k[0]&&a.x()(b,c)<=k[1]});f=c.interactiveBisect(m,b.pointXValue,a.x());var m=m[f],y=a.y()(m,f);null!==y&&ia(h,f,
!0);void 0!==m&&(void 0===d&&(d=m),void 0===l&&(l=z(a.x()(m,f))),p.push({key:e.key,value:y,color:g(e,e.seriesIndex),data:m,yAxis:2==e.yAxis?L:A}))});var h=function(a,b){var c=p[b].yAxis;return null==a?"N/A":c.tickFormat()(a)};r.tooltip.headerFormatter(function(a,b){return F.tickFormat()(a,b)}).valueFormatter(r.tooltip.valueFormatter()||h).data({value:a.x()(d,f),index:f,series:p})();r.renderGuideLine(l)}),r.dispatch.on("elementMouseout",function(a){U()})):(I.dispatch.on("elementMouseover.tooltip",
y),G.dispatch.on("elementMouseover.tooltip",y),I.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),G.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",v),x.dispatch.on("elementMouseover.tooltip",v),M.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),x.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),J.dispatch.on("elementMouseover.tooltip",K),H.dispatch.on("elementMouseover.tooltip",K),J.dispatch.on("elementMouseout.tooltip",
function(a){N.hidden(!0)}),H.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),p.dispatch.on("elementMouseover.tooltip",O),B.dispatch.on("elementMouseover.tooltip",O),p.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),B.dispatch.on("elementMouseout.tooltip",function(a){N.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(a){N()}),B.dispatch.on("elementMousemove.tooltip",function(a){N()}))});return a}var b={top:30,right:20,bottom:50,left:60},d=null,g=c.utils.defaultColor(),
f=null,k=null,m=!0,e=null,h,n,q=function(a){return a.x},t=function(a){return a.y},u="linear",v=!0,r=c.interactiveGuideline(),w=!1,C=" (right axis)",y=250,z=d3.scale.linear(),D=d3.scale.linear(),l=d3.scale.linear(),I=c.models.line().yScale(D).duration(y),G=c.models.line().yScale(l).duration(y),M=c.models.scatter().yScale(D).duration(y),x=c.models.scatter().yScale(l).duration(y),p=c.models.multiBar().stacked(!1).yScale(D).duration(y),B=c.models.multiBar().stacked(!1).yScale(l).duration(y),J=c.models.stackedArea().yScale(D).duration(y),
H=c.models.stackedArea().yScale(l).duration(y),F=c.models.axis().scale(z).orient("bottom").tickPadding(5).duration(y),A=c.models.axis().scale(D).orient("left").duration(y),L=c.models.axis().scale(l).orient("right").duration(y),P=c.models.legend().height(30),N=c.models.tooltip(),O=d3.dispatch(),E=[I,G,M,x,p,B,J,H];a.dispatch=O;a.legend=P;a.lines1=I;a.lines2=G;a.scatters1=M;a.scatters2=x;a.bars1=p;a.bars2=B;a.stack1=J;a.stack2=H;a.xAxis=F;a.yAxis1=A;a.yAxis2=L;a.tooltip=N;a.interactiveLayer=r;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return k},set:function(a){k=a}},showLegend:{get:function(){return m},set:function(a){m=a}},yDomain1:{get:function(){return h},set:function(a){h=a}},yDomain2:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return e},set:function(a){e=a}},interpolate:{get:function(){return u},set:function(a){u=a}},legendRightAxisHint:{get:function(){return C},set:function(a){C=
a}},margin:{get:function(){return b},set:function(a){void 0!==a.top&&(d=b.top=a.top);b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return g},set:function(a){g=c.utils.getColor(a)}},x:{get:function(){return q},set:function(a){q=a;I.x(a);G.x(a);M.x(a);x.x(a);p.x(a);B.x(a);J.x(a);H.x(a)}},y:{get:function(){return t},set:function(a){t=a;I.y(a);G.y(a);M.y(a);x.y(a);J.y(a);H.y(a);p.y(a);B.y(a)}},useVoronoi:{get:function(){return v},
set:function(a){v=a;I.useVoronoi(a);G.useVoronoi(a);J.useVoronoi(a);H.useVoronoi(a)}},useInteractiveGuideline:{get:function(){return w},set:function(a){if(w=a)I.interactive(!1),I.useVoronoi(!1),G.interactive(!1),G.useVoronoi(!1),J.interactive(!1),J.useVoronoi(!1),H.interactive(!1),H.useVoronoi(!1),M.interactive(!1),x.interactive(!1)}},duration:{get:function(){return y},set:function(a){y=a;[I,G,J,H,M,x,F,A,L].forEach(function(a){a.duration(y)})}}});c.utils.initOptions(a);return a};c.models.ohlcBar=
function(){function a(p){p.each(function(a){k=d3.select(this);var p=c.utils.availableWidth(d,k,b),D=c.utils.availableHeight(g,k,b);c.utils.initSVG(k);var B=p/a[0].values.length*.9;m.domain(l||d3.extent(a[0].values.map(h).concat(r)));C?m.range(G||[.5*p/a[0].values.length,p*(a[0].values.length-.5)/a[0].values.length]):m.range(G||[5+B/2,p-B/2-5]);e.domain(I||[d3.min(a[0].values.map(v).concat(w)),d3.max(a[0].values.map(u).concat(w))]).range(M||[D,0]);m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-
.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));var A=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),L=A.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),P=L.append("defs"),L=L.append("g"),N=A.select("g");L.append("g").attr("class","nv-ticks");A.attr("transform","translate("+b.left+","+b.top+")");k.on("click",
function(a,b){x.chartClick({data:a,index:b,pos:d3.event,id:f})});P.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");A.select("#nv-chart-clip-path-"+f+" rect").attr("width",p).attr("height",D);N.attr("clip-path",y?"url(#nv-chart-clip-path-"+f+")":"");D=A.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});D.exit().remove();D.enter().append("path").attr("class",function(a,b,c){return(q(a,b)>t(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",
function(a,b){return"m0,0l0,"+(e(q(a,b))-e(u(a,b)))+"l"+-B/2+",0l"+B/2+",0l0,"+(e(v(a,b))-e(q(a,b)))+"l0,"+(e(t(a,b))-e(v(a,b)))+"l"+B/2+",0l"+-B/2+",0z"}).attr("transform",function(a,b){return"translate("+m(h(a,b))+","+e(u(a,b))+")"}).attr("fill",function(a,b){return z[0]}).attr("stroke",function(a,b){return z[0]}).attr("x",0).attr("y",function(a,b){return e(Math.max(0,n(a,b)))}).attr("height",function(a,b){return Math.abs(e(n(a,b))-e(0))});D.attr("class",function(a,b,c){return(q(a,b)>t(a,b)?"nv-tick negative":
"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(D).attr("transform",function(a,b){return"translate("+m(h(a,b))+","+e(u(a,b))+")"}).attr("d",function(b,c){var d=p/a[0].values.length*.9;return"m0,0l0,"+(e(q(b,c))-e(u(b,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(e(v(b,c))-e(q(b,c)))+"l0,"+(e(t(b,c))-e(v(b,c)))+"l"+d/2+",0l"+-d/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},d=null,g=null,f=Math.floor(1E4*Math.random()),k=null,m=d3.scale.linear(),e=d3.scale.linear(),h=function(a){return a.x},
n=function(a){return a.y},q=function(a){return a.open},t=function(a){return a.close},u=function(a){return a.high},v=function(a){return a.low},r=[],w=[],C=!1,y=!0,z=c.utils.defaultColor(),D=!1,l,I,G,M,x=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();k.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){k.select(".nv-ohlcBar .nv-tick.hover").classed("hover",
!1)};a.dispatch=x;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return l},set:function(a){l=a}},yDomain:{get:function(){return I},set:function(a){I=a}},xRange:{get:function(){return G},set:function(a){G=a}},yRange:{get:function(){return M},
set:function(a){M=a}},forceX:{get:function(){return r},set:function(a){r=a}},forceY:{get:function(){return w},set:function(a){w=a}},padData:{get:function(){return C},set:function(a){C=a}},clipEdge:{get:function(){return y},set:function(a){y=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return D},set:function(a){D=a}},x:{get:function(){return h},set:function(a){h=a}},y:{get:function(){return n},set:function(a){n=a}},open:{get:function(){return q()},set:function(a){q=
a}},close:{get:function(){return t()},set:function(a){t=a}},high:{get:function(){return u},set:function(a){u=a}},low:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!=a.top?a.top:b.top;b.right=void 0!=a.right?a.right:b.right;b.bottom=void 0!=a.bottom?a.bottom:b.bottom;b.left=void 0!=a.left?a.left:b.left}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinates=
function(){function a(B){p.reset();B.each(function(a){function p(a){return G(q.map(function(b){if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key]))||Z){var c=e[b.key].domain(),d=e[b.key].range(),f=c[0]-(c[1]-c[0])/9;0>y.indexOf(b.key)&&(c=d3.scale.linear().domain([f,c[1]]).range([k-12,d[1]]),e[b.key].brush.y(c),y.push(b.key));if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key])))return[m(b.key),e[b.key](f)]}void 0!==Y&&(0<y.length||Z?(Y.style("display","inline"),R.style("display",
"inline")):(Y.style("display","none"),R.style("display","none")));return[m(b.key),e[b.key](a.values[b.key])]}))}function B(a){r.forEach(function(b){var c=e[b.dimension].brush.y().domain();b.hasOnlyNaN&&(b.extent[1]=(e[b.dimension].domain()[1]-c[0])*(b.extent[1]-b.extent[0])/(aa[b.dimension]-b.extent[0])+c[0]);b.hasNaN&&(b.extent[0]=c[0]);a&&e[b.dimension].brush.extent(b.extent)});I.select(".nv-brushBackground").each(function(a){d3.select(this).call(e[a.key].brush)}).selectAll("rect").attr("x",-8).attr("width",
16);N()}function A(){!1===u&&(u=!0,B(!0))}function J(){S=t.filter(function(a){return!e[a].brush.empty()});ca=S.map(function(a){return e[a].brush.extent()});r=[];S.forEach(function(a,b){r[b]={dimension:a,extent:ca[b],hasNaN:!1,hasOnlyNaN:!1}});w=[];D.style("display",function(a){var b=S.every(function(b,c){return(isNaN(a.values[b])||isNaN(parseFloat(a.values[b])))&&ca[c][0]==e[b].brush.y().domain()[0]?!0:ca[c][0]<=a.values[b]&&a.values[b]<=ca[c][1]&&!isNaN(parseFloat(a.values[b]))});b&&w.push(a);return b?
null:"none"});N();x.brush({filters:r,active:w})}function P(){var a=0<S.length?!0:!1;r.forEach(function(a){a.extent[0]===e[a.dimension].brush.y().domain()[0]&&0<=y.indexOf(a.dimension)&&(a.hasNaN=!0);a.extent[1]<e[a.dimension].domain()[0]&&(a.hasOnlyNaN=!0)});x.brushEnd(w,a)}function N(){I.select(".nv-axis").each(function(a,b){var c=r.filter(function(b){return b.dimension==a.key});V[a.key]=e[a.key].domain();0!=c.length&&u&&(V[a.key]=[],c[0].extent[1]>e[a.key].domain()[0]&&(V[a.key]=[c[0].extent[1]]),
c[0].extent[0]>=e[a.key].domain()[0]&&V[a.key].push(c[0].extent[0]));d3.select(this).call(M.scale(e[a.key]).tickFormat(a.format).tickValues(V[a.key]))})}function O(a){var b=C[a];return null==b?m(a):b}var E=d3.select(this);f=c.utils.availableWidth(d,E,b);k=c.utils.availableHeight(g,E,b);c.utils.initSVG(E);if(void 0===a[0].values){var K=[];a.forEach(function(a){var b={};Object.keys(a).forEach(function(c){"name"!==c&&(b[c]=a[c])});K.push({key:a.name,values:b})});a=K}var U=a.map(function(a){return a.values});
0===w.length&&(w=a);t=n.sort(function(a,b){return a.currentPosition-b.currentPosition}).map(function(a){return a.key});q=n.filter(function(a){return!a.disabled});m.rangePoints([0,f],1).domain(q.map(function(a){return a.key}));var aa={},Z=!1,V=[];t.forEach(function(a){var b=d3.extent(U,function(b){return+b[a]}),c=b[0],b=b[1],d=!1;if(isNaN(c)||isNaN(b))d=!0,b=c=0;c===b&&(--c,b+=1);var f=r.filter(function(b){return b.dimension==a});0!==f.length&&(d?(c=e[a].domain()[0],b=e[a].domain()[1]):!f[0].hasOnlyNaN&&
u?(c=c>f[0].extent[0]?f[0].extent[0]:c,b=b<f[0].extent[1]?f[0].extent[1]:b):f[0].hasNaN&&(b=b<f[0].extent[1]?f[0].extent[1]:b,aa[a]=e[a].domain()[1],Z=!0));e[a]=d3.scale.linear().domain([c,b]).range([.9*(k-12),0]);y=[];e[a].brush=d3.svg.brush().y(e[a]).on("brushstart",A).on("brush",J).on("brushend",P)});var E=E.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),T=E.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),W=E.select("g");T.append("g").attr("class","nv-parallelCoordinates background");
T.append("g").attr("class","nv-parallelCoordinates foreground");T.append("g").attr("class","nv-parallelCoordinates missingValuesline");E.attr("transform","translate("+b.left+","+b.top+")");G.interpolate("cardinal").tension(z);M.orient("left");var T=d3.behavior.drag().on("dragstart",function(a){C[a.key]=this.parentNode.__origin__=m(a.key);l.attr("visibility","hidden")}).on("drag",function(a){C[a.key]=Math.min(f,Math.max(0,this.parentNode.__origin__+=d3.event.x));D.attr("d",p);q.sort(function(a,b){return O(a.key)-
O(b.key)});q.forEach(function(a,b){return a.currentPosition=b});m.domain(q.map(function(a){return a.key}));I.attr("transform",function(a){return"translate("+O(a.key)+")"})}).on("dragend",function(a,b){delete this.parentNode.__origin__;delete C[a.key];d3.select(this.parentNode).attr("transform","translate("+m(a.key)+")");D.attr("d",p);l.attr("d",p).attr("visibility",null);x.dimensionsOrder(q)}),ia=m.range()[1]-m.range()[0],ia=isNaN(ia)?m.range()[0]:ia;if(!isNaN(ia)){var ja=[0+ia/2,k-12,f-ia/2,k-12];
var Y=E.select(".missingValuesline").selectAll("line").data([ja]);Y.enter().append("line");Y.exit().remove();Y.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]});var R=E.select(".missingValuesline").selectAll("text").data([h]);R.append("text").data([h]);R.enter().append("text");R.exit().remove();R.attr("y",k).attr("x",f-92-ia/2).text(function(a){return a})}l=E.select(".background").selectAll("path").data(a);
l.enter().append("path");l.exit().remove();l.attr("d",p);D=E.select(".foreground").selectAll("path").data(a);D.enter().append("path");D.exit().remove();D.attr("d",p).style("stroke-width",function(a,b){isNaN(a.strokeWidth)&&(a.strokeWidth=1);return a.strokeWidth}).attr("stroke",function(a,b){return a.color||v(a,b)});D.on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("stroke-width",a.strokeWidth+2+"px").style("stroke-opacity",1);x.elementMouseover({label:a.name,color:a.color||
v(a,b),values:a.values,dimensions:q})});D.on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("stroke-width",a.strokeWidth+"px").style("stroke-opacity",.7);x.elementMouseout({label:a.name,index:b})});D.on("mousemove",function(a,b){x.elementMousemove()});D.on("click",function(a){x.elementClick({id:a.id})});I=W.selectAll(".dimension").data(q);a=I.enter().append("g").attr("class","nv-parallelCoordinates dimension");I.attr("transform",function(a){return"translate("+m(a.key)+",0)"});
a.append("g").attr("class","nv-axis");a.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(a,b){x.elementMouseover({label:a.tooltip||a.key,color:a.color})}).on("mouseout",function(a,b){x.elementMouseout({label:a.tooltip})}).on("mousemove",function(a,b){x.elementMousemove()}).call(T);a.append("g").attr("class","nv-brushBackground");I.exit().remove();I.select(".nv-label").text(function(a){return a.key});B(u);var S=t.filter(function(a){return!e[a].brush.empty()}),
ca=S.map(function(a){return e[a].brush.extent()});a=w.slice(0);w=[];D.style("display",function(a){var b=S.every(function(b,c){return(isNaN(a.values[b])||isNaN(parseFloat(a.values[b])))&&ca[c][0]==e[b].brush.y().domain()[0]?!0:ca[c][0]<=a.values[b]&&a.values[b]<=ca[c][1]&&!isNaN(parseFloat(a.values[b]))});b&&w.push(a);return b?null:"none"});(0<r.length||!c.utils.arrayEquals(w,a))&&x.activeChanged(w)});return a}var b={top:30,right:0,bottom:10,left:0},d=null,g=null,f=null,k=null,m=d3.scale.ordinal(),
e={},h="undefined values",n=[],q=[],t=[],u=!0,v=c.utils.defaultColor(),r=[],w=[],C=[],y=[],z=1,D,l,I,G=d3.svg.line(),M=d3.svg.axis(),x=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),p=c.utils.renderWatch(x);a.dispatch=x;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},
set:function(a){g=a}},dimensionData:{get:function(){return n},set:function(a){n=a}},displayBrush:{get:function(){return u},set:function(a){u=a}},filters:{get:function(){return r},set:function(a){r=a}},active:{get:function(){return w},set:function(a){w=a}},lineTension:{get:function(){return z},set:function(a){z=a}},undefinedValuesLabel:{get:function(){return h},set:function(a){h=a}},dimensions:{get:function(){return n.map(function(a){return a.key})},set:function(a){c.deprecated("dimensions","use dimensionData instead");
0===n.length?a.forEach(function(a){n.push({key:a})}):a.forEach(function(a,b){n[b].key=a})}},dimensionNames:{get:function(){return n.map(function(a){return a.key})},set:function(a){c.deprecated("dimensionNames","use dimensionData instead");t=[];0===n.length?a.forEach(function(a){n.push({key:a})}):a.forEach(function(a,b){n[b].key=a})}},dimensionFormats:{get:function(){return n.map(function(a){return a.format})},set:function(a){c.deprecated("dimensionFormats","use dimensionData instead");0===n.length?
a.forEach(function(a){n.push({format:a})}):a.forEach(function(a,b){n[b].format=a})}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinatesChart=function(){function a(l){y.reset();y.models(b);l.each(function(l){var g=
d3.select(this);c.utils.initSVG(g);var y=c.utils.availableWidth(m,g,f),x=c.utils.availableHeight(e,g,f);a.update=function(){g.call(a)};a.container=this;q.setter(D(t),a.update).getter(z(t)).update();q.disabled=t.map(function(a){return!!a.disabled});t=t.map(function(a){a.disabled=!!a.disabled;return a});t.forEach(function(a,b){a.originalPosition=isNaN(a.originalPosition)?b:a.originalPosition;a.currentPosition=isNaN(a.currentPosition)?b:a.currentPosition});if(!v)for(p in v={},q)v[p]=q[p]instanceof Array?
q[p].slice(0):q[p];if(l&&l.length)g.selectAll(".nv-noData").remove();else return c.utils.noData(a,g),a;var p=g.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([l]);var n=p.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),I=p.select("g");n.append("g").attr("class","nv-parallelCoordinatesWrap");n.append("g").attr("class","nv-legendWrap");I.select("rect").attr("width",y).attr("height",0<x?x:0);h?(d.width(y).color(function(a){return"rgb(188,190,192)"}),
I.select(".nv-legendWrap").datum(t.sort(function(a,b){return a.originalPosition-b.originalPosition})).call(d),k||d.height()===f.top||(f.top=d.height(),x=c.utils.availableHeight(e,g,f)),p.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-f.top+")")):I.select(".nv-legendWrap").selectAll("*").remove();p.attr("transform","translate("+f.left+","+f.top+")");b.width(y).height(x).dimensionData(t).displayBrush(u);I.select(".nv-parallelCoordinatesWrap ").datum(l).transition().call(b);b.dispatch.on("brushEnd",
function(a,b){b?(u=!0,C.brushEnd(a)):u=!1});d.dispatch.on("stateChange",function(b){for(var c in b)q[c]=b[c];C.stateChange(q);a.update()});b.dispatch.on("dimensionsOrder",function(a){t.sort(function(a,b){return a.currentPosition-b.currentPosition});var b=!1;t.forEach(function(a,c){a.currentPosition=c;a.currentPosition!==a.originalPosition&&(b=!0)});C.dimensionsOrder(t,b)});C.on("changeState",function(b){"undefined"!==typeof b.disabled&&(t.forEach(function(a,c){a.disabled=b.disabled[c]}),q.disabled=
b.disabled);a.update()})});y.renderEnd("parraleleCoordinateChart immediate");return a}var b=c.models.parallelCoordinates(),d=c.models.legend(),g=c.models.tooltip();c.models.tooltip();var f={top:0,right:0,bottom:0,left:0},k=null,m=null,e=null,h=!0,n=c.utils.defaultColor(),q=c.utils.state(),t=[],u=!0,v=null,r=null,w="undefined",C=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),y=c.utils.renderWatch(C),z=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
D=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};g.contentGenerator(function(a){var b='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td><strong>'+a.key+"</strong></td></tr></thead>";0!==a.series.length&&(b+='<tbody><tr><td height ="10px"></td></tr>',a.series.forEach(function(a){b=b+'<tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td class="key">'+
a.key+'</td><td class="value">'+a.value+"</td></tr>"}),b+="</tbody>");return b+="</table>"});b.dispatch.on("elementMouseover.tooltip",function(a){var b={key:a.label,color:a.color,series:[]};a.values&&(Object.keys(a.values).forEach(function(c){var d=a.dimensions.filter(function(a){return a.key===c})[0];if(d){var e=isNaN(a.values[c])||isNaN(parseFloat(a.values[c]))?w:d.format(a.values[c]);b.series.push({idx:d.currentPosition,key:c,value:e,color:d.color})}}),b.series.sort(function(a,b){return a.idx-
b.idx}));g.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){g.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(){g()});a.dispatch=C;a.parallelCoordinates=b;a.legend=d;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return e},set:function(a){e=a}},showLegend:{get:function(){return h},set:function(a){h=a}},defaultState:{get:function(){return v},set:function(a){v=
a}},dimensionData:{get:function(){return t},set:function(a){t=a}},displayBrush:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return r},set:function(a){r=a}},nanValue:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(k=f.top=a.top);f.right=void 0!==a.right?a.right:f.right;f.bottom=void 0!==a.bottom?a.bottom:f.bottom;f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a);
d.color(n);b.color(n)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.pie=function(){function a(A){F.reset();A.each(function(a){var A=d-b.left-b.right,L=g-b.top-b.bottom,O=Math.min(A,L)/2,E=[],K=[];e=d3.select(this);if(0===p.length)for(var U=O-O/5,aa=M*O,Z=0;Z<a[0].length;Z++)E.push(U),K.push(aa);else C?(E=p.map(function(a){return(a.outer-a.outer/5)*O}),K=p.map(function(a){return(a.inner-a.inner/5)*O}),M=d3.min(p.map(function(a){return a.inner-a.inner/5}))):(E=p.map(function(a){return a.outer*
O}),K=p.map(function(a){return a.inner*O}),M=d3.min(p.map(function(a){return a.inner})));c.utils.initSVG(e);var U=e.selectAll(".nv-wrap.nv-pie").data(a),Z=U.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+m).append("g"),V=U.select("g"),aa=Z.append("g").attr("class","nv-pie");Z.append("g").attr("class","nv-pieLabels");U.attr("transform","translate("+b.left+","+b.top+")");V.select(".nv-pie").attr("transform","translate("+A/2+","+L/2+")");V.select(".nv-pieLabels").attr("transform","translate("+
A/2+","+L/2+")");e.on("click",function(a,b){B.chartClick({data:a,index:b,pos:d3.event,id:m})});J=[];H=[];for(Z=0;Z<a[0].length;Z++){var V=d3.svg.arc().outerRadius(E[Z]),T=d3.svg.arc().outerRadius(E[Z]+5);!1!==D&&(V.startAngle(D),T.startAngle(D));!1!==I&&(V.endAngle(I),T.endAngle(I));r&&(V.innerRadius(K[Z]),T.innerRadius(K[Z]));V.cornerRadius&&G&&(V.cornerRadius(G),T.cornerRadius(G));J.push(V);H.push(T)}K=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:k(a)});K.padAngle&&l&&K.padAngle(l);
r&&w&&(aa.append("text").attr("class","nv-pie-title"),U.select(".nv-pie-title").style("text-anchor","middle").text(function(a){return w}).style("font-size",Math.min(A,L)*M*2/(w.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+y+")"}));A=U.select(".nv-pie").selectAll(".nv-slice").data(K);L=U.select(".nv-pieLabels").selectAll(".nv-label").data(K);A.exit().remove();L.exit().remove();K=A.enter().append("g");K.attr("class","nv-slice");K.on("mouseover",function(a,
b){d3.select(this).classed("hover",!0);C&&d3.select(this).select("path").transition().duration(70).attr("d",H[b]);B.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill"),percent:(a.endAngle-a.startAngle)/(2*Math.PI)})});K.on("mouseout",function(a,b){d3.select(this).classed("hover",!1);C&&d3.select(this).select("path").transition().duration(50).attr("d",J[b]);B.elementMouseout({data:a.data,index:b})});K.on("mousemove",function(a,b){B.elementMousemove({data:a.data,index:b})});K.on("click",
function(a,b){B.elementClick({data:a.data,index:b,color:d3.select(this).style("fill"),event:d3.event,element:this})});K.on("dblclick",function(a,b){B.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})});A.attr("fill",function(a,b){return h(a.data,b)});A.attr("stroke",function(a,b){return h(a.data,b)});K.append("path").each(function(a){this._current=a});A.select("path").transition().duration(x).attr("d",function(a,b){return J[b](a)}).attrTween("d",function(a,b){a.endAngle=isNaN(a.endAngle)?
0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;r||(a.innerRadius=0);var c=d3.interpolate(this._current,a);this._current=c(0);return function(a){return J[b](c(a))}});if(q){for(var W=[],Z=0;Z<a[0].length;Z++)W.push(J[Z]),t?r&&(W[Z]=d3.svg.arc().outerRadius(J[Z].outerRadius()),!1!==D&&W[Z].startAngle(D),!1!==I&&W[Z].endAngle(I)):r||W[Z].innerRadius(0);L.enter().append("g").classed("nv-label",!0).each(function(a,b){var c=d3.select(this);c.attr("transform",function(a,b){if(z){a.outerRadius=
E[b]+10;a.innerRadius=E[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+W[b].centroid(a)+") rotate("+c+")"}a.outerRadius=O+10;a.innerRadius=O+15;return"translate("+W[b].centroid(a)+")"});c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);c.append("text").style("text-anchor",z?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var ia={},ja=function(a){return 140*
Math.floor(a[0]/140)+","+14*Math.floor(a[1]/14)};L.watchTransition(F,"pie labels").attr("transform",function(a,b){if(z){a.outerRadius=E[b]+10;a.innerRadius=E[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+W[b].centroid(a)+") rotate("+c+")"}a.outerRadius=O+10;a.innerRadius=O+15;var c=W[b].centroid(a),d=(a.endAngle-a.startAngle)/(2*Math.PI);a.value&&d>=v&&(d=ja(c),ia[d]&&(c[1]-=14),ia[ja(c)]=!0);return"translate("+c+")"});L.select(".nv-label text").style("text-anchor",
function(a,b){return z?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=(a.endAngle-a.startAngle)/(2*Math.PI),d="";if(!a.value||c<v)return"";if("function"===typeof u)d=u(a,b,{key:f(a.data),value:k(a.data),percent:n(c)});else switch(u){case "key":d=f(a.data);break;case "value":d=n(k(a.data));break;case "percent":d=d3.format("%")(c)}return d})}});F.renderEnd("pie immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=500,g=500,f=function(a){return a.x},k=function(a){return a.y},
m=Math.floor(1E4*Math.random()),e=null,h=c.utils.defaultColor(),n=d3.format(",.2f"),q=!0,t=!1,u="key",v=.02,r=!1,w=!1,C=!0,y=0,z=!1,D=!1,l=!1,I=!1,G=0,M=.5,x=250,p=[],B=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),J=[],H=[],F=c.utils.renderWatch(B);a.dispatch=B;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{arcsRadius:{get:function(){return p},set:function(a){p=a}},width:{get:function(){return d},
set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},showLabels:{get:function(){return q},set:function(a){q=a}},title:{get:function(){return w},set:function(a){w=a}},titleOffset:{get:function(){return y},set:function(a){y=a}},labelThreshold:{get:function(){return v},set:function(a){v=a}},valueFormat:{get:function(){return n},set:function(a){n=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return m},set:function(a){m=a}},endAngle:{get:function(){return I},
set:function(a){I=a}},startAngle:{get:function(){return D},set:function(a){D=a}},padAngle:{get:function(){return l},set:function(a){l=a}},cornerRadius:{get:function(){return G},set:function(a){G=a}},donutRatio:{get:function(){return M},set:function(a){M=a}},labelsOutside:{get:function(){return t},set:function(a){t=a}},labelSunbeamLayout:{get:function(){return z},set:function(a){z=a}},donut:{get:function(){return r},set:function(a){r=a}},growOnHover:{get:function(){return C},set:function(a){C=a}},
pieLabelsOutside:{get:function(){return t},set:function(a){t=a;c.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return t},set:function(a){t=a;c.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return n},set:function(a){n=a;c.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top="undefined"!=typeof a.top?a.top:b.top;b.right="undefined"!=typeof a.right?a.right:
b.right;b.bottom="undefined"!=typeof a.bottom?a.bottom:b.bottom;b.left="undefined"!=typeof a.left?a.left:b.left}},duration:{get:function(){return x},set:function(a){x=a;F.reset(x)}},y:{get:function(){return k},set:function(a){k=d3.functor(a)}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}},labelType:{get:function(){return u},set:function(a){u=a||"key"}}});c.utils.initOptions(a);return a};c.models.pieChart=function(){function a(l){y.reset();y.models(b);l.each(function(l){var g=
d3.select(this);c.utils.initSVG(g);var h=c.utils.availableWidth(m,g,f),y=c.utils.availableHeight(e,g,f);a.update=function(){g.transition().call(a)};a.container=this;u.setter(D(l),a.update).getter(z(l)).update();u.disabled=l.map(function(a){return!!a.disabled});if(!v)for(p in v={},u)v[p]=u[p]instanceof Array?u[p].slice(0):u[p];if(l&&l.length)g.selectAll(".nv-noData").remove();else return c.utils.noData(a,g),a;var p=g.selectAll("g.nv-wrap.nv-pieChart").data([l]);var t=p.enter().append("g").attr("class",
"nvd3 nv-wrap nv-pieChart").append("g"),r=p.select("g");t.append("g").attr("class","nv-pieWrap");t.append("g").attr("class","nv-legendWrap");n?"top"===q?(d.width(h).key(b.x()),p.select(".nv-legendWrap").datum(l).call(d),k||d.height()===f.top||(f.top=d.height(),y=c.utils.availableHeight(e,g,f)),p.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")):"right"===q&&(t=c.models.legend().width(),h/2<t&&(t=h/2),d.height(y).key(b.x()),d.width(t),h-=d.width(),p.select(".nv-legendWrap").datum(l).call(d).attr("transform",
"translate("+h+",0)")):r.select(".nv-legendWrap").selectAll("*").remove();p.attr("transform","translate("+f.left+","+f.top+")");b.width(h).height(y);h=r.select(".nv-pieWrap").datum([l]);d3.transition(h).call(b);d.dispatch.on("stateChange",function(b){for(var c in b)u[c]=b[c];C.stateChange(u);a.update()});C.on("changeState",function(b){"undefined"!==typeof b.disabled&&(l.forEach(function(a,c){a.disabled=b.disabled[c]}),u.disabled=b.disabled);a.update()})});y.renderEnd("pieChart immediate");return a}
var b=c.models.pie(),d=c.models.legend(),g=c.models.tooltip(),f={top:30,right:20,bottom:20,left:20},k=null,m=null,e=null,h=!1,n=!0,q="top",t=c.utils.defaultColor(),u=c.utils.state(),v=null,r=null,w=250,C=d3.dispatch("stateChange","changeState","renderEnd");g.duration(0).headerEnabled(!1).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var y=c.utils.renderWatch(C),z=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},D=function(a){return function(b){void 0!==
b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color,percent:b.percent};h||(delete b.percent,delete b.series.percent);g.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){g.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){g()});a.legend=d;a.dispatch=C;a.pie=b;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},
{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return e},set:function(a){e=a}},noData:{get:function(){return r},set:function(a){r=a}},showTooltipPercent:{get:function(){return h},set:function(a){h=a}},showLegend:{get:function(){return n},set:function(a){n=a}},legendPosition:{get:function(){return q},set:function(a){q=a}},defaultState:{get:function(){return v},set:function(a){v=a}},color:{get:function(){return t},set:function(a){t=a;d.color(t);b.color(t)}},duration:{get:function(){return w},
set:function(a){w=a;y.reset(w);b.duration(w)}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(k=f.top=a.top);f.right=void 0!==a.right?a.right:f.right;f.bottom=void 0!==a.bottom?a.bottom:f.bottom;f.left=void 0!==a.left?a.left:f.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sankey=function(){function a(){u.forEach(function(a){a.sourceLinks=[];a.targetLinks=[]});v.forEach(function(a){var b=a.source,c=a.target;"number"===typeof b&&(b=a.source=u[a.source]);
"number"===typeof c&&(c=a.target=u[a.target]);b.sourceLinks.push(a);c.targetLinks.push(a)})}function b(){u.forEach(function(a){a.value=Math.max(d3.sum(a.sourceLinks,e),d3.sum(a.targetLinks,e))})}function d(){for(var a=u,b,c=0;a.length&&c<u.length;)b=[],a.forEach(function(a){a.x=c;a.dx=n;a.sourceLinks.forEach(function(a){0>b.indexOf(a.target)&&b.push(a.target)})}),a=b,++c;r&&g(c);f((t[0]-n)/(c-1))}function g(a){u.forEach(function(b){b.sourceLinks.length||(b.x=a-1)})}function f(a){u.forEach(function(b){b.x*=
a})}function k(a){function b(a){function b(a){return(a.source.y+a.sy+a.dy/2)*a.value}g.forEach(function(c,d){c.forEach(function(c){if(c.targetLinks.length){var d=d3.sum(c.targetLinks,b)/d3.sum(c.targetLinks,e);c.y+=(d-C(c))*a}})})}function c(a){function b(a){return(a.target.y+a.ty+a.dy/2)*a.value}g.slice().reverse().forEach(function(c){c.forEach(function(c){if(c.sourceLinks.length){var d=d3.sum(c.sourceLinks,b)/d3.sum(c.sourceLinks,e);c.y+=(d-C(c))*a}})})}function d(){g.forEach(function(a){var b=
0;var c=a.length,d;a.sort(f);for(d=0;d<c;++d){var e=a[d];b-=e.y;0<b&&(e.y+=b);b=e.y+e.dy+q}b=b-q-t[1];if(0<b)for(b=e.y-=b,d=c-2;0<=d;--d)e=a[d],b=e.y+e.dy+q-b,0<b&&(e.y-=b),b=e.y})}function f(a,b){return a.y-b.y}var g=d3.nest().key(function(a){return a.x}).sortKeys(d3.ascending).entries(u).map(function(a){return a.values});(function(){var a=d3.min(g,function(a){return(t[1]-(a.length-1)*q)/d3.sum(a,e)});g.forEach(function(b){b.forEach(function(b,c){b.y=c;b.dy=b.value*a})});v.forEach(function(b){b.dy=
b.value*a})})();d();m();for(var h=1;0<a;--a)c(h*=.99),d(),m(),b(h),d(),m()}function m(){function a(a,b){return a.source.y-b.source.y}function b(a,b){return a.target.y-b.target.y}u.forEach(function(c){c.sourceLinks.sort(b);c.targetLinks.sort(a)});u.forEach(function(a){var b=0,c=0;a.sourceLinks.forEach(function(a){a.sy=b;b+=a.dy});a.targetLinks.forEach(function(a){a.ty=c;c+=a.dy})})}function e(a){return a.value}var h={},n=24,q=8,t=[1,1],u=[],v=[],r=!0,w=function(){function a(a){var c=a.source.x+a.source.dx,
d=a.target.x,e=d3.interpolateNumber(c,d),f=e(b),e=e(1-b),g=a.source.y+a.sy+a.dy/2;a=a.target.y+a.ty+a.dy/2;return"M"+c+","+g+"C"+f+","+g+" "+e+","+a+" "+d+","+a}var b=.5;a.curvature=function(c){if(!arguments.length)return b;b=+c;return a};return a},C=function(a){return a.y+a.dy/2};h.options=c.utils.optionsFunc.bind(h);h._options=Object.create({},{nodeWidth:{get:function(){return n},set:function(a){n=+a}},nodePadding:{get:function(){return q},set:function(a){q=a}},nodes:{get:function(){return u},set:function(a){u=
a}},links:{get:function(){return v},set:function(a){v=a}},size:{get:function(){return t},set:function(a){t=a}},sinksRight:{get:function(){return r},set:function(a){r=a}},layout:{get:function(){a();b();d();k(32)},set:function(c){a();b();d();k(c)}},relayout:{get:function(){m()},set:function(a){}},center:{get:function(){return C()},set:function(a){"function"===typeof a&&(C=a)}},link:{get:function(){return w()},set:function(a){"function"===typeof a&&(w=a);return w()}}});c.utils.initOptions(h);return h};
c.models.sankeyChart=function(){function a(b){b.each(function(a){var c={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},e=!1,n=!1;0<=("object"===typeof a.nodes&&
a.nodes.length)&&0<=("object"===typeof a.links&&a.links.length)&&(e=!0);a.nodes&&0<a.nodes.length&&a.links&&0<a.links.length&&(n=!0);if(!e)return console.error("NVD3 Sankey chart error:","invalid data format for",a),console.info("Valid data format is: ",c,JSON.stringify(c)),C(b,"Error loading chart, data is invalid"),!1;if(!n)return C(b,"No data available"),!1;c=b.append("svg").attr("width",g).attr("height",f).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");d.nodeWidth(k).nodePadding(m).size([g,
f]);var y=d.link();d.nodes(a.nodes).links(a.links).layout(32).center(h);var t=c.append("g").selectAll(".link").data(a.links).enter().append("path").attr("class","link").attr("d",y).style("stroke-width",function(a){return Math.max(1,a.dy)}).sort(function(a,b){return b.dy-a.dy});t.append("title").text(u);a=c.append("g").selectAll(".node").data(a.nodes).enter().append("g").attr("class","node").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).call(d3.behavior.drag().origin(function(a){return a}).on("dragstart",
function(){this.parentNode.appendChild(this)}).on("drag",function(a){d3.select(this).attr("transform","translate("+a.x+","+(a.y=Math.max(0,Math.min(f-a.dy,d3.event.y)))+")");d.relayout();t.attr("d",y)}));a.append("rect").attr("height",function(a){return a.dy}).attr("width",d.nodeWidth()).style("fill",v).style("stroke",r).append("title").text(w);a.append("text").attr("x",-6).attr("y",function(a){return a.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(a){return a.name}).filter(function(a){return a.x<
g/2}).attr("x",6+d.nodeWidth()).attr("text-anchor","start")});return a}var b={top:5,right:0,bottom:5,left:0},d=c.models.sankey(),g=600,f=400,k=36,m=40,e="units",h=void 0,n=d3.format(",.0f"),q=function(a){return n(a)+" "+e},t=d3.scale.category20(),u=function(a){return a.source.name+" \u2192 "+a.target.name+"\n"+q(a.value)},v=function(a){return a.color=t(a.name.replace(/ .*/,""))},r=function(a){return d3.rgb(a.color).darker(2)},w=function(a){return a.name+"\n"+q(a.value)},C=function(a,b){a.append("text").attr("x",
0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(b)};a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{units:{get:function(){return e},set:function(a){e=a}},width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return f},set:function(a){f=a}},format:{get:function(){return q},set:function(a){q=a}},linkTitle:{get:function(){return u},set:function(a){u=a}},nodeWidth:{get:function(){return k},set:function(a){k=a}},nodePadding:{get:function(){return m},
set:function(a){m=a}},center:{get:function(){return h},set:function(a){h=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},nodeStyle:{get:function(){return{}},set:function(a){v=void 0!==a.fillColor?a.fillColor:v;r=void 0!==a.strokeColor?a.strokeColor:r;w=void 0!==a.title?a.title:w}}});c.utils.initOptions(a);return a};c.models.scatter=function(){function a(a){delete ba[a[0].series+
":"+a[1]]}function b(a){var b=a[0].series+":"+a[1];var c=ba[b]=ba[b]||{};var d=!1;for(b=1;b<arguments.length;b+=2){var e=arguments[b];var f=arguments[b+1](a[0],a[1]);c[e]===f&&c.hasOwnProperty(e)||(c[e]=f,d=!0)}return d}function d(X){S.reset();X.each(function(X){function U(){R=!1;if(!l)return!1;if(!0===K){var a=d3.merge(X.map(function(a,b){return a.values.map(function(a,d){var e=v(a,d),f=r(a,d);return[c.utils.NaNtoZero(q(e))+1E-4*Math.random(),c.utils.NaNtoZero(t(f))+1E-4*Math.random(),b,d,a]}).filter(function(a,
b){return I(a[4],b)})}));if(0==a.length)return!1;3>a.length&&(a.push([q.range()[0]-20,t.range()[0]-20,null,null]),a.push([q.range()[1]+20,t.range()[1]+20,null,null]),a.push([q.range()[0]-20,t.range()[0]+20,null,null]),a.push([q.range()[1]+20,t.range()[1]-20,null,null]));var b=d3.geom.polygon([[-10,-10],[-10,k+10],[f+10,k+10],[f+10,-10]]),d=d3.geom.voronoi(a).map(function(c,d){return{data:b.clip(c),series:a[d][2],point:a[d][3]}});ba.select(".nv-point-paths").selectAll("path").remove();var d=ba.select(".nv-point-paths").selectAll("path").data(d),
e=d.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+h+"-"+b+")"});B&&e.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200));p&&(ba.select(".nv-point-clips").selectAll("*").remove(),ba.select(".nv-point-clips").selectAll("clipPath").data(a).enter().append("svg:clipPath").attr("id",
function(a,b){return"nv-clip-"+h+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",J));var u=function(a,b,c){if(R)return 0;var d=X[b.series];if(void 0!==d){var e=d.values[b.point];e.color=m(d,b.series);e.x=v(e);e.y=r(e);var f=n.node().getBoundingClientRect(),h=window.pageYOffset||document.documentElement.scrollTop,l=window.pageXOffset||document.documentElement.scrollLeft,f={left:q(v(e,b.point))+f.left+l+g.left+10,top:t(r(e,b.point))+f.top+
h+g.top+10};c({point:e,series:d,pos:f,relativePos:[q(v(e,b.point))+g.left,t(r(e,b.point))+g.top],seriesIndex:b.series,pointIndex:b.point,event:d3.event,element:a})}};d.on("click",function(a){u(this,a,E.elementClick)}).on("dblclick",function(a){u(this,a,E.elementDblClick)}).on("mouseover",function(a){u(this,a,E.elementMouseover)}).on("mouseout",function(a,b){u(this,a,E.elementMouseout)})}else ba.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,b){if(R||!X[a.series])return 0;
var c=X[a.series],d=c.values[b];E.elementClick({point:d,series:c,pos:[q(v(d,b))+g.left,t(r(d,b))+g.top],relativePos:[q(v(d,b))+g.left,t(r(d,b))+g.top],seriesIndex:a.series,pointIndex:b,event:d3.event,element:this})}).on("dblclick",function(a,b){if(R||!X[a.series])return 0;var c=X[a.series],d=c.values[b];E.elementDblClick({point:d,series:c,pos:[q(v(d,b))+g.left,t(r(d,b))+g.top],relativePos:[q(v(d,b))+g.left,t(r(d,b))+g.top],seriesIndex:a.series,pointIndex:b})}).on("mouseover",function(a,b){if(R||!X[a.series])return 0;
var c=X[a.series],d=c.values[b];E.elementMouseover({point:d,series:c,pos:[q(v(d,b))+g.left,t(r(d,b))+g.top],relativePos:[q(v(d,b))+g.left,t(r(d,b))+g.top],seriesIndex:a.series,pointIndex:b,color:m(a,b)})}).on("mouseout",function(a,b){if(R||!X[a.series])return 0;var c=X[a.series],d=c.values[b];E.elementMouseout({point:d,series:c,pos:[q(v(d,b))+g.left,t(r(d,b))+g.top],relativePos:[q(v(d,b))+g.left,t(r(d,b))+g.top],seriesIndex:a.series,pointIndex:b,color:m(a,b)})})}n=d3.select(this);var da=c.utils.availableWidth(f,
n,g),fa=c.utils.availableHeight(k,n,g);c.utils.initSVG(n);X.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var la=d.yScale().name===d3.scale.log().name?!0:!1,ea=H&&F&&P?[]:d3.merge(X.map(function(a){return a.values.map(function(a,b){return{x:v(a,b),y:r(a,b),size:w(a,b)}})}));q.domain(H||d3.extent(ea.map(function(a){return a.x}).concat(y)));G&&X[0]?q.range(A||[(da*M+da)/(2*X[0].values.length),da-da*(1+M)/(2*X[0].values.length)]):q.range(A||[0,da]);if(la){var ha=d3.min(ea.map(function(a){if(0!==
a.y)return a.y}));t.clamp(!0).domain(F||d3.extent(ea.map(function(a){return 0!==a.y?a.y:.1*ha}).concat(z))).range(L||[fa,0])}else t.domain(F||d3.extent(ea.map(function(a){return a.y}).concat(z))).range(L||[fa,0]);u.domain(P||d3.extent(ea.map(function(a){return a.size}).concat(D))).range(N||ca);O=q.domain()[0]===q.domain()[1]||t.domain()[0]===t.domain()[1];q.domain()[0]===q.domain()[1]&&(q.domain()[0]?q.domain([q.domain()[0]-.01*q.domain()[0],q.domain()[1]+.01*q.domain()[1]]):q.domain([-1,1]));t.domain()[0]===
t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]-.01*t.domain()[0],t.domain()[1]+.01*t.domain()[1]]):t.domain([-1,1]));isNaN(q.domain()[0])&&q.domain([-1,1]);isNaN(t.domain()[0])&&t.domain([-1,1]);V=V||q;T=T||t;W=W||u;var Q=q(1)!==V(1)||t(1)!==T(1)||u(1)!==W(1);ia=ia||f;ja=ja||k;var ga=ia!==f||ja!==k,ba=n.selectAll("g.nv-wrap.nv-scatter").data([X]),la=ba.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h),ea=la.append("defs"),oa=la.append("g"),pa=ba.select("g");ba.classed("nv-single-point",
O);oa.append("g").attr("class","nv-groups");oa.append("g").attr("class","nv-point-paths");la.append("g").attr("class","nv-point-clips");ba.attr("transform","translate("+g.left+","+g.top+")");ea.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect").attr("transform","translate( -10, -10)");ba.select("#nv-edge-clip-"+h+" rect").attr("width",da+20).attr("height",0<fa?fa+20:0);pa.attr("clip-path",x?"url(#nv-edge-clip-"+h+")":"");R=!0;da=ba.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});da.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);da.exit().remove();da.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("nv-noninteractive",!l).classed("hover",function(a){return a.hover});da.watchTransition(S,"scatter: groups").style("fill",function(a,b){return m(a,b)}).style("stroke",function(a,b){return a.pointBorderColor||e||m(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);fa=da.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,
b){return[a,b]}).filter(function(a,b){return I(a[0],b)})});fa.enter().append("path").attr("class",function(a){return"nv-point nv-point-"+a[1]}).style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+c.utils.NaNtoZero(V(v(a[0],a[1])))+","+c.utils.NaNtoZero(T(r(a[0],a[1])))+")"}).attr("d",c.utils.symbol().type(function(a){return C(a[0])}).size(function(a){return u(w(a[0],a[1]))}));fa.exit().each(a).remove();da.exit().selectAll("path.nv-point").watchTransition(S,
"scatter exit").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(q(v(a[0],a[1])))+","+c.utils.NaNtoZero(t(r(a[0],a[1])))+")"}).remove();fa.filter(function(a){return Q||ga||b(a,"x",v,"y",r)}).watchTransition(S,"scatter points").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(q(v(a[0],a[1])))+","+c.utils.NaNtoZero(t(r(a[0],a[1])))+")"});fa.filter(function(a){return Q||ga||b(a,"shape",C,"size",w)}).watchTransition(S,"scatter points").attr("d",c.utils.symbol().type(function(a){return C(a[0])}).size(function(a){return u(w(a[0],
a[1]))}));Z&&(fa=da.selectAll(".nv-label").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return I(a[0],b)})}),fa.enter().append("text").style("fill",function(a,b){return a.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(V(v(a[0],a[1])))+Math.sqrt(u(w(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(T(r(a[0],a[1])))+")"}).text(function(a,b){return a[0].label}),fa.exit().remove(),da.exit().selectAll("path.nv-label").watchTransition(S,
"scatter exit").attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(q(v(a[0],a[1])))+Math.sqrt(u(w(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(t(r(a[0],a[1])))+")"}).remove(),fa.each(function(a){d3.select(this).classed("nv-label",!0).classed("nv-label-"+a[1],!1).classed("hover",!1)}),fa.watchTransition(S,"scatter labels").attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(q(v(a[0],a[1])))+Math.sqrt(u(w(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(t(r(a[0],a[1])))+
")"}));aa?(clearTimeout(Y),Y=setTimeout(U,aa)):U();V=q.copy();T=t.copy();W=u.copy();ia=f;ja=k});S.renderEnd("scatter immediate");return d}var g={top:0,right:0,bottom:0,left:0},f=null,k=null,m=c.utils.defaultColor(),e=null,h=Math.floor(1E5*Math.random()),n=null,q=d3.scale.linear(),t=d3.scale.linear(),u=d3.scale.linear(),v=function(a){return a.x},r=function(a){return a.y},w=function(a){return a.size||1},C=function(a){return a.shape||"circle"},y=[],z=[],D=[],l=!0,I=function(a){return!a.notActive},G=
!1,M=.1,x=!1,p=!0,B=!1,J=function(){return 25},H=null,F=null,A=null,L=null,P=null,N=null,O=!1,E=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),K=!0,U=250,aa=300,Z=!1,V,T,W,ia,ja,Y,R=!1,S=c.utils.renderWatch(E,U),ca=[16,256],ba={};d.dispatch=E;d.options=c.utils.optionsFunc.bind(d);d._calls=new function(){this.clearHighlights=function(){c.dom.write(function(){n.selectAll(".nv-point.hover").classed("hover",!1)});return null};this.highlightPoint=function(a,
b,d){c.dom.write(function(){n.select(".nv-groups").selectAll(".nv-series-"+a).selectAll(".nv-point-"+b).classed("hover",d)})}};E.on("elementMouseover.point",function(a){l&&d._calls.highlightPoint(a.seriesIndex,a.pointIndex,!0)});E.on("elementMouseout.point",function(a){l&&d._calls.highlightPoint(a.seriesIndex,a.pointIndex,!1)});d._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return q},
set:function(a){q=a}},yScale:{get:function(){return t},set:function(a){t=a}},pointScale:{get:function(){return u},set:function(a){u=a}},xDomain:{get:function(){return H},set:function(a){H=a}},yDomain:{get:function(){return F},set:function(a){F=a}},pointDomain:{get:function(){return P},set:function(a){P=a}},xRange:{get:function(){return A},set:function(a){A=a}},yRange:{get:function(){return L},set:function(a){L=a}},pointRange:{get:function(){return N},set:function(a){N=a}},forceX:{get:function(){return y},
set:function(a){y=a}},forceY:{get:function(){return z},set:function(a){z=a}},forcePoint:{get:function(){return D},set:function(a){D=a}},interactive:{get:function(){return l},set:function(a){l=a}},pointActive:{get:function(){return I},set:function(a){I=a}},padDataOuter:{get:function(){return M},set:function(a){M=a}},padData:{get:function(){return G},set:function(a){G=a}},clipEdge:{get:function(){return x},set:function(a){x=a}},clipVoronoi:{get:function(){return p},set:function(a){p=a}},clipRadius:{get:function(){return J},
set:function(a){J=a}},showVoronoi:{get:function(){return B},set:function(a){B=a}},id:{get:function(){return h},set:function(a){h=a}},interactiveUpdateDelay:{get:function(){return aa},set:function(a){aa=a}},showLabels:{get:function(){return Z},set:function(a){Z=a}},pointBorderColor:{get:function(){return e},set:function(a){e=a}},x:{get:function(){return v},set:function(a){v=d3.functor(a)}},y:{get:function(){return r},set:function(a){r=d3.functor(a)}},pointSize:{get:function(){return w},set:function(a){w=
d3.functor(a)}},pointShape:{get:function(){return C},set:function(a){C=d3.functor(a)}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top;g.right=void 0!==a.right?a.right:g.right;g.bottom=void 0!==a.bottom?a.bottom:g.bottom;g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return U},set:function(a){U=a;S.reset(U)}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}},useVoronoi:{get:function(){return K},set:function(a){K=a;!1===K&&(p=
!1)}}});c.utils.initOptions(d);return d};c.models.scatterChart=function(){function a(p){H.reset();H.models(b);D&&H.models(d);l&&H.models(g);C&&H.models(k);y&&H.models(m);p.each(function(p){u=d3.select(this);c.utils.initSVG(u);var L=c.utils.availableWidth(q,u,h),O=c.utils.availableHeight(t,u,h);a.update=function(){0===B?u.call(a):u.transition().duration(B).call(a)};a.container=this;G.setter(A(p),a.update).getter(F(p)).update();G.disabled=p.map(function(a){return!!a.disabled});if(!M)for(K in M={},G)M[K]=
G[K]instanceof Array?G[K].slice(0):G[K];if(p&&p.length&&p.filter(function(a){return a.values.length}).length)u.selectAll(".nv-noData").remove();else return c.utils.noData(a,u),H.renderEnd("scatter immediate"),a;r=b.xScale();w=b.yScale();var E=u.selectAll("g.nv-wrap.nv-scatterChart").data([p]);var K=E.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var P=E.select("g");K.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");K.append("g").attr("class",
"nv-x nv-axis");K.append("g").attr("class","nv-y nv-axis");K.append("g").attr("class","nv-scatterWrap");K.append("g").attr("class","nv-regressionLinesWrap");K.append("g").attr("class","nv-distWrap");K.append("g").attr("class","nv-legendWrap");I&&P.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)");z?(f.width(L),E.select(".nv-legendWrap").datum(p).call(f),n||f.height()===h.top||(h.top=f.height(),O=c.utils.availableHeight(t,u,h)),E.select(".nv-legendWrap").attr("transform","translate(0,"+
-h.top+")")):P.select(".nv-legendWrap").selectAll("*").remove();E.attr("transform","translate("+h.left+","+h.top+")");b.width(L).height(O).color(p.map(function(a,b){a.color=a.color||v(a,b);return a.color}).filter(function(a,b){return!p[b].disabled})).showLabels(J);E.select(".nv-scatterWrap").datum(p.filter(function(a){return!a.disabled})).call(b);E.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");E=E.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});
E.enter().append("g").attr("class","nv-regLines");E=E.selectAll(".nv-regLine").data(function(a){return[a]});E.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);E.filter(function(a){return a.intercept&&a.slope}).watchTransition(H,"scatterPlusLineChart: regline").attr("x1",r.range()[0]).attr("x2",r.range()[1]).attr("y1",function(a,b){return w(r.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return w(r.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,
b,c){return v(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"===typeof a.slope||"undefined"===typeof a.intercept?0:1});D&&(d.scale(r)._ticks(c.utils.calcTicksX(L/100,p)).tickSize(-O,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")").call(d));l&&(g.scale(w)._ticks(c.utils.calcTicksY(O/36,p)).tickSize(-L,0),P.select(".nv-y.nv-axis").call(g));C&&(k.getData(b.x()).scale(r).width(L).color(p.map(function(a,b){return a.color||v(a,b)}).filter(function(a,
b){return!p[b].disabled})),K.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),P.select(".nv-distributionX").attr("transform","translate(0,"+w.range()[0]+")").datum(p.filter(function(a){return!a.disabled})).call(k));y&&(m.getData(b.y()).scale(w).width(O).color(p.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!p[b].disabled})),K.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),P.select(".nv-distributionY").attr("transform","translate("+(I?
L:-m.size())+",0)").datum(p.filter(function(a){return!a.disabled})).call(m));f.dispatch.on("stateChange",function(b){for(var c in b)G[c]=b[c];x.stateChange(G);a.update()});x.on("changeState",function(b){"undefined"!==typeof b.disabled&&(p.forEach(function(a,c){a.disabled=b.disabled[c]}),G.disabled=b.disabled);a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0);u.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);u.select(".nv-chart-"+
b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",m.size())});b.dispatch.on("elementMouseover.tooltip",function(a){u.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.relativePos[1]-O);u.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.relativePos[0]+k.size());e.data(a).hidden(!1)});r.copy();w.copy()});H.renderEnd("scatter with line immediate");return a}var b=c.models.scatter(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend(),
k=c.models.distribution(),m=c.models.distribution(),e=c.models.tooltip(),h={top:30,right:20,bottom:50,left:75},n=null,q=null,t=null,u=null,v=c.utils.defaultColor(),r=b.xScale(),w=b.yScale(),C=!1,y=!1,z=!0,D=!0,l=!0,I=!1,G=c.utils.state(),M=null,x=d3.dispatch("stateChange","changeState","renderEnd"),p=null,B=250,J=!1;b.xScale(r).yScale(w);d.orient("bottom").tickPadding(10);g.orient(I?"right":"left").tickPadding(10);k.axis("x");m.axis("y");e.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,
b){return g.tickFormat()(a,b)});var H=c.utils.renderWatch(x,B),F=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},A=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};a.dispatch=x;a.scatter=b;a.legend=f;a.xAxis=d;a.yAxis=g;a.distX=k;a.distY=m;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return t},set:function(a){t=
a}},container:{get:function(){return u},set:function(a){u=a}},showDistX:{get:function(){return C},set:function(a){C=a}},showDistY:{get:function(){return y},set:function(a){y=a}},showLegend:{get:function(){return z},set:function(a){z=a}},showXAxis:{get:function(){return D},set:function(a){D=a}},showYAxis:{get:function(){return l},set:function(a){l=a}},defaultState:{get:function(){return M},set:function(a){M=a}},noData:{get:function(){return p},set:function(a){p=a}},duration:{get:function(){return B},
set:function(a){B=a}},showLabels:{get:function(){return J},set:function(a){J=a}},margin:{get:function(){return h},set:function(a){void 0!==a.top&&(n=h.top=a.top);h.right=void 0!==a.right?a.right:h.right;h.bottom=void 0!==a.bottom?a.bottom:h.bottom;h.left=void 0!==a.left?a.left:h.left}},rightAlignYAxis:{get:function(){return I},set:function(a){I=a;g.orient(a?"right":"left")}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a);f.color(v);k.color(v);m.color(v)}}});c.utils.inheritOptions(a,
b);c.utils.initOptions(a);return a};c.models.sparkline=function(){function a(k){z.reset();k.each(function(a){var k=d-b.left-b.right,l=g-b.top-b.bottom;f=d3.select(this);c.utils.initSVG(f);m.domain(t||d3.extent(a,h)).range(v||[0,k]);e.domain(u||d3.extent(a,n)).range(r||[l,0]);a=f.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");k=a.selectAll("path").data(function(a){return[a]});
k.enter().append("path");k.exit().remove();k.style("stroke",function(a,b){return a.color||q(a,b)}).attr("d",d3.svg.line().x(function(a,b){return m(h(a,b))}).y(function(a,b){return e(n(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];c.pointIndex=b;return c}return null}var c=a.map(function(a,b){return n(a,b)}),d=b(c.lastIndexOf(e.domain()[1])),f=b(c.indexOf(e.domain()[0])),c=b(c.length-1);return[w?f:null,w?d:null,C?c:null].filter(function(a){return null!=
a})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a,b){return m(h(a,a.pointIndex))}).attr("cy",function(a,b){return e(n(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return h(a,a.pointIndex)==m.domain()[1]?"nv-point nv-currentValue":n(a,a.pointIndex)==e.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});z.renderEnd("sparkline immediate");return a}var b={top:2,right:0,bottom:2,left:0},d=400,g=32,f=null,k=!0,m=d3.scale.linear(),e=d3.scale.linear(),h=function(a){return a.x},
n=function(a){return a.y},q=c.utils.getColor(["#000"]),t,u,v,r,w=!0,C=!0,y=d3.dispatch("renderEnd"),z=c.utils.renderWatch(y);a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},xDomain:{get:function(){return t},set:function(a){t=a}},yDomain:{get:function(){return u},set:function(a){u=a}},xRange:{get:function(){return v},set:function(a){v=a}},yRange:{get:function(){return r},
set:function(a){r=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return e},set:function(a){e=a}},animate:{get:function(){return k},set:function(a){k=a}},showMinMaxPoints:{get:function(){return w},set:function(a){w=a}},showCurrentPoint:{get:function(){return C},set:function(a){C=a}},x:{get:function(){return h},set:function(a){h=d3.functor(a)}},y:{get:function(){return n},set:function(a){n=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==
a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a)}}});a.dispatch=y;c.utils.initOptions(a);return a};c.models.sparklinePlus=function(){function a(r){C.reset();C.models(b);r.each(function(r){function w(){if(!h){var a=B.selectAll(".nv-hoverValue").data(e),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",
0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+k(b.x()(r[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);e.length&&(c.append("line").attr("x1",0).attr("y1",-d.top).attr("x2",0).attr("y2",z),c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-d.top).attr("text-anchor","end").attr("dy",".9em"),B.select(".nv-hoverValue .nv-xValue").text(n(b.x()(r[e[0]],
e[0]))),c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-d.top).attr("text-anchor","start").attr("dy",".9em"),B.select(".nv-hoverValue .nv-yValue").text(q(b.y()(r[e[0]],e[0]))))}}var l=d3.select(this);c.utils.initSVG(l);var y=c.utils.availableWidth(g,l,d),z=c.utils.availableHeight(f,l,d);a.update=function(){l.call(a)};a.container=this;if(r&&r.length)l.selectAll(".nv-noData").remove();else return c.utils.noData(a,l),a;var C=b.y()(r[r.length-1],r.length-1);k=b.xScale();m=b.yScale();
var x=l.selectAll("g.nv-wrap.nv-sparklineplus").data([r]),p=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),B=x.select("g");p.append("g").attr("class","nv-sparklineWrap");p.append("g").attr("class","nv-valueWrap");p.append("g").attr("class","nv-hoverArea");x.attr("transform","translate("+d.left+","+d.top+")");x=B.select(".nv-sparklineWrap");b.width(y).height(z);x.call(b);t&&(x=B.select(".nv-valueWrap").selectAll(".nv-currentValue").data([C]),x.enter().append("text").attr("class",
"nv-currentValue").attr("dx",v?-8:8).attr("dy",".9em").style("text-anchor",v?"end":"start"),x.attr("x",y+(v?d.right:0)).attr("y",u?function(a){return m(a)}:0).style("fill",b.color()(r[r.length-1],r.length-1)).text(q(C)));p.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!h){for(var a=d3.mouse(this)[0]-d.left,a=Math.round(k.invert(a)),c=Math.abs(b.x()(r[0],0)-a),f=0,g=0;g<r.length;g++)Math.abs(b.x()(r[g],g)-a)<c&&(c=Math.abs(b.x()(r[g],g)-a),f=g);e=[f];w()}}).on("click",function(){h=
!h}).on("mouseout",function(){e=[];w()});B.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-d.left+","+-d.top+")"}).attr("width",y+d.left+d.right).attr("height",z+d.top)});C.renderEnd("sparklinePlus immediate");return a}var b=c.models.sparkline(),d={top:15,right:100,bottom:10,left:50},g=null,f=null,k,m,e=[],h=!1,n=d3.format(",r"),q=d3.format(",.2f"),t=!0,u=!0,v=!1,r=null,w=d3.dispatch("renderEnd"),C=c.utils.renderWatch(w);a.dispatch=w;a.sparkline=b;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return f},set:function(a){f=a}},xTickFormat:{get:function(){return n},set:function(a){n=a}},yTickFormat:{get:function(){return q},set:function(a){q=a}},showLastValue:{get:function(){return t},set:function(a){t=a}},alignValue:{get:function(){return u},set:function(a){u=a}},rightAlignValue:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return d},
set:function(a){d.top=void 0!==a.top?a.top:d.top;d.right=void 0!==a.right?a.right:d.right;d.bottom=void 0!==a.bottom?a.bottom:d.bottom;d.left=void 0!==a.left?a.left:d.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.stackedArea=function(){function a(q){l.reset();l.models(y);q.each(function(q){var z=d-b.left-b.right,x=g-b.top-b.bottom;m=d3.select(this);c.utils.initSVG(m);w=y.xScale();C=y.yScale();var p=q;q.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,
c){a.index=c;a.seriesIndex=b;return a})});q=q.filter(function(a){return!a.disabled});q=d3.layout.stack().order(u).offset(t).values(function(a){return a.values}).x(e).y(h).out(function(a,b,c){a.display={y:c,y0:b}})(q);var B=m.selectAll("g.nv-wrap.nv-stackedarea").data([q]),I=B.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),G=I.append("defs"),I=I.append("g"),F=B.select("g");I.append("g").attr("class","nv-areaWrap");I.append("g").attr("class","nv-scatterWrap");B.attr("transform","translate("+
b.left+","+b.top+")");0==y.forceY().length&&y.forceY().push(0);y.width(z).height(x).x(e).y(function(a){if(void 0!==a.display)return a.display.y+a.display.y0}).color(q.map(function(a,b){a.color=a.color||f(a,a.seriesIndex);return a.color}));F.select(".nv-scatterWrap").datum(q).call(y);G.append("clipPath").attr("id","nv-edge-clip-"+k).append("rect");B.select("#nv-edge-clip-"+k+" rect").attr("width",z).attr("height",x);F.attr("clip-path",r?"url(#nv-edge-clip-"+k+")":"");var A=d3.svg.area().defined(n).x(function(a,
b){return w(e(a,b))}).y0(function(a){return C(a.display.y0)}).y1(function(a){return C(a.display.y+a.display.y0)}).interpolate(v),L=d3.svg.area().defined(n).x(function(a,b){return w(e(a,b))}).y0(function(a){return C(a.display.y0)}).y1(function(a){return C(a.display.y0)}),z=F.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});z.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return L(a.values,a.seriesIndex)}).on("mouseover",
function(a,b){d3.select(this).classed("hover",!0);D.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);D.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1);D.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});z.exit().remove();z.style("fill",
function(a,b){return a.color||f(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||f(a,a.seriesIndex)});z.watchTransition(l,"stackedArea path").attr("d",function(a,b){return A(a.values,b)});y.dispatch.on("elementMouseover.area",function(a){F.select(".nv-chart-"+k+" .nv-area-"+a.seriesIndex).classed("hover",!0)});y.dispatch.on("elementMouseout.area",function(a){F.select(".nv-chart-"+k+" .nv-area-"+a.seriesIndex).classed("hover",!1)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,
c=a[0].length,d,e,f,g=[];for(e=0;e<c;++e){for(f=d=0;d<p.length;d++)f+=h(p[d].values[e]);if(f)for(d=0;d<b;d++)a[d][e][1]/=f;else for(d=0;d<b;d++)a[d][e][1]=0}for(e=0;e<c;++e)g[e]=0;return g}});l.renderEnd("stackedArea immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,g=500,f=c.utils.defaultColor(),k=Math.floor(1E5*Math.random()),m=null,e=function(a){return a.x},h=function(a){return a.y},n=function(a,b){return!isNaN(h(a,b))&&null!==h(a,b)},q="stack",t="zero",u="default",v="linear",r=
!1,w,C,y=c.models.scatter(),z=250,D=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");y.pointSize(2.2).pointDomain([2.2,2.2]);var l=c.utils.renderWatch(D,z);a.dispatch=D;a.scatter=y;y.dispatch.on("elementClick",function(){D.elementClick.apply(this,arguments)});y.dispatch.on("elementMouseover",function(){D.elementMouseover.apply(this,arguments)});y.dispatch.on("elementMouseout",function(){D.elementMouseout.apply(this,arguments)});
a.interpolate=function(b){if(!arguments.length)return v;v=b;return a};a.duration=function(b){if(!arguments.length)return z;z=b;l.reset(z);y.duration(z);return a};a.dispatch=D;a.scatter=y;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return g},set:function(a){g=a}},defined:{get:function(){return n},set:function(a){n=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},offset:{get:function(){return t},
set:function(a){t=a}},order:{get:function(){return u},set:function(a){u=a}},interpolate:{get:function(){return v},set:function(a){v=a}},x:{get:function(){return e},set:function(a){e=d3.functor(a)}},y:{get:function(){return h},set:function(a){h=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return f},set:function(a){f=
c.utils.getColor(a)}},style:{get:function(){return q},set:function(b){q=b;switch(q){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}}},duration:{get:function(){return z},set:function(a){z=a;l.reset(z);y.duration(z)}}});c.utils.inheritOptions(a,
y);c.utils.initOptions(a);return a};c.models.stackedAreaChart=function(){function a(e){K.reset();K.models(b);y&&K.models(d);z&&K.models(g);e.each(function(e){function H(){y&&X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+S+")").transition().duration(N).call(d)}function K(){if(z){if("expand"===b.style()||"stack_percent"===b.style()){var a=g.tickFormat();O&&a===Z||(O=a);g.tickFormat(Z)}else O&&(g.tickFormat(O),O=null);X.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(g)}}
function V(a){X.select(".nv-focus .nv-stackedWrap").datum(e.filter(function(a){return!a.disabled}).map(function(c,d){return{key:c.key,area:c.area,classed:c.classed,values:c.values.filter(function(c,d){return b.x()(c,d)>=a[0]&&b.x()(c,d)<=a[1]}),disableTooltip:c.disableTooltip}})).transition().duration(N).call(b);H();K()}var T=d3.select(this);c.utils.initSVG(T);var R=c.utils.availableWidth(t,T,n),S=c.utils.availableHeight(u,T,n)-(l?h.height():0);a.update=function(){T.transition().duration(N).call(a)};
a.container=this;B.setter(aa(e),a.update).getter(U(e)).update();B.disabled=e.map(function(a){return!!a.disabled});if(!J)for(ca in J={},B)J[ca]=B[ca]instanceof Array?B[ca].slice(0):B[ca];if(e&&e.length&&e.filter(function(a){return a.values.length}).length)T.selectAll(".nv-noData").remove();else return c.utils.noData(a,T),a;x=b.xScale();p=b.yScale();var ca=T.selectAll("g.nv-wrap.nv-stackedAreaChart").data([e]);var ba=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),
X=ca.select("g");ba.append("g").attr("class","nv-legendWrap");ba.append("g").attr("class","nv-controlsWrap");var ga=ba.append("g").attr("class","nv-focus");ga.append("g").attr("class","nv-background").append("rect");ga.append("g").attr("class","nv-x nv-axis");ga.append("g").attr("class","nv-y nv-axis");ga.append("g").attr("class","nv-stackedWrap");ga.append("g").attr("class","nv-interactive");ba.append("g").attr("class","nv-focusWrap");w?(ba=r&&"top"===C?R-A:R,f.width(ba),X.select(".nv-legendWrap").datum(e).call(f),
"bottom"===C?(ba=(y?12:0)+10,n.bottom=Math.max(f.height()+ba,n.bottom),S=c.utils.availableHeight(u,T,n)-(l?h.height():0),ba=S+ba,X.select(".nv-legendWrap").attr("transform","translate(0,"+ba+")")):"top"===C&&(q||n.top==f.height()||(n.top=f.height(),S=c.utils.availableHeight(u,T,n)-(l?h.height():0)),X.select(".nv-legendWrap").attr("transform","translate("+(R-ba)+","+-n.top+")"))):X.select(".nv-legendWrap").selectAll("*").remove();if(r){var ma=[{key:P.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=
b.style(),style:"stack"},{key:P.stream||"Stream",metaKey:"Stream",disabled:"stream"!=b.style(),style:"stream"},{key:P.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=b.style(),style:"expand"},{key:P.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=b.style(),style:"stack_percent"}];A=L.length/3*260;ma=ma.filter(function(a){return-1!==L.indexOf(a.metaKey)});k.width(A).color(["#444","#444","#444"]);X.select(".nv-controlsWrap").datum(ma).call(k);ba=Math.max(k.height(),
w&&"top"===C?f.height():0);n.top!=ba&&(n.top=ba,S=c.utils.availableHeight(u,T,n)-(l?h.height():0));X.select(".nv-controlsWrap").attr("transform","translate(0,"+-n.top+")")}else X.select(".nv-controlsWrap").selectAll("*").remove();ca.attr("transform","translate("+n.left+","+n.top+")");D&&X.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");I&&(m.width(R).height(S).margin({left:n.left,top:n.top}).svgContainer(T).xScale(x),ca.select(".nv-interactive").call(m));X.select(".nv-focus .nv-background rect").attr("width",
R).attr("height",S);b.width(R).height(S).color(e.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!e[b].disabled}));ca=X.select(".nv-focus .nv-stackedWrap").datum(e.filter(function(a){return!a.disabled}));y&&d.scale(x)._ticks(c.utils.calcTicksX(R/100,e)).tickSize(-S,0);z&&(ba="wiggle"===b.offset()?0:c.utils.calcTicksY(S/36,e),g.scale(p)._ticks(ba).tickSize(-R,0));l?(h.width(R),X.select(".nv-focusWrap").attr("transform","translate(0,"+(S+n.bottom+h.margin().top)+")").datum(e.filter(function(a){return!a.disabled})).call(h),
R=h.brush.empty()?h.xDomain():h.brush.extent(),null!==R&&V(R)):(ca.transition().call(b),H(),K());b.dispatch.on("areaClick.toggle",function(b){1===e.filter(function(a){return!a.disabled}).length?e.forEach(function(a){a.disabled=!1}):e.forEach(function(a,c){a.disabled=c!=b.seriesIndex});B.disabled=e.map(function(a){return!!a.disabled});F.stateChange(B);a.update()});f.dispatch.on("stateChange",function(b){for(var c in b)B[c]=b[c];F.stateChange(B);a.update()});k.dispatch.on("legendClick",function(c,d){c.disabled&&
(ma=ma.map(function(a){a.disabled=!0;return a}),c.disabled=!1,b.style(c.style),B.style=b.style(),F.stateChange(B),a.update())});m.dispatch.on("elementMousemove",function(d){b.clearHighlights();var f,g,h,k=[],l=0,p=!0;e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,m){g=c.interactiveBisect(e.values,d.pointXValue,a.x());var n=e.values[g];null!=a.y()(n,g)&&b.highlightPoint(m,g,!0);if("undefined"!==typeof n){"undefined"===typeof f&&(f=n);"undefined"===typeof h&&(h=a.xScale()(a.x()(n,
g)));var t="expand"==b.style()?n.display.y:a.y()(n,g);k.push({key:e.key,value:t,color:v(e,e.seriesIndex),point:n});G&&"expand"!=b.style()&&null!=t&&(l+=t,p=!1)}});k.reverse();if(2<k.length){var n=a.yScale().invert(d.mouseY),t=null;k.forEach(function(a,b){n=Math.abs(n);var c=Math.abs(a.point.display.y0),d=Math.abs(a.point.display.y);n>=c&&n<=d+c&&(t=b)});null!=t&&(k[t].highlight=!0)}G&&"expand"!=b.style()&&2<=k.length&&!p&&k.push({key:M,value:l,total:!0});var q=a.x()(f,g),r=m.tooltip.valueFormatter();
"expand"===b.style()||"stack_percent"===b.style()?(E||(E=r),r=d3.format(".1%")):E&&(r=E,E=null);m.tooltip.valueFormatter(r).data({value:q,series:k})();m.renderGuideLine(h)});m.dispatch.on("elementMouseout",function(a){b.clearHighlights()});h.dispatch.on("onBrush",function(a){V(a)});F.on("changeState",function(c){"undefined"!==typeof c.disabled&&e.length===c.disabled.length&&(e.forEach(function(a,b){a.disabled=c.disabled[b]}),B.disabled=c.disabled);"undefined"!==typeof c.style&&b.style(c.style);a.update()})});
K.renderEnd("stacked Area chart immediate");return a}var b=c.models.stackedArea(),d=c.models.axis(),g=c.models.axis(),f=c.models.legend(),k=c.models.legend(),m=c.interactiveGuideline(),e=c.models.tooltip(),h=c.models.focus(c.models.stackedArea()),n={top:10,right:25,bottom:50,left:60},q=null,t=null,u=null,v=c.utils.defaultColor(),r=!0,w=!0,C="top",y=!0,z=!0,D=!1,l=!1,I=!1,G=!0,M="TOTAL",x,p,B=c.utils.state(),J=null,H=null,F=d3.dispatch("stateChange","changeState","renderEnd"),A=250,L=["Stacked","Stream",
"Expanded"],P={},N=250;B.style=b.style();d.orient("bottom").tickPadding(7);g.orient(D?"right":"left");e.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return g.tickFormat()(a,b)});m.tooltip.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)});var O=null,E=null;k.updateState(!1);var K=c.utils.renderWatch(F);b.style();var U=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
style:b.style()}}},aa=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},Z=d3.format("%");b.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=b.x()(a.point);a.point.y=b.y()(a.point);e.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)});a.dispatch=F;a.stacked=b;a.legend=f;a.controls=k;a.xAxis=d;a.x2Axis=h.xAxis;a.yAxis=g;a.y2Axis=h.yAxis;a.interactiveLayer=m;a.tooltip=e;a.focus=h;a.dispatch=F;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return t},set:function(a){t=a}},height:{get:function(){return u},set:function(a){u=a}},showLegend:{get:function(){return w},set:function(a){w=a}},legendPosition:{get:function(){return C},set:function(a){C=a}},showXAxis:{get:function(){return y},set:function(a){y=a}},showYAxis:{get:function(){return z},set:function(a){z=a}},defaultState:{get:function(){return J},set:function(a){J=a}},noData:{get:function(){return H},set:function(a){H=
a}},showControls:{get:function(){return r},set:function(a){r=a}},controlLabels:{get:function(){return P},set:function(a){P=a}},controlOptions:{get:function(){return L},set:function(a){L=a}},showTotalInTooltip:{get:function(){return G},set:function(a){G=a}},totalLabel:{get:function(){return M},set:function(a){M=a}},focusEnable:{get:function(){return l},set:function(a){l=a}},focusHeight:{get:function(){return h.height()},set:function(a){h.height(a)}},brushExtent:{get:function(){return h.brushExtent()},
set:function(a){h.brushExtent(a)}},margin:{get:function(){return n},set:function(a){void 0!==a.top&&(q=n.top=a.top);n.right=void 0!==a.right?a.right:n.right;n.bottom=void 0!==a.bottom?a.bottom:n.bottom;n.left=void 0!==a.left?a.left:n.left}},focusMargin:{get:function(){return h.margin},set:function(a){h.margin.top=void 0!==a.top?a.top:h.margin.top;h.margin.right=void 0!==a.right?a.right:h.margin.right;h.margin.bottom=void 0!==a.bottom?a.bottom:h.margin.bottom;h.margin.left=void 0!==a.left?a.left:h.margin.left}},
duration:{get:function(){return N},set:function(a){N=a;K.reset(N);b.duration(N);d.duration(N);g.duration(N)}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a);f.color(v);b.color(v);h.color(v)}},x:{get:function(){return b.x()},set:function(a){b.x(a);h.x(a)}},y:{get:function(){return b.y()},set:function(a){b.y(a);h.y(a)}},rightAlignYAxis:{get:function(){return D},set:function(a){D=a;g.orient(D?"right":"left")}},useInteractiveGuideline:{get:function(){return I},set:function(c){I=
!!c;a.interactive(!c);a.useVoronoi(!c);b.scatter.interactive(!c)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.stackedAreaWithFocusChart=function(){return c.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)};c.models.sunburst=function(){function a(a){var b=Math.max(0,Math.min(2*Math.PI,x(a.x)));a=Math.max(0,Math.min(2*Math.PI,x(a.x+a.dx)));return(b+a)/2*(180/Math.PI)-90}function b(a){var b=Math.max(0,Math.min(2*Math.PI,x(a.x)));return(Math.max(0,Math.min(2*
Math.PI,x(a.x+a.dx)))-b)/(2*Math.PI)}function d(a){var b=Math.max(0,Math.min(2*Math.PI,x(a.x)));return Math.max(0,Math.min(2*Math.PI,x(a.x+a.dx)))-b>z}function g(a,b){var c=d3.interpolate(x.domain(),[J.x,J.x+J.dx]),d=d3.interpolate(p.domain(),[J.y,1]),e=d3.interpolate(p.range(),[J.y?20:0,A]);return 0===b?function(){return P(a)}:function(b){x.domain(c(b));p.domain(d(b)).range(e(b));return P(a)}}function f(a){var b=d3.interpolate({x:a.x0,dx:a.dx0,y:a.y0,dy:a.dy0},a);return function(c){c=b(c);a.x0=c.x;
a.dx0=c.dx;a.y0=c.y;a.dy0=c.dy;return P(c)}}function k(a){a.forEach(function(a){var b=l(a);(b=L[b])?(a.dx0=b.dx,a.x0=b.x,a.dy0=b.dy,a.y0=b.y):(a.dx0=a.dx,a.x0=a.x,a.dy0=a.dy,a.y0=a.y);b=l(a);L[b]||(L[b]={});b=L[b];b.dx=a.dx;b.x=a.x;b.dy=a.dy;b.y=a.y})}function m(b){var c=r.selectAll("text"),e=r.selectAll("path");c.transition().attr("opacity",0);J=b;e.transition().duration(G).attrTween("d",g).each("end",function(c){c.x>=b.x&&c.x<b.x+b.dx&&c.depth>=b.depth&&d3.select(this.parentNode).select("text").transition().duration(G).text(function(a){return y(a)}).attr("opacity",
function(a){return d(a)?1:0}).attr("transform",function(){var d=this.getBBox().width;if(0===c.depth)return"translate("+d/2*-1+",0)";if(c.depth===b.depth)return"translate("+(p(c.y)+5)+",0)";var e=a(c),f=90<a(c)?180:0;return 0===f?"rotate("+e+")translate("+(p(c.y)+5)+",0)":"rotate("+e+")translate("+(p(c.y)+d+5)+",0)rotate("+f+")"})})}function e(g){N.reset();g.each(function(e){r=d3.select(this);H=c.utils.availableWidth(n,r,h);F=c.utils.availableHeight(q,r,h);A=Math.min(H,F)/2;p.range([0,A]);var g=r.select("g.nvd3.nv-wrap.nv-sunburst");
g[0][0]?g.attr("transform","translate("+(H/2+h.left+h.right)+","+(F/2+h.top+h.bottom)+")"):g=r.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+v).attr("transform","translate("+(H/2+h.left+h.right)+","+(F/2+h.top+h.bottom)+")");r.on("click",function(a,b){M.chartClick({data:a,index:b,pos:d3.event,id:v})});B.value(u[t]||u.count);e=B.nodes(e[0]).reverse();k(e);g=g.selectAll(".arc-container").data(e,l);g.enter().append("g").attr("class","arc-container").append("path").attr("d",P).style("fill",
function(a){return a.color?a.color:I?w((a.children?a:a.parent).name):w(a.name)}).style("stroke","#FFF").on("click",function(a,b){m(a);M.elementClick({data:a,index:b})}).on("mouseover",function(a,c){d3.select(this).classed("hover",!0).style("opacity",.8);M.elementMouseover({data:a,color:d3.select(this).style("fill"),percent:b(a)})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1);M.elementMouseout({data:a})}).on("mousemove",function(a,b){M.elementMousemove({data:a})});
g.each(function(a){d3.select(this).select("path").transition().duration(G).attrTween("d",f)});C&&(g.selectAll("text").remove(),g.append("text").text(function(a){return y(a)}).transition().duration(G).attr("opacity",function(a){return d(a)?1:0}).attr("transform",function(b){var c=this.getBBox().width;if(0===b.depth)return"rotate(0)translate("+c/2*-1+",0)";var d=a(b),e=90<a(b)?180:0;return 0===e?"rotate("+d+")translate("+(p(b.y)+5)+",0)":"rotate("+d+")translate("+(p(b.y)+c+5)+",0)rotate("+e+")"}));
m(e[e.length-1]);g.exit().transition().duration(G).attr("opacity",0).each("end",function(a){a=l(a);L[a]=void 0}).remove()});N.renderEnd("sunburst immediate");return e}var h={top:0,right:0,bottom:0,left:0},n=600,q=600,t="count",u={count:function(a){return 1},value:function(a){return a.value||a.size},size:function(a){return a.value||a.size}},v=Math.floor(1E4*Math.random()),r=null,w=c.utils.defaultColor(),C=!1,y=function(a){return"count"===t?a.name+" #"+a.value:a.name+" "+(a.value||a.size)},z=.02,D=
function(a,b){return a.name>b.name},l=function(a,b){return a.name},I=!0,G=500,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),x=d3.scale.linear().range([0,2*Math.PI]),p=d3.scale.sqrt(),B=d3.layout.partition().sort(D),J,H,F,A,L={},P=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,x(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,x(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,
p(a.y))}).outerRadius(function(a){return Math.max(0,p(a.y+a.dy))}),N=c.utils.renderWatch(M);e.dispatch=M;e.options=c.utils.optionsFunc.bind(e);e._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return q},set:function(a){q=a}},mode:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return v},set:function(a){v=a}},duration:{get:function(){return G},set:function(a){G=a}},groupColorByParent:{get:function(){return I},set:function(a){I=
!!a}},showLabels:{get:function(){return C},set:function(a){C=!!a}},labelFormat:{get:function(){return y},set:function(a){y=a}},labelThreshold:{get:function(){return z},set:function(a){z=a}},sort:{get:function(){return D},set:function(a){D=a}},key:{get:function(){return l},set:function(a){l=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!=a.top?a.top:h.top;h.right=void 0!=a.right?a.right:h.right;h.bottom=void 0!=a.bottom?a.bottom:h.bottom;h.left=void 0!=a.left?a.left:h.left}},color:{get:function(){return w},
set:function(a){w=c.utils.getColor(a)}}});c.utils.initOptions(e);return e};c.models.sunburstChart=function(){function a(d){q.reset();q.models(b);d.each(function(d){var e=d3.select(this);c.utils.initSVG(e);var f=c.utils.availableWidth(null,e,g),k=c.utils.availableHeight(null,e,g);a.update=function(){0===h?e.call(a):e.transition().duration(h).call(a)};a.container=e;if(d&&d.length)e.selectAll(".nv-noData").remove();else return c.utils.noData(a,e),a;b.width(f).height(k).margin(g);e.call(b)});q.renderEnd("sunburstChart immediate");
return a}var b=c.models.sunburst(),d=c.models.tooltip(),g={top:30,right:20,bottom:20,left:20},f=c.utils.defaultColor(),k=!1,m=null,e=null,h=250,n=d3.dispatch("stateChange","changeState","renderEnd"),q=c.utils.renderWatch(n);d.duration(0).headerEnabled(!1).valueFormatter(function(a){return a});b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.value||a.data.size,color:a.color,percent:a.percent};k||(delete a.percent,delete a.series.percent);d.data(a).hidden(!1)});
b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){d()});a.dispatch=n;a.sunburst=b;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{noData:{get:function(){return e},set:function(a){e=a}},defaultState:{get:function(){return m},set:function(a){m=a}},showTooltipPercent:{get:function(){return k},set:function(a){k=a}},color:{get:function(){return f},set:function(a){f=a;b.color(f)}},duration:{get:function(){return h},
set:function(a){h=a;q.reset(h);b.duration(h)}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top;g.right=void 0!==a.right?a.right:g.right;g.bottom=void 0!==a.bottom?a.bottom:g.bottom;g.left=void 0!==a.left?a.left:g.left;b.margin(g)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.version="1.8.5"})();
