/*
: 2013-14 (c) Sahana Software Foundation
 @license: MIT

 requires: jQuery 1.9.1+
 requires: jQuery UI 1.10 widget factory
 requires: D3.js 3.4.9+

*/
!function(){function W(c,p){return c<p?-1:c>p?1:c>=p?0:NaN}function s(c){return null!=c&&!isNaN(c)}function a(c){return{left:function(p,a,g,k){3>arguments.length&&(g=0);4>arguments.length&&(k=p.length);for(;g<k;){var n=g+k>>>1;0>c(p[n],a)?g=n+1:k=n}return g},right:function(p,a,g,k){3>arguments.length&&(g=0);4>arguments.length&&(k=p.length);for(;g<k;){var n=g+k>>>1;0<c(p[n],a)?k=n:g=n+1}return g}}}function b(c){return c.length}function r(c,p){try{for(var a in p)Object.defineProperty(c.prototype,a,
{value:p[a],enumerable:!1})}catch(g){c.prototype=p}}function A(){}function h(c){return hb+c in this}function m(){var c=[];this.forEach(function(p){c.push(p)});return c}function f(){var c=0,p;for(p in this)p.charCodeAt(0)===Rb&&++c;return c}function v(){for(var c in this)if(c.charCodeAt(0)===Rb)return!1;return!0}function q(){}function J(c,p,a){return function(){var g=a.apply(p,arguments);return g===p?c:g}}function F(c,p){if(p in c)return p;p=p.charAt(0).toUpperCase()+p.substring(1);for(var a=0,g=Qd.length;a<
g;++a){var k=Qd[a]+p;if(k in c)return k}}function B(){}function H(){}function D(c){function p(){for(var p=a,g=-1,K=p.length,y;++g<K;)(y=p[g].on)&&y.apply(this,arguments);return c}var a=[],g=new A;p.on=function(p,n){var K=g.get(p),y;if(2>arguments.length)return K&&K.on;K&&(K.on=null,a=a.slice(0,y=a.indexOf(K)).concat(a.slice(y+1)),g.remove(p));n&&a.push(g.set(p,{on:n}));return c};return p}function L(){w.event.preventDefault()}function S(){for(var c=w.event,p;p=c.sourceEvent;)c=p;return c}function z(c){for(var p=
new H,a=0,g=arguments.length;++a<g;)p[arguments[a]]=D(p);p.of=function(a,e){return function(g){try{var y=g.sourceEvent=w.event;g.target=c;w.event=g;p[g.type].apply(a,e)}finally{w.event=y}}};return p}function Q(c){Sb(c,ma);return c}function P(c){return"function"===typeof c?c:function(){return Mc(c,this)}}function I(c){return"function"===typeof c?c:function(){return Nc(c,this)}}function O(c,p){function a(){this.removeAttribute(c)}function g(){this.removeAttributeNS(c.space,c.local)}function k(){this.setAttribute(c,
p)}function n(){this.setAttributeNS(c.space,c.local,p)}function K(){var a=p.apply(this,arguments);null==a?this.removeAttribute(c):this.setAttribute(c,a)}function y(){var a=p.apply(this,arguments);null==a?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,a)}c=w.ns.qualify(c);return null==p?c.local?g:a:"function"===typeof p?c.local?y:K:c.local?n:k}function N(c){return c.trim().replace(/\s+/g," ")}function M(c){return new RegExp("(?:^|\\s+)"+w.requote(c)+"(?:\\s+|$)","g")}function t(c,
p){function a(){for(var e=-1;++e<k;)c[e](this,p)}function g(){for(var a=-1,e=p.apply(this,arguments);++a<k;)c[a](this,e)}c=(c+"").trim().split(/^|\s+/).map(C);var k=c.length;return"function"===typeof p?g:a}function C(c){var p=M(c);return function(a,g){if(k=a.classList)return g?k.add(c):k.remove(c);var k=a.getAttribute("class")||"";g?(p.lastIndex=0,p.test(k)||a.setAttribute("class",N(k+" "+c))):a.setAttribute("class",N(k.replace(p," ")))}}function E(c,p,a){function g(){this.style.removeProperty(c)}
function k(){this.style.setProperty(c,p,a)}function n(){var g=p.apply(this,arguments);null==g?this.style.removeProperty(c):this.style.setProperty(c,g,a)}return null==p?g:"function"===typeof p?n:k}function u(c,p){function a(){delete this[c]}function g(){this[c]=p}function k(){var a=p.apply(this,arguments);null==a?delete this[c]:this[c]=a}return null==p?a:"function"===typeof p?k:g}function T(c){return"function"===typeof c?c:(c=w.ns.qualify(c)).local?function(){return this.ownerDocument.createElementNS(c.space,
c.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,c)}}function R(c){return function(){return Rd(this,c)}}function U(c){arguments.length||(c=W);return function(p,a){return p&&a?c(p.__data__,a.__data__):!p-!a}}function G(c,p){for(var a=0,g=c.length;a<g;a++)for(var k=c[a],n=0,K=k.length,y;n<K;n++)(y=k[n])&&p(y,n,a);return c}function Z(c){Sb(c,Sa);return c}function V(c){var p,a;return function(g,k,n){g=c[n].update;var K=g.length;n!=a&&(a=n,p=0);for(k>=p&&(p=k+1);!(k=g[p])&&
++p<K;);return k}}function l(){var c=this.__transition__;c&&++c.active}function x(c,p,a){function g(){var p=this[K];p&&(this.removeEventListener(c,p,p.$),delete this[K])}function k(){var k=Y(p,ab(arguments));g.call(this);this.addEventListener(c,this[K]=k,k.$=a);k._=p}function n(){var p=new RegExp("^__on([^.]+)"+w.requote(c)+"$"),a,e;for(e in this)if(a=e.match(p)){var g=this[e];this.removeEventListener(a[1],g,g.$);delete this[e]}}var K="__on"+c,y=c.indexOf("."),Y=ia;0<y&&(c=c.substring(0,y));var b=
Oc.get(c);b&&(c=b,Y=ja);return y?p?k:g:p?B:n}function ia(c,p){return function(a){var g=w.event;w.event=a;p[0]=this.__data__;try{c.apply(this,p)}finally{w.event=g}}}function ja(c,p){var a=ia(c,p);return function(c){var p=c.relatedTarget;p&&(p===this||p.compareDocumentPosition(this)&8)||a.call(this,c)}}function ka(){var c=".dragsuppress-"+ ++jg,p="click"+c,a=w.select(xa).on("touchmove"+c,L).on("dragstart"+c,L).on("selectstart"+c,L);if(Db){var g=Ua.style,k=g[Db];g[Db]="none"}return function(n){a.on(c,
null);Db&&(g[Db]=k);if(n){var K=function(){a.on(p,null)};a.on(p,function(){L();K()},!0);setTimeout(K,0)}}}function X(c,p){p.changedTouches&&(p=p.changedTouches[0]);var a=c.ownerSVGElement||c;if(a.createSVGPoint){var g=a.createSVGPoint();if(0>Pc&&(xa.scrollX||xa.scrollY)){var a=w.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),k=a[0][0].getScreenCTM();Pc=!(k.f||k.e);a.remove()}Pc?(g.x=p.pageX,g.y=p.pageY):(g.x=p.clientX,g.y=p.clientY);
g=g.matrixTransform(c.getScreenCTM().inverse());return[g.x,g.y]}a=c.getBoundingClientRect();return[p.clientX-a.left-c.clientLeft,p.clientY-a.top-c.clientTop]}function da(){return w.event.changedTouches[0].identifier}function ea(){return w.event.target}function ba(){return xa}function $(c,p,a){return(p[0]-c[0])*(a[1]-c[1])-(p[1]-c[1])*(a[0]-c[0])}function la(c){return 1<c?0:-1>c?ga:Math.acos(c)}function ca(c){return 1<c?ua:-1>c?-ua:Math.asin(c)}function ya(c){return((c=Math.exp(c))+1/c)/2}function na(c){return(c=
Math.sin(c/2))*c}function Ca(){}function Da(c,p,a){return this instanceof Da?void(this.h=+c,this.s=+p,this.l=+a):2>arguments.length?c instanceof Da?new Da(c.h,c.s,c.l):Td(""+c,Ud,Da):new Da(c,p,a)}function Qc(c,p,a){function g(c){360<c?c-=360:0>c&&(c+=360);return 60>c?k+(n-k)*c/60:180>c?n:240>c?k+(n-k)*(240-c)/60:k}var k,n;c=isNaN(c)?0:0>(c%=360)?c+360:c;p=isNaN(p)?0:0>p?0:1<p?1:p;a=0>a?0:1<a?1:a;n=.5>=a?a*(1+p):a+p-a*p;k=2*a-n;return new za(Math.round(255*g(c+120)),Math.round(255*g(c)),Math.round(255*
g(c-120)))}function Ka(c,p,a){return this instanceof Ka?void(this.h=+c,this.c=+p,this.l=+a):2>arguments.length?c instanceof Ka?new Ka(c.h,c.c,c.l):c instanceof La?Vd(c.l,c.a,c.b):Vd((c=Wd((c=w.rgb(c)).r,c.g,c.b)).l,c.a,c.b):new Ka(c,p,a)}function Rc(c,p,a){isNaN(c)&&(c=0);isNaN(p)&&(p=0);return new La(a,Math.cos(c*=fa)*p,Math.sin(c)*p)}function La(c,p,a){return this instanceof La?void(this.l=+c,this.a=+p,this.b=+a):2>arguments.length?c instanceof La?new La(c.l,c.a,c.b):c instanceof Ka?Rc(c.l,c.c,
c.h):Wd((c=za(c)).r,c.g,c.b):new La(c,p,a)}function Xd(c,p,a){c=(c+16)/116;a=c-a/200;p=Sc(c+p/500)*Yd;c=Sc(c)*Zd;a=Sc(a)*$d;return new za(Tc(3.2404542*p-1.5371385*c-.4985314*a),Tc(-.969266*p+1.8760108*c+.041556*a),Tc(.0556434*p-.2040259*c+1.0572252*a))}function Vd(c,p,a){return 0<c?new Ka(Math.atan2(a,p)*qa,Math.sqrt(p*p+a*a),c):new Ka(NaN,NaN,c)}function Sc(c){return.206893034<c?c*c*c:(c-4/29)/7.787037}function Uc(c){return.008856<c?Math.pow(c,1/3):7.787037*c+4/29}function Tc(c){return Math.round(255*
(.00304>=c?12.92*c:1.055*Math.pow(c,1/2.4)-.055))}function za(c,p,a){return this instanceof za?void(this.r=~~c,this.g=~~p,this.b=~~a):2>arguments.length?c instanceof za?new za(c.r,c.g,c.b):Td(""+c,za,Qc):new za(c,p,a)}function Tb(c){return new za(c>>16,c>>8&255,c&255)+""}function rb(c){return 16>c?"0"+Math.max(0,c).toString(16):Math.min(255,c).toString(16)}function Td(c,p,a){var g=0,k=0,n=0,K,y;if(K=/([a-z]+)\((.*)\)/i.exec(c))switch(y=K[2].split(","),K[1]){case "hsl":return a(parseFloat(y[0]),parseFloat(y[1])/
100,parseFloat(y[2])/100);case "rgb":return p(Vc(y[0]),Vc(y[1]),Vc(y[2]))}if(a=Ub.get(c))return p(a.r,a.g,a.b);null==c||"#"!==c.charAt(0)||isNaN(a=parseInt(c.substring(1),16))||(4===c.length?(g=(a&3840)>>4,g|=g>>4,k=a&240,k|=k>>4,n=a&15,n|=n<<4):7===c.length&&(g=(a&16711680)>>16,k=(a&65280)>>8,n=a&255));return p(g,k,n)}function Ud(c,p,a){var g=Math.min(c/=255,p/=255,a/=255),k=Math.max(c,p,a),n=k-g,K=(k+g)/2;n?(g=.5>K?n/(k+g):n/(2-k-g),c=60*(c==k?(p-a)/n+(p<a?6:0):p==k?(a-c)/n+2:(c-p)/n+4)):(c=NaN,
g=0<K&&1>K?0:c);return new Da(c,g,K)}function Wd(c,p,a){c=Wc(c);p=Wc(p);a=Wc(a);var g=Uc((.4124564*c+.3575761*p+.1804375*a)/Yd),k=Uc((.2126729*c+.7151522*p+.072175*a)/Zd);c=Uc((.0193339*c+.119192*p+.9503041*a)/$d);return La(116*k-16,500*(g-k),200*(k-c))}function Wc(c){return.04045>=(c/=255)?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Vc(c){var p=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*p):p}function pa(c){return"function"===typeof c?c:function(){return c}}function ta(c){return c}
function Xc(c){return function(p,a,g){2===arguments.length&&"function"===typeof a&&(g=a,a=null);return Vb(p,a,c,g)}}function Vb(c,p,a,g){function k(){var c=Y.status,p;if(!c&&Y.responseText||200<=c&&300>c||304===c){try{p=a.call(n,Y)}catch(g){K.error.call(n,g);return}K.load.call(n,p)}else K.error.call(n,Y)}var n={},K=w.dispatch("beforesend","progress","load","error"),y={},Y=new XMLHttpRequest,b=null;!xa.XDomainRequest||"withCredentials"in Y||!/^(http(s)?:)?\/\//.test(c)||(Y=new XDomainRequest);"onload"in
Y?Y.onload=Y.onerror=k:Y.onreadystatechange=function(){3<Y.readyState&&k()};Y.onprogress=function(c){var p=w.event;w.event=c;try{K.progress.call(n,Y)}finally{w.event=p}};n.header=function(c,p){c=(c+"").toLowerCase();if(2>arguments.length)return y[c];null==p?delete y[c]:y[c]=p+"";return n};n.mimeType=function(c){if(!arguments.length)return p;p=null==c?null:c+"";return n};n.responseType=function(c){if(!arguments.length)return b;b=c;return n};n.response=function(c){a=c;return n};["get","post"].forEach(function(c){n[c]=
function(){return n.send.apply(n,[c].concat(ab(arguments)))}});n.send=function(a,e,g){2===arguments.length&&"function"===typeof e&&(g=e,e=null);Y.open(a,c,!0);null==p||"accept"in y||(y.accept=p+",*/*");if(Y.setRequestHeader)for(var k in y)Y.setRequestHeader(k,y[k]);null!=p&&Y.overrideMimeType&&Y.overrideMimeType(p);null!=b&&(Y.responseType=b);if(null!=g)n.on("error",g).on("load",function(c){g(null,c)});K.beforesend.call(n,Y);Y.send(null==e?null:e);return n};n.abort=function(){Y.abort();return n};
w.rebind(n,K,"on");return null==g?n:n.get(kg(g))}function kg(c){return 1===c.length?function(p,a){c(null==p?a:null)}:c}function Yc(){var c=ae(),c=be()-c;24<c?(isFinite(c)&&(clearTimeout(Wb),Wb=setTimeout(Yc,c)),Xb=0):(Xb=1,ce(Yc))}function ae(){var c=Date.now();for(Va=Yb;Va;)c>=Va.t&&(Va.f=Va.c(c-Va.t)),Va=Va.n;return c}function be(){for(var c,p=Yb,a=Infinity;p;)p.f?p=c?c.n=p.n:Yb=p.n:(p.t<a&&(a=p.t),p=(c=p).n);Zb=c;return a}function Zc(c,p){return p-(c?Math.ceil(Math.log(c)/Math.LN10):1)}function lg(c){var p=
c.decimal,a=c.thousands,g=c.grouping,k=c.currency,n=g?function(c){for(var p=c.length,k=[],n=0,b=g[0];0<p&&0<b;)k.push(c.substring(p-=b,p+b)),b=g[n=(n+1)%g.length];return k.reverse().join(a)}:ta;return function(c){c=de.exec(c);var a=c[1]||" ",e=c[2]||">",g=c[3]||"",b=c[4]||"",l=c[5],f=+c[6],m=c[7],u=c[8],h=c[9],x=1,q="",t="",r=!1;u&&(u=+u.substring(1));if(l||"0"===a&&"="===e)l=a="0",e="=",m&&(f-=Math.floor((f-1)/4));switch(h){case "n":m=!0;h="g";break;case "%":x=100;t="%";h="f";break;case "p":x=100;
t="%";h="r";break;case "b":case "o":case "x":case "X":"#"===b&&(q="0"+h.toLowerCase());case "c":case "d":r=!0;u=0;break;case "s":x=-1,h="r"}"$"===b&&(q=k[0],t=k[1]);"r"!=h||u||(h="g");if(null!=u)if("g"==h)u=Math.max(1,Math.min(21,u));else if("e"==h||"f"==h)u=Math.max(0,Math.min(20,u));var h=mg.get(h)||ng,z=l&&m;return function(c){var k=t;if(r&&c%1)return"";var K=0>c||0===c&&0>1/c?(c=-c,"-"):g;0>x?(k=w.formatPrefix(c,u),c=k.scale(c),k=k.symbol+t):c*=x;c=h(c,u);var b=c.lastIndexOf("."),va=0>b?c:c.substring(0,
b);c=0>b?"":p+c.substring(b+1);!l&&m&&(va=n(va));var b=q.length+va.length+c.length+(z?0:K.length),G=b<f?Array(b=f-b+1).join(a):"";z&&(va=n(G+va));K+=q;c=va+c;return("<"===e?K+c+G:">"===e?G+K+c:"^"===e?G.substring(0,b>>=1)+K+c+G.substring(b):K+(z?c:G+c))+k}}}function ng(c){return c+""}function Wa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function ib(c,p,a){function g(p){var a=c(p),e=n(a,1);return p-a<e-p?a:e}function k(a){p(a=c(new wa(a-1)),1);return a}function n(c,
a){p(c=new wa(+c),a);return c}function K(c,g,n){c=k(c);var y=[];if(1<n)for(;c<g;)a(c)%n||y.push(new Date(+c)),p(c,1);else for(;c<g;)y.push(new Date(+c)),p(c,1);return y}c.floor=c;c.round=g;c.ceil=k;c.offset=n;c.range=K;var y=c.utc=$b(c);y.floor=y;y.round=$b(g);y.ceil=$b(k);y.offset=$b(n);y.range=function(c,p,a){try{wa=Wa;var e=new Wa;e._=c;return K(e,p,a)}finally{wa=Date}};return c}function $b(c){return function(a,e){try{wa=Wa;var g=new Wa;g._=a;return c(g,e)._}finally{wa=Date}}}function og(c){function a(c){function p(a){for(var e=
[],k=-1,n=0,y,K;++k<g;)if(37===c.charCodeAt(k)){e.push(c.substring(n,k));null!=(y=ee[n=c.charAt(++k)])&&(n=c.charAt(++k));if(K=z[n])n=K(a,null==y?"e"===n?" ":"0":y);e.push(n);n=k+1}e.push(c.substring(n,k));return e.join("")}var g=c.length;p.parse=function(a){var p={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(e(p,c,a,0)!=a.length)return null;"p"in p&&(p.H=p.H%12+12*p.p);a=null!=p.Z&&wa!==Wa;var g=new (a?Wa:wa);"j"in p?g.setFullYear(p.y,0,p.j):"w"in p&&("W"in p||"U"in p)?(g.setFullYear(p.y,0,1),g.setFullYear(p.y,
0,"W"in p?(p.w+6)%7+7*p.W-(g.getDay()+5)%7:p.w+7*p.U-(g.getDay()+6)%7)):g.setFullYear(p.y,p.m,p.d);g.setHours(p.H+Math.floor(p.Z/100),p.M+p.Z%100,p.S,p.L);return a?g._:g};p.toString=function(){return c};return p}function e(c,p,a,e){for(var g,k=0,n=p.length,y=a.length;k<n;){if(e>=y)return-1;g=p.charCodeAt(k++);if(37===g){if(g=p.charAt(k++),g=C[g in ee?p.charAt(k++):g],!g||0>(e=g(c,a,e)))return-1}else if(g!=a.charCodeAt(e++))return-1}return e}var g=c.dateTime,k=c.date,n=c.time,K=c.periods,y=c.days,
Y=c.shortDays,b=c.months,l=c.shortMonths;a.utc=function(c){function e(c){try{wa=Wa;var p=new wa;p._=c;return g(p)}finally{wa=Date}}var g=a(c);e.parse=function(c){try{wa=Wa;var p=g.parse(c);return p&&p._}finally{wa=Date}};e.toString=g.toString;return e};a.multi=a.utc.multi=pg;var f=w.map(),m=ac(y),h=bc(y),u=ac(Y),x=bc(Y),q=ac(b),t=bc(b),r=ac(l),G=bc(l);K.forEach(function(c,p){f.set(c.toLowerCase(),p)});var z={a:function(c){return Y[c.getDay()]},A:function(c){return y[c.getDay()]},b:function(c){return l[c.getMonth()]},
B:function(c){return b[c.getMonth()]},c:a(g),d:function(c,p){return Aa(c.getDate(),p,2)},e:function(c,p){return Aa(c.getDate(),p,2)},H:function(c,p){return Aa(c.getHours(),p,2)},I:function(c,p){return Aa(c.getHours()%12||12,p,2)},j:function(c,p){return Aa(1+aa.dayOfYear(c),p,3)},L:function(c,p){return Aa(c.getMilliseconds(),p,3)},m:function(c,p){return Aa(c.getMonth()+1,p,2)},M:function(c,p){return Aa(c.getMinutes(),p,2)},p:function(c){return K[+(12<=c.getHours())]},S:function(c,p){return Aa(c.getSeconds(),
p,2)},U:function(c,p){return Aa(aa.sundayOfYear(c),p,2)},w:function(c){return c.getDay()},W:function(c,p){return Aa(aa.mondayOfYear(c),p,2)},x:a(k),X:a(n),y:function(c,p){return Aa(c.getFullYear()%100,p,2)},Y:function(c,p){return Aa(c.getFullYear()%1E4,p,4)},Z:qg,"%":function(){return"%"}},C={a:function(c,p,a){u.lastIndex=0;return(p=u.exec(p.substring(a)))?(c.w=x.get(p[0].toLowerCase()),a+p[0].length):-1},A:function(c,p,a){m.lastIndex=0;return(p=m.exec(p.substring(a)))?(c.w=h.get(p[0].toLowerCase()),
a+p[0].length):-1},b:function(c,p,a){r.lastIndex=0;return(p=r.exec(p.substring(a)))?(c.m=G.get(p[0].toLowerCase()),a+p[0].length):-1},B:function(c,p,a){q.lastIndex=0;return(p=q.exec(p.substring(a)))?(c.m=t.get(p[0].toLowerCase()),a+p[0].length):-1},c:function(c,p,a){return e(c,z.c.toString(),p,a)},d:fe,e:fe,H:ge,I:ge,j:rg,L:sg,m:tg,M:ug,p:function(c,p,a){p=f.get(p.substring(a,a+=2).toLowerCase());return null==p?-1:(c.p=p,a)},S:vg,U:wg,w:xg,W:yg,x:function(c,p,a){return e(c,z.x.toString(),p,a)},X:function(c,
p,a){return e(c,z.X.toString(),p,a)},y:zg,Y:Ag,Z:Bg,"%":Cg};return a}function Aa(c,p,a){var g=0>c?"-":"";c=(g?-c:c)+"";var k=c.length;return g+(k<a?Array(a-k+1).join(p)+c:c)}function ac(c){return new RegExp("^(?:"+c.map(w.requote).join("|")+")","i")}function bc(c){for(var p=new A,a=-1,g=c.length;++a<g;)p.set(c[a].toLowerCase(),a);return p}function xg(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a,a+1)))?(c.w=+p[0],a+p[0].length):-1}function wg(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a)))?
(c.U=+p[0],a+p[0].length):-1}function yg(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a)))?(c.W=+p[0],a+p[0].length):-1}function Ag(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a,a+4)))?(c.y=+p[0],a+p[0].length):-1}function zg(c,p,a){ra.lastIndex=0;if(p=ra.exec(p.substring(a,a+2))){var g=+p[0];c=(c.y=g+(68<g?1900:2E3),a+p[0].length)}else c=-1;return c}function Bg(c,p,a){return/^[+-]\d{4}$/.test(p=p.substring(a,a+5))?(c.Z=-p,a+5):-1}function tg(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a,
a+2)))?(c.m=p[0]-1,a+p[0].length):-1}function fe(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a,a+2)))?(c.d=+p[0],a+p[0].length):-1}function rg(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a,a+3)))?(c.j=+p[0],a+p[0].length):-1}function ge(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a,a+2)))?(c.H=+p[0],a+p[0].length):-1}function ug(c,p,a){ra.lastIndex=0;return(p=ra.exec(p.substring(a,a+2)))?(c.M=+p[0],a+p[0].length):-1}function vg(c,a,e){ra.lastIndex=0;return(a=ra.exec(a.substring(e,
e+2)))?(c.S=+a[0],e+a[0].length):-1}function sg(c,a,e){ra.lastIndex=0;return(a=ra.exec(a.substring(e,e+3)))?(c.L=+a[0],e+a[0].length):-1}function qg(c){var a=c.getTimezoneOffset();c=0<a?"-":"+";var e=~~(ha(a)/60),a=ha(a)%60;return c+Aa(e,"0",2)+Aa(a,"0",2)}function Cg(c,a,e){he.lastIndex=0;return(c=he.exec(a.substring(e,e+1)))?e+c[0].length:-1}function pg(c){for(var a=c.length,e=-1;++e<a;)c[e][0]=this(c[e][0]);return function(a){for(var p=0,e=c[p];!e[1](a);)e=c[++p];return e[0](a)}}function $c(){}
function ie(c,a,e){var g=e.s=c+a,k=g-c;e.t=c-(g-k)+(a-k)}function cc(c,a){if(c&&je.hasOwnProperty(c.type))je[c.type](c,a)}function ad(c,a,e){var g=-1;e=c.length-e;var k;for(a.lineStart();++g<e;)k=c[g],a.point(k[0],k[1],k[2]);a.lineEnd()}function ke(c,a){var e=-1,g=c.length;for(a.polygonStart();++e<g;)ad(c[e],a,1);a.polygonEnd()}function Dg(){function c(c,a){c*=fa;a=a*fa/2+ga/4;var p=c-g,e=0<=p?1:-1,b=e*p,p=Math.cos(a),l=Math.sin(a),f=n*l,m=k*p+f*Math.cos(b),e=f*e*Math.sin(b);jb.add(Math.atan2(e,m));
g=c;k=p;n=l}var a,e,g,k,n;Ea.point=function(K,y){Ea.point=c;g=(a=K)*fa;k=Math.cos(y=(e=y)*fa/2+ga/4);n=Math.sin(y)};Ea.lineEnd=function(){c(a,e)}}function kb(c){var a=c[0];c=c[1];var e=Math.cos(c);return[e*Math.cos(a),e*Math.sin(a),Math.sin(c)]}function dc(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]}function sb(c,a){return[c[1]*a[2]-c[2]*a[1],c[2]*a[0]-c[0]*a[2],c[0]*a[1]-c[1]*a[0]]}function bd(c,a){c[0]+=a[0];c[1]+=a[1];c[2]+=a[2]}function ec(c,a){return[c[0]*a,c[1]*a,c[2]*a]}function fc(c){var a=
Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);c[0]/=a;c[1]/=a;c[2]/=a}function gc(c){return[Math.atan2(c[1],c[0]),ca(c[2])]}function hc(c,a){return 1E-6>ha(c[0]-a[0])&&1E-6>ha(c[1]-a[1])}function cd(c,a){c*=fa;var e=Math.cos(a*=fa);Eb(e*Math.cos(c),e*Math.sin(c),Math.sin(a))}function Eb(c,a,e){++Fb;Xa+=(c-Xa)/Fb;Ya+=(a-Ya)/Fb;Pa+=(e-Pa)/Fb}function le(){function c(c,n){c*=fa;var K=Math.cos(n*=fa),y=K*Math.cos(c),K=K*Math.sin(c),Y=Math.sin(n),b=Math.atan2(Math.sqrt((b=e*Y-g*K)*b+(b=g*y-a*Y)*b+(b=a*K-e*
y)*b),a*y+e*K+g*Y);tb+=b;Ha+=b*(a+(a=y));Ia+=b*(e+(e=K));Ba+=b*(g+(g=Y));Eb(a,e,g)}var a,e,g;Ma.point=function(k,n){k*=fa;var K=Math.cos(n*=fa);a=K*Math.cos(k);e=K*Math.sin(k);g=Math.sin(n);Ma.point=c;Eb(a,e,g)}}function me(){Ma.point=cd}function Eg(){function c(c,a){c*=fa;var p=Math.cos(a*=fa),e=p*Math.cos(c),p=p*Math.sin(c),b=Math.sin(a),l=k*b-n*p,f=n*e-g*b,m=g*p-k*e,h=Math.sqrt(l*l+f*f+m*m),u=g*e+k*p+n*b,x=h&&-la(u)/h,h=Math.atan2(h,u);bb+=x*l;cb+=x*f;Qa+=x*m;tb+=h;Ha+=h*(g+(g=e));Ia+=h*(k+(k=
p));Ba+=h*(n+(n=b));Eb(g,k,n)}var a,e,g,k,n;Ma.point=function(K,y){a=K;e=y;Ma.point=c;K*=fa;var Y=Math.cos(y*=fa);g=Y*Math.cos(K);k=Y*Math.sin(K);n=Math.sin(y);Eb(g,k,n)};Ma.lineEnd=function(){c(a,e);Ma.lineEnd=me;Ma.point=cd}}function ub(){return!0}function ne(c,a,e,g,k){var n=[],K=[];c.forEach(function(c){if(!(0>=(a=c.length-1))){var a,p=c[0],e=c[a];if(hc(p,e)){k.lineStart();for(e=0;e<a;++e)k.point((p=c[e])[0],p[1]);k.lineEnd()}else a=new ic(p,c,null,!0),p=new ic(p,null,a,!1),a.o=p,n.push(a),K.push(p),
a=new ic(e,c,null,!1),p=new ic(e,null,a,!0),a.o=p,n.push(a),K.push(p)}});K.sort(a);oe(n);oe(K);if(n.length){c=0;a=e;for(e=K.length;c<e;++c)K[c].e=a=!a;a=n[0];for(var y,Y;;){for(var b=a,l=!0;b.v;)if((b=b.n)===a)return;y=b.z;k.lineStart();do{b.v=b.o.v=!0;if(b.e){if(l)for(c=0,e=y.length;c<e;++c)k.point((Y=y[c])[0],Y[1]);else g(b.x,b.n.x,1,k);b=b.n}else{if(l)for(y=b.p.z,c=y.length-1;0<=c;--c)k.point((Y=y[c])[0],Y[1]);else g(b.x,b.p.x,-1,k);b=b.p}b=b.o;y=b.z;l=!l}while(!b.v);k.lineEnd()}}}function oe(c){if(a=
c.length){for(var a,e=0,g=c[0],k;++e<a;)g.n=k=c[e],k.p=g,g=k;g.n=k=c[0];k.p=g}}function ic(c,a,e,g){this.x=c;this.z=a;this.o=e;this.e=g;this.v=!1;this.n=this.p=null}function pe(c,a,e,g){return function(k,n){function K(a,p){var e=k(a,p);c(a=e[0],p=e[1])&&n.point(a,p)}function y(c,a){var p=k(c,a);h.point(p[0],p[1])}function b(){x.point=y;h.lineStart()}function oa(){x.point=K;h.lineEnd()}function l(c,a){C.push([c,a]);var p=k(c,a);r.point(p[0],p[1])}function f(){r.lineStart();C=[]}function m(){l(C[0][0],
C[0][1]);r.lineEnd();var c=r.clean(),a=t.buffer(),p=a.length;C.pop();G.push(C);C=null;if(p)if(c&1){var c=a[0],p=c.length-1,a=-1,e;if(0<p){z||(n.polygonStart(),z=!0);for(n.lineStart();++a<p;)n.point((e=c[a])[0],e[1]);n.lineEnd()}}else 1<p&&c&2&&a.push(a.pop().concat(a.shift())),q.push(a.filter(Fg))}var h=a(n),u=k.invert(g[0],g[1]),x={point:K,lineStart:b,lineEnd:oa,polygonStart:function(){x.point=l;x.lineStart=f;x.lineEnd=m;q=[];G=[]},polygonEnd:function(){x.point=K;x.lineStart=b;x.lineEnd=oa;q=w.merge(q);
var c,a=u;c=G;var p=a[0],g=a[1],k=[Math.sin(p),-Math.cos(p),0],y=0,l=0;jb.reset();for(var va=0,f=c.length;va<f;++va){var m=c[va],Sd=m.length;if(Sd)for(var h=m[0],Ta=h[0],a=h[1]/2+ga/4,t=Math.sin(a),r=Math.cos(a),C=1;;){C===Sd&&(C=0);var a=m[C],E=a[0],s=a[1]/2+ga/4,v=Math.sin(s),s=Math.cos(s),T=E-Ta,A=0<=T?1:-1,I=A*T,R=I>ga,t=t*v;jb.add(Math.atan2(t*A*Math.sin(I),r*s+t*Math.cos(I)));y+=R?T+A*Fa:T;R^Ta>=p^E>=p&&(h=sb(kb(h),kb(a)),fc(h),Ta=sb(k,h),fc(Ta),Ta=(R^0<=T?-1:1)*ca(Ta[2]),g>Ta||g===Ta&&(h[0]||
h[1]))&&(l+=R^0<=T?1:-1);if(!C++)break;Ta=E;t=v;r=s;h=a}}c=(-1E-6>y||1E-6>y&&0>jb)^l&1;q.length?(z||(n.polygonStart(),z=!0),ne(q,Gg,c,e,n)):c&&(z||(n.polygonStart(),z=!0),n.lineStart(),e(null,null,1,n),n.lineEnd());z&&(n.polygonEnd(),z=!1);q=G=null},sphere:function(){n.polygonStart();n.lineStart();e(null,null,1,n);n.lineEnd();n.polygonEnd()}},q,t=qe(),r=a(t),z=!1,G,C;return x}}function Fg(c){return 1<c.length}function qe(){var c=[],a;return{lineStart:function(){c.push(a=[])},point:function(c,g){a.push([c,
g])},lineEnd:B,buffer:function(){var e=c;c=[];a=null;return e},rejoin:function(){1<c.length&&c.push(c.pop().concat(c.shift()))}}}function Gg(c,a){return(0>(c=c.x)[0]?c[1]-ua-1E-6:ua-c[1])-(0>(a=a.x)[0]?a[1]-ua-1E-6:ua-a[1])}function Hg(c){function a(c,p){return Math.cos(c)*Math.cos(p)>k}function e(c,a,p){var e=kb(c),g=kb(a),n=[1,0,0],g=sb(e,g),y=dc(g,g),e=g[0],K=y-e*e;if(!K)return!p&&c;y=k*y/K;K=-k*e/K;e=sb(n,g);n=ec(n,y);g=ec(g,K);bd(n,g);g=dc(n,e);y=dc(e,e);K=g*g-y*(dc(n,n)-1);if(!(0>K)){var b=
Math.sqrt(K),K=ec(e,(-g-b)/y);bd(K,n);K=gc(K);if(!p)return K;p=c[0];var l=a[0];c=c[1];a=a[1];var f;l<p&&(f=p,p=l,l=f);var m=l-p,h=1E-6>ha(m-ga);!h&&a<c&&(f=c,c=a,a=f);if(h||1E-6>m?h?0<c+a^K[1]<(1E-6>ha(K[0]-p)?c:a):c<=K[1]&&K[1]<=a:m>ga^(p<=K[0]&&K[0]<=l))return a=ec(e,(-g+b)/y),bd(a,n),[K,gc(a)]}}function g(a,p){var e=n?c:ga-c,g=0;a<-e?g|=1:a>e&&(g|=2);p<-e?g|=4:p>e&&(g|=8);return g}var k=Math.cos(c),n=0<k,K=1E-6<ha(k),y=dd(c,6*fa);return pe(a,function(c){var k,y,b,l,f;return{lineStart:function(){l=
b=!1;f=1},point:function(m,h){var u=[m,h],x,q=a(m,h),t=n?q?0:g(m,h):q?g(m+(0>m?ga:-ga),h):0;!k&&(l=b=q)&&c.lineStart();q!==b&&(x=e(k,u),hc(k,x)||hc(u,x))&&(u[0]+=1E-6,u[1]+=1E-6,q=a(u[0],u[1]));if(q!==b)f=0,q?(c.lineStart(),x=e(u,k),c.point(x[0],x[1])):(x=e(k,u),c.point(x[0],x[1]),c.lineEnd()),k=x;else if(K&&k&&n^q){var r;t&y||!(r=e(u,k,!0))||(f=0,n?(c.lineStart(),c.point(r[0][0],r[0][1]),c.point(r[1][0],r[1][1]),c.lineEnd()):(c.point(r[1][0],r[1][1]),c.lineEnd(),c.lineStart(),c.point(r[0][0],r[0][1])))}!q||
k&&hc(k,u)||c.point(u[0],u[1]);k=u;b=q;y=t},lineEnd:function(){b&&c.lineEnd();k=null},clean:function(){return f|(l&&b)<<1}}},y,n?[0,-c]:[-ga,c-ga])}function re(c,a,e,g){return function(k){var n=k.a,K=k.b,y=n.x,n=n.y,b=0,oa=1,l=K.x-y,K=K.y-n,f;f=c-y;if(l||!(0<f)){f/=l;if(0>l){if(f<b)return;f<oa&&(oa=f)}else if(0<l){if(f>oa)return;f>b&&(b=f)}f=e-y;if(l||!(0>f)){f/=l;if(0>l){if(f>oa)return;f>b&&(b=f)}else if(0<l){if(f<b)return;f<oa&&(oa=f)}f=a-n;if(K||!(0<f)){f/=K;if(0>K){if(f<b)return;f<oa&&(oa=f)}else if(0<
K){if(f>oa)return;f>b&&(b=f)}f=g-n;if(K||!(0>f)){f/=K;if(0>K){if(f>oa)return;f>b&&(b=f)}else if(0<K){if(f<b)return;f<oa&&(oa=f)}0<b&&(k.a={x:y+b*l,y:n+b*K});1>oa&&(k.b={x:y+oa*l,y:n+oa*K});return k}}}}}}function se(c,a,e,g){function k(g,k){return 1E-6>ha(g[0]-c)?0<k?0:3:1E-6>ha(g[0]-e)?0<k?2:1:1E-6>ha(g[1]-a)?0<k?1:0:0<k?3:2}function n(c,a){return K(c.x,a.x)}function K(c,a){var p=k(c,1),e=k(a,1);return p!==e?p-e:0===p?a[1]-c[1]:1===p?c[0]-a[0]:2===p?c[1]-a[1]:a[0]-c[0]}return function(y){function b(n,
y,Y,l){var oa=0,f=0;if(null==n||(oa=k(n,Y))!==(f=k(y,Y))||0>K(n,y)^0<Y){do l.point(0===oa||3===oa?c:e,1<oa?g:a);while((oa=(oa+Y+4)%4)!==f)}else l.point(y[0],y[1])}function l(k,n){c<=k&&k<=e&&a<=n&&n<=g&&y.point(k,n)}function f(k,n){k=Math.max(-1E9,Math.min(1E9,k));n=Math.max(-1E9,Math.min(1E9,n));var K=c<=k&&k<=e&&a<=n&&n<=g;q&&r.push([k,n]);if(T)z=k,C=n,G=K,T=!1,K&&(y.lineStart(),y.point(k,n));else if(K&&v)y.point(k,n);else{var b={a:{x:E,y:s},b:{x:k,y:n}};u(b)?(v||(y.lineStart(),y.point(b.a.x,b.a.y)),
y.point(b.b.x,b.b.y),K||y.lineEnd(),A=!1):K&&(y.lineStart(),y.point(k,n),A=!1)}E=k;s=n;v=K}var m=y,h=qe(),u=re(c,a,e,g),x,q,r,t={point:l,lineStart:function(){t.point=f;q&&q.push(r=[]);T=!0;v=!1;E=s=NaN},lineEnd:function(){x&&(f(z,C),G&&v&&h.rejoin(),x.push(h.buffer()));t.point=l;v&&y.lineEnd()},polygonStart:function(){y=h;x=[];q=[];A=!0},polygonEnd:function(){y=m;x=w.merge(x);var a;a=[c,g];for(var p=0,e=q.length,k=a[1],K=0;K<e;++K)for(var l=1,oa=q[K],f=oa.length,h=oa[0],va;l<f;++l)va=oa[l],h[1]<=
k?va[1]>k&&0<$(h,va,a)&&++p:va[1]<=k&&0>$(h,va,a)&&--p,h=va;a=0!==p;p=A&&a;e=x.length;if(p||e)y.polygonStart(),p&&(y.lineStart(),b(null,null,1,y),y.lineEnd()),e&&ne(x,n,a,b,y),y.polygonEnd();x=q=r=null}},z,C,G,E,s,v,T,A;return t}}function te(c,a){function e(e,k){return e=c(e,k),a(e[0],e[1])}c.invert&&a.invert&&(e.invert=function(e,k){return e=a.invert(e,k),e&&c.invert(e[0],e[1])});return e}function ed(c){var a=0,e=ga/3,g=fd(c);c=g(a,e);c.parallels=function(c){return arguments.length?g(a=c[0]*ga/180,
e=c[1]*ga/180):[a/ga*180,e/ga*180]};return c}function ue(c,a){function e(c,a){var p=Math.sqrt(n-2*k*Math.sin(a))/k;return[p*Math.sin(c*=k),K-p*Math.cos(c)]}var g=Math.sin(c),k=(g+Math.sin(a))/2,n=1+g*(2*k-g),K=Math.sqrt(n)/k;e.invert=function(c,a){var p=K-a;return[Math.atan2(c,p)/k,ca((n-(c*c+p*p)*k*k)/(2*k))]};return e}function Ig(){function c(c,a){jc+=k*c-g*a;g=c;k=a}var a,e,g,k;db.point=function(n,K){db.point=c;a=g=n;e=k=K};db.lineEnd=function(){c(a,e)}}function Jg(){function c(c,a){K.push("M",
c,",",a,n)}function a(c,p){K.push("M",c,",",p);y.point=e}function e(c,a){K.push("L",c,",",a)}function g(){y.point=c}function k(){K.push("Z")}var n=ve(4.5),K=[],y={point:c,lineStart:function(){y.point=a},lineEnd:g,polygonStart:function(){y.lineEnd=k},polygonEnd:function(){y.lineEnd=g;y.point=c},pointRadius:function(c){n=ve(c);return y},result:function(){if(K.length){var c=K.join("");K=[];return c}}};return y}function ve(c){return"m0,"+c+"a"+c+","+c+" 0 1,1 0,"+-2*c+"a"+c+","+c+" 0 1,1 0,"+2*c+"z"}
function lb(c,a){Xa+=c;Ya+=a;++Pa}function we(){function c(c,k){var n=c-a,K=k-e,n=Math.sqrt(n*n+K*K);Ha+=n*(a+c)/2;Ia+=n*(e+k)/2;Ba+=n;lb(a=c,e=k)}var a,e;Na.point=function(g,k){Na.point=c;lb(a=g,e=k)}}function xe(){Na.point=lb}function Kg(){function c(c,a){var p=c-g,e=a-k,p=Math.sqrt(p*p+e*e);Ha+=p*(g+c)/2;Ia+=p*(k+a)/2;Ba+=p;p=k*c-g*a;bb+=p*(g+c);cb+=p*(k+a);Qa+=3*p;lb(g=c,k=a)}var a,e,g,k;Na.point=function(n,K){Na.point=c;lb(a=g=n,e=k=K)};Na.lineEnd=function(){c(a,e)}}function Lg(c){function a(p,
e){c.moveTo(p,e);c.arc(p,e,K,0,Fa)}function e(a,p){c.moveTo(a,p);y.point=g}function g(a,p){c.lineTo(a,p)}function k(){y.point=a}function n(){c.closePath()}var K=4.5,y={point:a,lineStart:function(){y.point=e},lineEnd:k,polygonStart:function(){y.lineEnd=n},polygonEnd:function(){y.lineEnd=k;y.point=a},pointRadius:function(c){K=c;return y},result:B};return y}function ye(c){function a(c){return(y?g:e)(c)}function e(a){return ze(a,function(p,e){p=c(p,e);a.point(p[0],p[1])})}function g(a){function p(e,g){e=
c(e,g);a.point(e[0],e[1])}function e(){t=NaN;E.point=g;a.lineStart()}function g(p,e){var n=kb([p,e]),K=c(p,e);k(t,z,r,w,C,G,t=K[0],z=K[1],r=p,w=n[0],C=n[1],G=n[2],y,a);a.point(t,z)}function n(){E.point=p;a.lineEnd()}function K(){e();E.point=b;E.lineEnd=l}function b(c,a){g(f=c,a);m=t;h=z;u=w;x=C;q=G;E.point=g}function l(){k(t,z,r,w,C,G,m,h,f,u,x,q,y,a);E.lineEnd=n;n()}var f,m,h,u,x,q,r,t,z,w,C,G,E={point:p,lineStart:e,lineEnd:n,polygonStart:function(){a.polygonStart();E.lineStart=K},polygonEnd:function(){a.polygonEnd();
E.lineStart=e}};return E}function k(a,p,e,g,y,b,l,f,m,h,u,x,q,t){var r=l-a,z=f-p,w=r*r+z*z;if(w>4*n&&q--){var C=g+h,G=y+u,E=b+x,s=Math.sqrt(C*C+G*G+E*E),v=Math.asin(E/=s),T=1E-6>ha(ha(E)-1)||1E-6>ha(e-m)?(e+m)/2:Math.atan2(G,C),A=c(T,v),v=A[0],A=A[1],I=v-a,R=A-p,L=z*I-r*R;if(L*L/w>n||.3<ha((r*I+z*R)/w-.5)||g*h+y*u+b*x<K)k(a,p,e,g,y,b,v,A,T,C/=s,G/=s,E,q,t),t.point(v,A),k(v,A,T,C,G,E,l,f,m,h,u,x,q,t)}}var n=.5,K=Math.cos(30*fa),y=16;a.precision=function(c){if(!arguments.length)return Math.sqrt(n);
y=0<(n=c*c)&&16;return a};return a}function Mg(c){var a=ye(function(a,p){return c([a*qa,p*qa])});return function(c){return Ae(a(c))}}function Be(c){this.stream=c}function ze(c,a){return{point:a,sphere:function(){c.sphere()},lineStart:function(){c.lineStart()},lineEnd:function(){c.lineEnd()},polygonStart:function(){c.polygonStart()},polygonEnd:function(){c.polygonEnd()}}}function eb(c){return fd(function(){return c})()}function fd(c){function a(c){c=y(c[0]*fa,c[1]*fa);return[c[0]*l+r,z-c[1]*l]}function e(c){return(c=
y.invert((c[0]-r)/l,(z-c[1])/l))&&[c[0]*qa,c[1]*qa]}function g(){y=te(b=gd(x,q,t),n);var c=n(h,u);r=f-c[0]*l;z=m+c[1]*l;return k()}function k(){s&&(s.valid=!1,s=null);return a}var n,b,y,Y=ye(function(c,a){c=n(c,a);return[c[0]*l+r,z-c[1]*l]}),l=150,f=480,m=250,h=0,u=0,x=0,q=0,t=0,r,z,C=Ce,G=ta,E=null,v=null,s;a.stream=function(c){s&&(s.valid=!1);s=Ae(C(b,Y(G(c))));s.valid=!0;return s};a.clipAngle=function(c){if(!arguments.length)return E;C=null==c?(E=c,Ce):Hg((E=+c)*fa);return k()};a.clipExtent=function(c){if(!arguments.length)return v;
G=(v=c)?se(c[0][0],c[0][1],c[1][0],c[1][1]):ta;return k()};a.scale=function(c){if(!arguments.length)return l;l=+c;return g()};a.translate=function(c){if(!arguments.length)return[f,m];f=+c[0];m=+c[1];return g()};a.center=function(c){if(!arguments.length)return[h*qa,u*qa];h=c[0]%360*fa;u=c[1]%360*fa;return g()};a.rotate=function(c){if(!arguments.length)return[x*qa,q*qa,t*qa];x=c[0]%360*fa;q=c[1]%360*fa;t=2<c.length?c[2]%360*fa:0;return g()};w.rebind(a,Y,"precision");return function(){n=c.apply(this,
arguments);a.invert=n.invert&&e;return g()}}function Ae(c){return ze(c,function(a,e){c.point(a*fa,e*fa)})}function Gb(c,a){return[c,a]}function De(c,a){return[c>ga?c-Fa:c<-ga?c+Fa:c,a]}function gd(c,a,e){return c?a||e?te(Ee(c),Fe(a,e)):Ee(c):a||e?Fe(a,e):De}function Ge(c){return function(a,e){return a+=c,[a>ga?a-Fa:a<-ga?a+Fa:a,e]}}function Ee(c){var a=Ge(c);a.invert=Ge(-c);return a}function Fe(c,a){function e(c,a){var p=Math.cos(a),e=Math.cos(c)*p,p=Math.sin(c)*p,l=Math.sin(a),f=l*g+e*k;return[Math.atan2(p*
n-f*b,e*g-l*k),ca(f*n+p*b)]}var g=Math.cos(c),k=Math.sin(c),n=Math.cos(a),b=Math.sin(a);e.invert=function(c,a){var p=Math.cos(a),e=Math.cos(c)*p,p=Math.sin(c)*p,l=Math.sin(a),f=l*n-p*b;return[Math.atan2(p*n+l*b,e*g+f*k),ca(f*g-e*k)]};return e}function dd(c,a){var e=Math.cos(c),g=Math.sin(c);return function(k,n,b,y){var Y=b*a;if(null!=k){if(k=He(e,k),n=He(e,n),0<b?k<n:k>n)k+=b*Fa}else k=c+b*Fa,n=c-.5*Y;for(var l;0<b?k>n:k<n;k-=Y)y.point((l=gc([e,-g*Math.cos(k),-g*Math.sin(k)]))[0],l[1])}}function He(c,
a){var e=kb(a);e[0]-=c;fc(e);var g=la(-e[1]);return((0>-e[2]?-g:g)+2*Math.PI-1E-6)%(2*Math.PI)}function Ie(c,a,e){var g=w.range(c,a-1E-6,e).concat(a);return function(c){return g.map(function(a){return[c,a]})}}function Je(c,a,e){var g=w.range(c,a-1E-6,e).concat(a);return function(c){return g.map(function(a){return[a,c]})}}function hd(c){return c.source}function id(c){return c.target}function Ng(c,a,e,g){var k=Math.cos(a),n=Math.sin(a),b=Math.cos(g),y=Math.sin(g),Y=k*Math.cos(c),l=k*Math.sin(c),f=b*
Math.cos(e),m=b*Math.sin(e),h=2*Math.asin(Math.sqrt(na(g-a)+k*b*na(e-c))),u=1/Math.sin(h);e=h?function(c){var a=Math.sin(c*=h)*u,p=Math.sin(h-c)*u;c=p*Y+a*f;var e=p*l+a*m,a=p*n+a*y;return[Math.atan2(e,c)*qa,Math.atan2(a,Math.sqrt(c*c+e*e))*qa]}:function(){return[c*qa,a*qa]};e.distance=h;return e}function Hb(c,a){function e(a,p){var e=Math.cos(a),b=Math.cos(p),e=c(e*b);return[e*b*Math.sin(a),e*Math.sin(p)]}e.invert=function(c,e){var n=Math.sqrt(c*c+e*e),b=a(n),y=Math.sin(b),b=Math.cos(b);return[Math.atan2(c*
y,n*b),Math.asin(n&&e*y/n)]};return e}function Ke(c,a){function e(c,a){0<n?a<-ua+1E-6&&(a=-ua+1E-6):a>ua-1E-6&&(a=ua-1E-6);var p=n/Math.pow(Math.tan(ga/4+a/2),k);return[p*Math.sin(k*c),n-p*Math.cos(k*c)]}var g=Math.cos(c),k=c===a?Math.sin(c):Math.log(g/Math.cos(a))/Math.log(Math.tan(ga/4+a/2)/Math.tan(ga/4+c/2)),n=g*Math.pow(Math.tan(ga/4+c/2),k)/k;if(!k)return kc;e.invert=function(c,a){var p=n-a,e=(0<k?1:0>k?-1:0)*Math.sqrt(c*c+p*p);return[Math.atan2(c,p)/k,2*Math.atan(Math.pow(n/e,1/k))-ua]};return e}
function Le(c,a){function e(c,a){var p=n-a;return[p*Math.sin(k*c),n-p*Math.cos(k*c)]}var g=Math.cos(c),k=c===a?Math.sin(c):(g-Math.cos(a))/(a-c),n=g/k+c;if(1E-6>ha(k))return Gb;e.invert=function(c,a){var p=n-a;return[Math.atan2(c,p)/k,n-(0<k?1:0>k?-1:0)*Math.sqrt(c*c+p*p)]};return e}function kc(c,a){return[c,Math.log(Math.tan(ga/4+a/2))]}function Me(c){var a=eb(c),e=a.scale,g=a.translate,k=a.clipExtent,n;a.scale=function(){var c=e.apply(a,arguments);return c===a?n?a.clipExtent(null):a:c};a.translate=
function(){var c=g.apply(a,arguments);return c===a?n?a.clipExtent(null):a:c};a.clipExtent=function(c){var b=k.apply(a,arguments);if(b===a){if(n=null==c){var Y=ga*e(),l=g();k([[l[0]-Y,l[1]-Y],[l[0]+Y,l[1]+Y]])}}else n&&(b=null);return b};return a.clipExtent(null)}function jd(c,a){return[Math.log(Math.tan(ga/4+a/2)),-c]}function vb(c){return c[0]}function Ib(c){return c[1]}function Ne(c){for(var a=c.length,e=[0,1],g=2,k=2;k<a;k++){for(;1<g&&0>=$(c[e[g-2]],c[e[g-1]],c[k]);)--g;e[g++]=k}return e.slice(0,
g)}function Og(c,a){return c[0]-a[0]||c[1]-a[1]}function kd(c,a,e){return(e[0]-a[0])*(c[1]-a[1])<(e[1]-a[1])*(c[0]-a[0])}function Oe(c,a,e,g){var k=c[0],n=e[0],b=a[0]-k,y=g[0]-n;c=c[1];e=e[1];a=a[1]-c;g=g[1]-e;n=(y*(c-e)-g*(k-n))/(g*b-y*a);return[k+n*b,c+n*a]}function Pe(c){var a=c[0];c=c[c.length-1];return!(a[0]-c[0]||a[1]-c[1])}function Pg(){lc(this);this.edge=this.site=this.circle=null}function Qe(c){var a=Re.pop()||new Pg;a.site=c;return a}function ld(c){wb(c);xb.remove(c);Re.push(c);lc(c)}function Se(c,
a){var e=c.site,g=e.x,k=e.y,n=k-a;if(!n)return g;var b=c.P;if(!b)return-Infinity;var e=b.site,b=e.x,e=e.y,y=e-a;if(!y)return b;var Y=b-g,l=1/n-1/y,f=Y/y;return l?(-f+Math.sqrt(f*f-2*l*(Y*Y/(-2*y)-e+y/2+k-n/2)))/l+g:(g+b)/2}function Te(c){this.site=c;this.edges=[]}function Ue(c,a){return a.angle-c.angle}function Qg(){lc(this);this.x=this.y=this.arc=this.site=this.cy=null}function yb(c){var a=c.P,e=c.N;if(a&&e){var g=a.site,a=c.site,k=e.site;if(g!==k){var e=a.x,n=a.y,b=g.x-e,y=g.y-n,g=k.x-e,k=k.y-n,
Y=2*(b*k-y*g);if(!(-1E-12<=Y)){var l=b*b+y*y,f=g*g+k*k,y=(k*l-y*f)/Y,b=(b*f-g*l)/Y,k=b+n,n=Ve.pop()||new Qg;n.arc=c;n.site=a;n.x=y+e;n.y=k+Math.sqrt(y*y+b*b);n.cy=k;c.circle=n;c=null;for(a=Jb._;a;)if(n.y<a.y||n.y===a.y&&n.x<=a.x)if(a.L)a=a.L;else{c=a.P;break}else if(a.R)a=a.R;else{c=a;break}Jb.insert(c,n);c||(md=n)}}}}function wb(c){var a=c.circle;a&&(a.P||(md=a.N),Jb.remove(a),Ve.push(a),lc(a),c.circle=null)}function Rg(c,a){var e=c.b;if(e)return!0;var g=c.a,e=a[0][0],k=a[1][0],n=a[0][1],b=a[1][1],
y=c.l,Y=c.r,l=y.x,y=y.y,f=Y.x,Y=Y.y,m=(l+f)/2,h;if(Y===y){if(m<e||m>=k)return;if(l>f){if(!g)g={x:m,y:n};else if(g.y>=b)return;e={x:m,y:b}}else{if(!g)g={x:m,y:b};else if(g.y<n)return;e={x:m,y:n}}}else if(h=(l-f)/(Y-y),m=(y+Y)/2-h*m,-1>h||1<h)if(l>f){if(!g)g={x:(n-m)/h,y:n};else if(g.y>=b)return;e={x:(b-m)/h,y:b}}else{if(!g)g={x:(b-m)/h,y:b};else if(g.y<n)return;e={x:(n-m)/h,y:n}}else if(y<Y){if(!g)g={x:e,y:h*e+m};else if(g.x>=k)return;e={x:k,y:h*k+m}}else{if(!g)g={x:k,y:h*k+m};else if(g.x<e)return;
e={x:e,y:h*e+m}}c.a=g;c.b=e;return!0}function We(c,a){this.l=c;this.r=a;this.a=this.b=null}function Kb(c,a,e,g){var k=new We(c,a);zb.push(k);e&&mc(k,c,a,e);g&&mc(k,a,c,g);mb[c.i].edges.push(new nc(k,c,a));mb[a.i].edges.push(new nc(k,a,c));return k}function Sg(c,a,e){c=new We(c,null);c.a=a;c.b=e;zb.push(c);return c}function mc(c,a,e,g){c.a||c.b?c.l===e?c.b=g:c.a=g:(c.a=g,c.l=a,c.r=e)}function nc(c,a,e){var g=c.a,k=c.b;this.edge=c;this.site=a;this.angle=e?Math.atan2(e.y-a.y,e.x-a.x):c.l===a?Math.atan2(k.x-
g.x,g.y-k.y):Math.atan2(g.x-k.x,k.y-g.y)}function nd(){this._=null}function lc(c){c.U=c.C=c.L=c.R=c.P=c.N=null}function Lb(c,a){var e=a.R,g=a.U;g?g.L===a?g.L=e:g.R=e:c._=e;e.U=g;a.U=e;a.R=e.L;a.R&&(a.R.U=a);e.L=a}function Mb(c,a){var e=a.L,g=a.U;g?g.L===a?g.L=e:g.R=e:c._=e;e.U=g;a.U=e;a.L=e.R;a.L&&(a.L.U=a);e.R=a}function Xe(c){for(;c.L;)c=c.L;return c}function od(c,a){var e=c.sort(Tg).pop(),g,k,n;zb=[];mb=Array(c.length);xb=new nd;for(Jb=new nd;;)if(n=md,e&&(!n||e.y<n.y||e.y===n.y&&e.x<n.x)){if(e.x!==
g||e.y!==k){mb[e.i]=new Te(e);g=e;for(var b=g.x,y=g.y,l=n=k=void 0,f=void 0,m=xb._;m;)if(l=Se(m,y)-b,1E-6<l)m=m.L;else{var h=m,f=y,u=h.N;u?f=Se(u,f):(h=h.site,f=h.y===f?h.x:Infinity);f=b-f;if(1E-6<f){if(!m.R){k=m;break}m=m.R}else{-1E-6<l?(k=m.P,n=m):-1E-6<f?(k=m,n=m.N):k=n=m;break}}b=Qe(g);xb.insert(k,b);if(k||n)if(k===n)wb(k),n=Qe(k.site),xb.insert(b,n),b.edge=n.edge=Kb(k.site,b.site),yb(k),yb(n);else if(n){wb(k);wb(n);var y=k.site,m=y.x,f=y.y,h=g.x-m,u=g.y-f,l=n.site,x=l.x-m,q=l.y-f,r=2*(h*q-u*
x),t=h*h+u*u,z=x*x+q*q,m={x:(q*t-u*z)/r+m,y:(h*z-x*t)/r+f};mc(n.edge,y,l,m);b.edge=Kb(y,g,null,m);n.edge=Kb(g,l,null,m);yb(k);yb(n)}else b.edge=Kb(k.site,b.site);g=e.x;k=e.y}e=c.pop()}else if(n){l=n.arc;n=l.circle;y=n.x;m=n.cy;n={x:y,y:m};h=l.P;f=l.N;b=[l];ld(l);for(l=h;l.circle&&1E-6>ha(y-l.circle.x)&&1E-6>ha(m-l.circle.cy);)h=l.P,b.unshift(l),ld(l),l=h;b.unshift(l);wb(l);for(h=f;h.circle&&1E-6>ha(y-h.circle.x)&&1E-6>ha(m-h.circle.cy);)f=h.N,b.push(h),ld(h),h=f;b.push(h);wb(h);y=b.length;m=void 0;
for(m=1;m<y;++m)h=b[m],l=b[m-1],mc(h.edge,l.site,h.site,n);l=b[0];h=b[y-1];h.edge=Kb(l.site,h.site,null,n);yb(l);yb(h)}else break;if(a){e=zb;g=re(a[0][0],a[0][1],a[1][0],a[1][1]);for(k=e.length;k--;)if(n=e[k],!Rg(n,a)||!g(n)||1E-6>ha(n.a.x-n.b.x)&&1E-6>ha(n.a.y-n.b.y))n.a=n.b=null,e.splice(k,1);e=a[0][0];g=a[1][0];k=a[0][1];n=a[1][1];m=mb;for(f=m.length;f--;)if((h=m[f])&&h.prepare())for(x=h.edges,q=x.length,u=0;u<q;)if(r=x[u].end(),y=r.x,l=r.y,t=x[++u%q].start(),b=t.x,t=t.y,1E-6<ha(y-b)||1E-6<ha(l-
t))x.splice(u,0,new nc(Sg(h.site,r,1E-6>ha(y-e)&&1E-6<n-l?{x:e,y:1E-6>ha(b-e)?t:n}:1E-6>ha(l-n)&&1E-6<g-y?{x:1E-6>ha(t-n)?b:g,y:n}:1E-6>ha(y-g)&&1E-6<l-k?{x:g,y:1E-6>ha(b-g)?t:k}:1E-6>ha(l-k)&&1E-6<y-e?{x:1E-6>ha(t-k)?b:e,y:k}:null),h.site,null)),++q}e={cells:mb,edges:zb};xb=Jb=zb=mb=null;return e}function Tg(c,a){return a.y-c.y||a.x-c.x}function Ug(c){return c.x}function Vg(c){return c.y}function Ye(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Nb(c,a,e,g,k,n){if(!c(a,e,g,k,n)){var b=
.5*(e+k),y=.5*(g+n);a=a.nodes;a[0]&&Nb(c,a[0],e,g,b,y);a[1]&&Nb(c,a[1],b,g,k,y);a[2]&&Nb(c,a[2],e,y,b,n);a[3]&&Nb(c,a[3],b,y,k,n)}}function pd(c,a){c=w.rgb(c);a=w.rgb(a);var e=c.r,g=c.g,k=c.b,n=a.r-e,b=a.g-g,y=a.b-k;return function(c){return"#"+rb(Math.round(e+n*c))+rb(Math.round(g+b*c))+rb(Math.round(k+y*c))}}function Ze(c,a){var e={},g={},k;for(k in c)k in a?e[k]=nb(c[k],a[k]):g[k]=c[k];for(k in a)k in c||(g[k]=a[k]);return function(c){for(k in e)g[k]=e[k](c);return g}}function Za(c,a){a-=c=+c;
return function(e){return c+a*e}}function $e(c,a){var e=qd.lastIndex=rd.lastIndex=0,g,k,n,b=-1,y=[],l=[];c+="";for(a+="";(g=qd.exec(c))&&(k=rd.exec(a));)(n=k.index)>e&&(n=a.substring(e,n),y[b]?y[b]+=n:y[++b]=n),(g=g[0])===(k=k[0])?y[b]?y[b]+=k:y[++b]=k:(y[++b]=null,l.push({i:b,x:Za(g,k)})),e=rd.lastIndex;e<a.length&&(n=a.substring(e),y[b]?y[b]+=n:y[++b]=n);return 2>y.length?l[0]?(a=l[0].x,function(c){return a(c)+""}):function(){return a}:(a=l.length,function(c){for(var e=0,g;e<a;++e)y[(g=l[e]).i]=
g.x(c);return y.join("")})}function nb(c,a){for(var e=w.interpolators.length,g;0<=--e&&!(g=w.interpolators[e](c,a)););return g}function oc(c,a){var e=[],g=[],k=c.length,n=a.length,b=Math.min(c.length,a.length),y;for(y=0;y<b;++y)e.push(nb(c[y],a[y]));for(;y<k;++y)g[y]=c[y];for(;y<n;++y)g[y]=a[y];return function(c){for(y=0;y<b;++y)g[y]=e[y](c);return g}}function Wg(c){return function(a){return 0>=a?0:1<=a?1:c(a)}}function af(c){return function(a){return 1-c(1-a)}}function bf(c){return function(a){return.5*
(.5>a?c(2*a):2-c(2-2*a))}}function Xg(c){return c*c}function Yg(c){return c*c*c}function Zg(c){if(0>=c)return 0;if(1<=c)return 1;var a=c*c,e=a*c;return 4*(.5>c?e:3*(c-a)+e-.75)}function $g(c){return 1-Math.cos(c*ua)}function ah(c){return Math.pow(2,10*(c-1))}function bh(c){return 1-Math.sqrt(1-c*c)}function ch(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375}function cf(c,a){a-=c;return function(e){return Math.round(c+
a*e)}}function df(c){var a=[c.a,c.b],e=[c.c,c.d],g=ef(a),k=a[0]*e[0]+a[1]*e[1],n=-k;e[0]+=n*a[0];e[1]+=n*a[1];n=ef(e)||0;a[0]*e[1]<e[0]*a[1]&&(a[0]*=-1,a[1]*=-1,g*=-1,k*=-1);this.rotate=(g?Math.atan2(a[1],a[0]):Math.atan2(-e[0],e[1]))*qa;this.translate=[c.e,c.f];this.scale=[g,n];this.skew=n?Math.atan2(k,n)*qa:0}function ef(c){var a=Math.sqrt(c[0]*c[0]+c[1]*c[1]);a&&(c[0]/=a,c[1]/=a);return a}function ff(c,a){var e=[],g=[],k,n=w.transform(c),b=w.transform(a),y=n.translate,l=b.translate,f=n.rotate,
m=b.rotate,h=n.skew,u=b.skew,n=n.scale,b=b.scale;y[0]!=l[0]||y[1]!=l[1]?(e.push("translate(",null,",",null,")"),g.push({i:1,x:Za(y[0],l[0])},{i:3,x:Za(y[1],l[1])})):l[0]||l[1]?e.push("translate("+l+")"):e.push("");f!=m?(180<f-m?m+=360:180<m-f&&(f+=360),g.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:Za(f,m)})):m&&e.push(e.pop()+"rotate("+m+")");h!=u?g.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:Za(h,u)}):u&&e.push(e.pop()+"skewX("+u+")");n[0]!=b[0]||n[1]!=b[1]?(k=e.push(e.pop()+"scale(",null,",",
null,")"),g.push({i:k-4,x:Za(n[0],b[0])},{i:k-2,x:Za(n[1],b[1])})):1==b[0]&&1==b[1]||e.push(e.pop()+"scale("+b+")");k=g.length;return function(c){for(var a=-1,p;++a<k;)e[(p=g[a]).i]=p.x(c);return e.join("")}}function dh(c,a){a=a-(c=+c)?1/(a-c):0;return function(e){return(e-c)*a}}function eh(c,a){a=a-(c=+c)?1/(a-c):0;return function(e){return Math.max(0,Math.min(1,(e-c)*a))}}function fh(c){var a=c.source;c=c.target;var e;var g=c;if(a===g)e=a;else{e=gf(a);for(var g=gf(g),k=e.pop(),n=g.pop(),b=null;k===
n;)b=k,k=e.pop(),n=g.pop();e=b}for(g=[a];a!==e;)a=a.parent,g.push(a);for(a=g.length;c!==e;)g.splice(a,0,c),c=c.parent;return g}function gf(c){for(var a=[],e=c.parent;null!=e;)a.push(c),c=e,e=e.parent;a.push(c);return a}function gh(c){c.fixed|=2}function hh(c){c.fixed&=-7}function ih(c){c.fixed|=4;c.px=c.x;c.py=c.y}function jh(c){c.fixed&=-5}function hf(c,a,e){var g=0,k=0;c.charge=0;if(!c.leaf)for(var n=c.nodes,b=n.length,y=-1,l;++y<b;)l=n[y],null!=l&&(hf(l,a,e),c.charge+=l.charge,g+=l.charge*l.cx,
k+=l.charge*l.cy);c.point&&(c.leaf||(c.point.x+=Math.random()-.5,c.point.y+=Math.random()-.5),a*=e[c.point.index],c.charge+=c.pointCharge=a,g+=a*c.point.x,k+=a*c.point.y);c.cx=g/c.charge;c.cy=k/c.charge}function Ob(c,a){w.rebind(c,a,"sort","children","value");c.nodes=c;c.links=kh;return c}function Pb(c,a){for(var e=[c];null!=(c=e.pop());)if(a(c),(k=c.children)&&(g=k.length))for(var g,k;0<=--g;)e.push(k[g])}function Ra(c,a){for(var e=[c],g=[];null!=(c=e.pop());)if(g.push(c),(b=c.children)&&(n=b.length))for(var k=
-1,n,b;++k<n;)e.push(b[k]);for(;null!=(c=g.pop());)a(c)}function lh(c){return c.children}function mh(c){return c.value}function nh(c,a){return a.value-c.value}function kh(c){return w.merge(c.map(function(c){return(c.children||[]).map(function(a){return{source:c,target:a}})}))}function oh(c){return c.x}function ph(c){return c.y}function qh(c,a,e){c.y0=a;c.y=e}function sd(c){return w.range(c.length)}function td(c){var a=-1;c=c[0].length;for(var e=[];++a<c;)e[a]=0;return e}function rh(c){for(var a=1,
e=0,g=c[0][1],k,n=c.length;a<n;++a)(k=c[a][1])>g&&(e=a,g=k);return e}function sh(c){return c.reduce(th,0)}function th(c,a){return c+a[1]}function uh(c,a){return jf(c,Math.ceil(Math.log(a.length)/Math.LN2+1))}function jf(c,a){for(var e=-1,g=+c[0],k=(c[1]-g)/a,n=[];++e<=a;)n[e]=k*e+g;return n}function vh(c){return[w.min(c),w.max(c)]}function wh(c,a){return c.value-a.value}function ud(c,a){var e=c._pack_next;c._pack_next=a;a._pack_prev=c;a._pack_next=e;e._pack_prev=a}function kf(c,a){c._pack_next=a;
a._pack_prev=c}function lf(c,a){var e=a.x-c.x,g=a.y-c.y,k=c.r+a.r;return.999*k*k>e*e+g*g}function mf(c){function a(c){g=Math.min(c.x-c.r,g);k=Math.max(c.x+c.r,k);n=Math.min(c.y-c.r,n);b=Math.max(c.y+c.r,b)}if((e=c.children)&&(x=e.length)){var e,g=Infinity,k=-Infinity,n=Infinity,b=-Infinity,y,l,f,m,h,u,x;e.forEach(xh);y=e[0];y.x=-y.r;y.y=0;a(y);if(1<x&&(l=e[1],l.x=l.r,l.y=0,a(l),2<x))for(f=e[2],nf(y,l,f),a(f),ud(y,f),y._pack_prev=f,ud(f,l),l=y._pack_next,m=3;m<x;m++){nf(y,l,f=e[m]);var q=0,t=1,r=1;
for(h=l._pack_next;h!==l;h=h._pack_next,t++)if(lf(h,f)){q=1;break}if(1==q)for(u=y._pack_prev;u!==h._pack_prev&&!lf(u,f);u=u._pack_prev,r++);q?(t<r||t==r&&l.r<y.r?kf(y,l=h):kf(y=u,l),m--):(ud(y,f),l=f,a(f))}y=(g+k)/2;l=(n+b)/2;for(m=h=0;m<x;m++)f=e[m],f.x-=y,f.y-=l,h=Math.max(h,f.r+Math.sqrt(f.x*f.x+f.y*f.y));c.r=h;e.forEach(yh)}}function xh(c){c._pack_next=c._pack_prev=c}function yh(c){delete c._pack_next;delete c._pack_prev}function of(c,a,e,g){var k=c.children;c.x=a+=g*c.x;c.y=e+=g*c.y;c.r*=g;if(k){c=
-1;for(var n=k.length;++c<n;)of(k[c],a,e,g)}}function nf(c,a,e){var g=c.r+e.r,k=a.x-c.x,n=a.y-c.y;if(g&&(k||n)){var b=a.r+e.r,y=k*k+n*n,b=b*b,g=g*g;a=.5+(g-b)/(2*y);b=Math.sqrt(Math.max(0,2*b*(g+y)-(g-=y)*g-b*b))/(2*y);e.x=c.x+a*k+b*n;e.y=c.y+a*n-b*k}else e.x=c.x+g,e.y=c.y}function pf(c,a){return c.parent==a.parent?1:2}function vd(c){var a=c.children;return a.length?a[0]:c.t}function wd(c){var a=c.children,e;return(e=a.length)?a[e-1]:c.t}function zh(c){return 1+w.max(c,function(c){return c.y})}function Ah(c){return c.reduce(function(c,
a){return c+a.x},0)/c.length}function qf(c){var a=c.children;return a&&a.length?qf(a[0]):c}function rf(c){var a=c.children,e;return a&&(e=a.length)?rf(a[e-1]):c}function xd(c){return{x:c.x,y:c.y,dx:c.dx,dy:c.dy}}function sf(c,a){var e=c.x+a[3],g=c.y+a[0],k=c.dx-a[1]-a[3],n=c.dy-a[0]-a[2];0>k&&(e+=k/2,k=0);0>n&&(g+=n/2,n=0);return{x:e,y:g,dx:k,dy:n}}function Ab(c){var a=c[0];c=c[c.length-1];return a<c?[a,c]:[c,a]}function pc(c){return c.rangeExtent?c.rangeExtent():Ab(c.range())}function Bh(c,a,e,g){var k=
e(c[0],c[1]),n=g(a[0],a[1]);return function(c){return n(k(c))}}function qc(c,a){var e=0,g=c.length-1,k=c[e],n=c[g],b;n<k&&(b=e,e=g,g=b,b=k,k=n,n=b);c[e]=a.floor(k);c[g]=a.ceil(n);return c}function tf(c){return c?{floor:function(a){return Math.floor(a/c)*c},ceil:function(a){return Math.ceil(a/c)*c}}:Ch}function Dh(c,a,e,g){var k=[],n=[],b=0,y=Math.min(c.length,a.length)-1;c[y]<c[0]&&(c=c.slice().reverse(),a=a.slice().reverse());for(;++b<=y;)k.push(e(c[b-1],c[b])),n.push(g(a[b-1],a[b]));return function(a){var p=
w.bisect(c,a,1,y)-1;return n[p](k[p](a))}}function uf(c,a,e,g){function k(){var k=2<Math.min(c.length,a.length)?Dh:Bh,l=g?eh:dh;b=k(c,a,l,e);y=k(a,c,l,nb);return n}function n(c){return b(c)}var b,y;n.invert=function(c){return y(c)};n.domain=function(a){if(!arguments.length)return c;c=a.map(Number);return k()};n.range=function(c){if(!arguments.length)return a;a=c;return k()};n.rangeRound=function(c){return n.range(c).interpolate(cf)};n.clamp=function(c){if(!arguments.length)return g;g=c;return k()};
n.interpolate=function(c){if(!arguments.length)return e;e=c;return k()};n.ticks=function(a){return w.range.apply(w,fb(c,a))};n.tickFormat=function(a,p){return yd(c,a,p)};n.nice=function(a){qc(c,tf(fb(c,a)[2]));return k()};n.copy=function(){return uf(c,a,e,g)};return k()}function zd(c,a){return w.rebind(c,a,"range","rangeRound","interpolate","clamp")}function fb(c,a){null==a&&(a=10);var e=Ab(c),g=e[1]-e[0],k=Math.pow(10,Math.floor(Math.log(g/a)/Math.LN10)),g=a/g*k;.15>=g?k*=10:.35>=g?k*=5:.75>=g&&
(k*=2);e[0]=Math.ceil(e[0]/k)*k;e[1]=Math.floor(e[1]/k)*k+.5*k;e[2]=k;return e}function yd(c,a,e){c=fb(c,a);if(e){a=de.exec(e);a.shift();if("s"===a[8]){var g=w.formatPrefix(Math.max(ha(c[0]),ha(c[1])));a[7]||(a[7]="."+rc(g.scale(c[2])));a[8]="f";e=w.format(a.join(""));return function(c){return e(g.scale(c))+g.symbol}}a[7]||(a[7]="."+Eh(a[8],c));e=a.join("")}else e=",."+rc(c[2])+"f";return w.format(e)}function rc(c){return-Math.floor(Math.log(c)/Math.LN10+.01)}function Eh(c,a){var e=rc(a[2]);return c in
Fh?Math.abs(e-rc(Math.max(ha(a[0]),ha(a[1]))))+ +("e"!==c):e-2*("%"===c)}function vf(c,a,e,g){function k(c){return(e?Math.log(0>c?0:c):-Math.log(0<c?0:-c))/Math.log(a)}function n(c){return e?Math.pow(a,c):-Math.pow(a,-c)}function b(a){return c(k(a))}b.invert=function(a){return n(c.invert(a))};b.domain=function(a){if(!arguments.length)return g;e=0<=a[0];c.domain((g=a.map(Number)).map(k));return b};b.base=function(e){if(!arguments.length)return a;a=+e;c.domain(g.map(k));return b};b.nice=function(){var a=
qc(g.map(k),e?Math:Gh);c.domain(a);g=a.map(n);return b};b.ticks=function(){var c=Ab(g),b=[],l=c[0],c=c[1],K=Math.floor(k(l)),f=Math.ceil(k(c)),m=a%1?2:a;if(isFinite(f-K)){if(e){for(;K<f;K++)for(var h=1;h<m;h++)b.push(n(K)*h);b.push(n(K))}else for(b.push(n(K));K++<f;)for(h=m-1;0<h;h--)b.push(n(K)*h);for(K=0;b[K]<l;K++);for(f=b.length;b[f-1]>c;f--);b=b.slice(K,f)}return b};b.tickFormat=function(c,a){if(!arguments.length)return wf;2>arguments.length?a=wf:"function"!==typeof a&&(a=w.format(a));var p=
Math.max(.1,c/b.ticks().length),g=e?(l=1E-12,Math.ceil):(l=-1E-12,Math.floor),l;return function(c){return c/n(g(k(c)+l))<=p?a(c):""}};b.copy=function(){return vf(c.copy(),a,e,g)};return zd(b,c)}function xf(c,a,e){function g(a){return c(k(a))}var k=sc(a),n=sc(1/a);g.invert=function(a){return n(c.invert(a))};g.domain=function(a){if(!arguments.length)return e;c.domain((e=a.map(Number)).map(k));return g};g.ticks=function(c){return w.range.apply(w,fb(e,c))};g.tickFormat=function(c,a){return yd(e,c,a)};
g.nice=function(c){return g.domain(qc(e,tf(fb(e,c)[2])))};g.exponent=function(b){if(!arguments.length)return a;k=sc(a=b);n=sc(1/a);c.domain(e.map(k));return g};g.copy=function(){return xf(c.copy(),a,e)};return zd(g,c)}function sc(c){return function(a){return 0>a?-Math.pow(-a,c):Math.pow(a,c)}}function yf(c,a){function e(e){return n[((k.get(e)||("range"===a.t?k.set(e,c.push(e)):NaN))-1)%n.length]}function g(a,p){return w.range(c.length).map(function(c){return a+p*c})}var k,n,b;e.domain=function(g){if(!arguments.length)return c;
c=[];k=new A;for(var n=-1,b=g.length,l;++n<b;)k.has(l=g[n])||k.set(l,c.push(l));return e[a.t].apply(e,a.a)};e.range=function(c){if(!arguments.length)return n;n=c;b=0;a={t:"range",a:arguments};return e};e.rangePoints=function(k,l){2>arguments.length&&(l=0);var f=k[0],m=k[1],h=(m-f)/(Math.max(1,c.length-1)+l);n=g(2>c.length?(f+m)/2:f+h*l/2,h);b=0;a={t:"rangePoints",a:arguments};return e};e.rangeBands=function(k,l,f){2>arguments.length&&(l=0);3>arguments.length&&(f=l);var m=k[1]<k[0],h=k[m-0],u=(k[1-
m]-h)/(c.length-l+2*f);n=g(h+u*f,u);m&&n.reverse();b=u*(1-l);a={t:"rangeBands",a:arguments};return e};e.rangeRoundBands=function(k,l,f){2>arguments.length&&(l=0);3>arguments.length&&(f=l);var m=k[1]<k[0],h=k[m-0],u=k[1-m],x=Math.floor((u-h)/(c.length-l+2*f));n=g(h+Math.round((u-h-(c.length-l)*x)/2),x);m&&n.reverse();b=Math.round(x*(1-l));a={t:"rangeRoundBands",a:arguments};return e};e.rangeBand=function(){return b};e.rangeExtent=function(){return Ab(a.a[0])};e.copy=function(){return yf(c,a)};return e.domain(c)}
function zf(c,a){function e(){var e=0,b=a.length;for(k=[];++e<b;)k[e-1]=w.quantile(c,e/b);return g}function g(c){if(!isNaN(c=+c))return a[w.bisect(k,c)]}var k;g.domain=function(a){if(!arguments.length)return c;c=a.filter(s).sort(W);return e()};g.range=function(c){if(!arguments.length)return a;a=c;return e()};g.quantiles=function(){return k};g.invertExtent=function(e){e=a.indexOf(e);return 0>e?[NaN,NaN]:[0<e?k[e-1]:c[0],e<k.length?k[e]:c[c.length-1]]};g.copy=function(){return zf(c,a)};return e()}function Af(c,
a,e){function g(a){return e[Math.max(0,Math.min(b,Math.floor(n*(a-c))))]}function k(){n=e.length/(a-c);b=e.length-1;return g}var n,b;g.domain=function(e){if(!arguments.length)return[c,a];c=+e[0];a=+e[e.length-1];return k()};g.range=function(c){if(!arguments.length)return e;e=c;return k()};g.invertExtent=function(a){a=e.indexOf(a);a=0>a?NaN:a/n+c;return[a,a+1/n]};g.copy=function(){return Af(c,a,e)};return k()}function Bf(c,a){function e(e){if(e<=e)return a[w.bisect(c,e)]}e.domain=function(a){if(!arguments.length)return c;
c=a;return e};e.range=function(c){if(!arguments.length)return a;a=c;return e};e.invertExtent=function(e){e=a.indexOf(e);return[c[e-1],c[e]]};e.copy=function(){return Bf(c,a)};return e}function Cf(c){function a(c){return+c}a.invert=a;a.domain=a.range=function(e){if(!arguments.length)return c;c=e.map(a);return a};a.ticks=function(a){return w.range.apply(w,fb(c,a))};a.tickFormat=function(a,p){return yd(c,a,p)};a.copy=function(){return Cf(c)};return a}function Hh(c){return c.innerRadius}function Ih(c){return c.outerRadius}
function Df(c){return c.startAngle}function Ef(c){return c.endAngle}function Ff(c){function a(p){function b(){f.push("M",n(c(K),l))}for(var f=[],K=[],m=-1,h=p.length,u,x=pa(e),q=pa(g);++m<h;)k.call(this,u=p[m],m)?K.push([+x.call(this,u,m),+q.call(this,u,m)]):K.length&&(b(),K=[]);K.length&&b();return f.length?f.join(""):null}var e=vb,g=Ib,k=ub,n=Ga,b=n.key,l=.7;a.x=function(c){if(!arguments.length)return e;e=c;return a};a.y=function(c){if(!arguments.length)return g;g=c;return a};a.defined=function(c){if(!arguments.length)return k;
k=c;return a};a.interpolate=function(c){if(!arguments.length)return b;b="function"===typeof c?n=c:(n=Ad.get(c)||Ga).key;return a};a.tension=function(c){if(!arguments.length)return l;l=c;return a};return a}function Ga(c){return c.join("L")}function Bd(c){for(var a=0,e=c.length,g=c[0],k=[g[0],",",g[1]];++a<e;)k.push("V",(g=c[a])[1],"H",g[0]);return k.join("")}function Cd(c){for(var a=0,e=c.length,g=c[0],k=[g[0],",",g[1]];++a<e;)k.push("H",(g=c[a])[0],"V",g[1]);return k.join("")}function tc(c,a){if(1>
a.length||c.length!=a.length&&c.length!=a.length+2)return Ga(c);var e=c.length!=a.length,g="",k=c[0],n=c[1],b=a[0],l=b,f=1;e&&(g+="Q"+(n[0]-2*b[0]/3)+","+(n[1]-2*b[1]/3)+","+n[0]+","+n[1],k=c[1],f=2);if(1<a.length)for(l=a[1],n=c[f],f++,g+="C"+(k[0]+b[0])+","+(k[1]+b[1])+","+(n[0]-l[0])+","+(n[1]-l[1])+","+n[0]+","+n[1],k=2;k<a.length;k++,f++)n=c[f],l=a[k],g+="S"+(n[0]-l[0])+","+(n[1]-l[1])+","+n[0]+","+n[1];e&&(e=c[f],g+="Q"+(n[0]+2*l[0]/3)+","+(n[1]+2*l[1]/3)+","+e[0]+","+e[1]);return g}function Dd(c,
a){for(var e=[],g=(1-a)/2,k,n=c[0],b=c[1],l=1,f=c.length;++l<f;)k=n,n=b,b=c[l],e.push([g*(b[0]-k[0]),g*(b[1]-k[1])]);return e}function Gf(c){if(3>c.length)return Ga(c);var a=1,e=c.length,g=c[0],k=g[0],n=g[1],b=[k,k,k,(g=c[1])[0]],l=[n,n,n,g[1]],k=[k,",",n,"L",Ja(gb,b),",",Ja(gb,l)];for(c.push(c[e-1]);++a<=e;)g=c[a],b.shift(),b.push(g[0]),l.shift(),l.push(g[1]),Ed(k,b,l);c.pop();k.push("L",g);return k.join("")}function Ja(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]}function Ed(c,a,e){c.push("C",
Ja(Hf,a),",",Ja(Hf,e),",",Ja(If,a),",",Ja(If,e),",",Ja(gb,a),",",Ja(gb,e))}function Fd(c,a){return(a[1]-c[1])/(a[0]-c[0])}function Jf(c){for(var a,e=-1,g=c.length,k,n;++e<g;)a=c[e],k=a[0],n=a[1]+ob,a[0]=k*Math.cos(n),a[1]=k*Math.sin(n);return c}function Kf(c){function a(p){function f(){x.push("M",l(c(q),u),h,m(c(Y.reverse()),u),"Z")}for(var x=[],Y=[],q=[],t=-1,r=p.length,z,C=pa(e),G=pa(k),w=e===g?function(){return s}:pa(g),E=k===n?function(){return v}:pa(n),s,v;++t<r;)b.call(this,z=p[t],t)?(Y.push([s=
+C.call(this,z,t),v=+G.call(this,z,t)]),q.push([+w.call(this,z,t),+E.call(this,z,t)])):Y.length&&(f(),Y=[],q=[]);Y.length&&f();return x.length?x.join(""):null}var e=vb,g=vb,k=0,n=Ib,b=ub,l=Ga,f=l.key,m=l,h="L",u=.7;a.x=function(c){if(!arguments.length)return g;e=g=c;return a};a.x0=function(c){if(!arguments.length)return e;e=c;return a};a.x1=function(c){if(!arguments.length)return g;g=c;return a};a.y=function(c){if(!arguments.length)return n;k=n=c;return a};a.y0=function(c){if(!arguments.length)return k;
k=c;return a};a.y1=function(c){if(!arguments.length)return n;n=c;return a};a.defined=function(c){if(!arguments.length)return b;b=c;return a};a.interpolate=function(c){if(!arguments.length)return f;f="function"===typeof c?l=c:(l=Ad.get(c)||Ga).key;m=l.reverse||l;h=l.closed?"M":"L";return a};a.tension=function(c){if(!arguments.length)return u;u=c;return a};return a}function Jh(c){return c.radius}function Lf(c){return[c.x,c.y]}function Kh(c){return function(){var a=c.apply(this,arguments),e=a[0],a=a[1]+
ob;return[e*Math.cos(a),e*Math.sin(a)]}}function Lh(){return 64}function Mh(){return"circle"}function Mf(c){c=Math.sqrt(c/ga);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function Qb(c,a){Sb(c,sa);c.id=a;return c}function Gd(c,a,e,g){var k=c.id;return G(c,"function"===typeof e?function(c,b,l){c.__transition__[k].tween.set(a,g(e.call(c,c.__data__,b,l)))}:(e=g(e),function(c){c.__transition__[k].tween.set(a,e)}))}function Nh(c){null==c&&(c="");return function(){this.textContent=
c}}function uc(c,a,e,g){var k=c.__transition__||(c.__transition__={active:0,count:0}),n=k[e];if(!n){var b=g.time,n=k[e]={tween:new A,time:b,ease:g.ease,delay:g.delay,duration:g.duration};++k.count;w.timer(function(g){function l(g){if(k.active>e)return m();k.active=e;n.event&&n.event.start.call(c,h,a);n.tween.forEach(function(e,g){(g=g.call(c,h,a))&&r.push(g)});w.timer(function(){t.c=f(g||1)?ub:f;return 1},0,b)}function f(g){if(k.active!==e)return m();g/=q;for(var b=u(g),l=r.length;0<l;)r[--l].call(c,
b);if(1<=g)return n.event&&n.event.end.call(c,h,a),m()}function m(){--k.count?delete k[e]:delete c.__transition__;return 1}var h=c.__data__,u=n.ease,x=n.delay,q=n.duration,t=Va,r=[];t.t=x+b;if(x<=g)return l(g-x);t.c=l},0,b)}}function Nf(c,a){c.attr("transform",function(c){return"translate("+a(c)+",0)"})}function Of(c,a){c.attr("transform",function(c){return"translate(0,"+a(c)+")"})}function Hd(c){return c.toISOString()}function Id(c,a,e){function g(a){return c(a)}function k(c,e){var g=(c[1]-c[0])/
e,k=w.bisect(vc,g);return k==vc.length?[a.year,fb(c.map(function(c){return c/31536E6}),e)[2]]:k?a[g/vc[k-1]<vc[k]/g?k-1:k]:[Oh,fb(c,e)[2]]}g.invert=function(a){return pb(c.invert(a))};g.domain=function(a){if(!arguments.length)return c.domain().map(pb);c.domain(a);return g};g.nice=function(c,a){function e(p){return!isNaN(p)&&!c.range(p,pb(+p+1),a).length}var p=g.domain(),b=Ab(p);if(b=null==c?k(b,10):"number"===typeof c&&k(b,c))c=b[0],a=b[1];return g.domain(qc(p,1<a?{floor:function(a){for(;e(a=c.floor(a));)a=
pb(a-1);return a},ceil:function(a){for(;e(a=c.ceil(a));)a=pb(+a+1);return a}}:c))};g.ticks=function(c,a){var e=Ab(g.domain()),p=null==c?k(e,10):"number"===typeof c?k(e,c):!c.range&&[{range:c},a];p&&(c=p[0],a=p[1]);return c.range(e[0],pb(+e[1]+1),1>a?1:a)};g.tickFormat=function(){return e};g.copy=function(){return Id(c.copy(),a,e)};return zd(g,c)}function pb(c){return new Date(c)}function Ph(c){return JSON.parse(c.responseText)}function Qh(c){var a=Oa.createRange();a.selectNode(Oa.body);return a.createContextualFragment(c.responseText)}
var w={version:"3.4.9"};Date.now||(Date.now=function(){return+new Date});var Pf=[].slice,ab=function(c){return Pf.call(c)},Oa=document,Ua=Oa.documentElement,xa=window;try{ab(Ua.childNodes)[0].nodeType}catch(pi){ab=function(c){for(var a=c.length,e=Array(a);a--;)e[a]=c[a];return e}}try{Oa.createElement("div").style.setProperty("opacity",0,"")}catch(qi){var wc=xa.Element.prototype,Rh=wc.setAttribute,Sh=wc.setAttributeNS,Qf=xa.CSSStyleDeclaration.prototype,Th=Qf.setProperty;wc.setAttribute=function(c,
a){Rh.call(this,c,a+"")};wc.setAttributeNS=function(c,a,e){Sh.call(this,c,a,e+"")};Qf.setProperty=function(c,a,e){Th.call(this,c,a+"",e)}}w.ascending=W;w.descending=function(c,a){return a<c?-1:a>c?1:a>=c?0:NaN};w.min=function(c,a){var e=-1,g=c.length,k,b;if(1===arguments.length){for(;++e<g&&!(null!=(k=c[e])&&k<=k);)k=void 0;for(;++e<g;)null!=(b=c[e])&&k>b&&(k=b)}else{for(;++e<g&&!(null!=(k=a.call(c,c[e],e))&&k<=k);)k=void 0;for(;++e<g;)null!=(b=a.call(c,c[e],e))&&k>b&&(k=b)}return k};w.max=function(c,
a){var e=-1,g=c.length,k,b;if(1===arguments.length){for(;++e<g&&!(null!=(k=c[e])&&k<=k);)k=void 0;for(;++e<g;)null!=(b=c[e])&&b>k&&(k=b)}else{for(;++e<g&&!(null!=(k=a.call(c,c[e],e))&&k<=k);)k=void 0;for(;++e<g;)null!=(b=a.call(c,c[e],e))&&b>k&&(k=b)}return k};w.extent=function(c,a){var e=-1,g=c.length,k,b,l;if(1===arguments.length){for(;++e<g&&!(null!=(k=l=c[e])&&k<=k);)k=l=void 0;for(;++e<g;)null!=(b=c[e])&&(k>b&&(k=b),l<b&&(l=b))}else{for(;++e<g&&!(null!=(k=l=a.call(c,c[e],e))&&k<=k);)k=void 0;
for(;++e<g;)null!=(b=a.call(c,c[e],e))&&(k>b&&(k=b),l<b&&(l=b))}return[k,l]};w.sum=function(c,a){var e=0,g=c.length,k,b=-1;if(1===arguments.length)for(;++b<g;)isNaN(k=+c[b])||(e+=k);else for(;++b<g;)isNaN(k=+a.call(c,c[b],b))||(e+=k);return e};w.mean=function(c,a){var e=0,g=c.length,k,b=-1,l=g;if(1===arguments.length)for(;++b<g;)s(k=c[b])?e+=k:--l;else for(;++b<g;)s(k=a.call(c,c[b],b))?e+=k:--l;return l?e/l:void 0};w.quantile=function(c,a){var e=(c.length-1)*a+1,g=Math.floor(e),k=+c[g-1];return(e-=
g)?k+e*(c[g]-k):k};w.median=function(c,a){1<arguments.length&&(c=c.map(a));c=c.filter(s);return c.length?w.quantile(c.sort(W),.5):void 0};var Rf=a(W);w.bisectLeft=Rf.left;w.bisect=w.bisectRight=Rf.right;w.bisector=function(c){return a(1===c.length?function(a,e){return W(c(a),e)}:c)};w.shuffle=function(c){for(var a=c.length,e,g;a;)g=Math.random()*a--|0,e=c[a],c[a]=c[g],c[g]=e;return c};w.permute=function(c,a){for(var e=a.length,g=Array(e);e--;)g[e]=c[a[e]];return g};w.pairs=function(c){for(var a=0,
e=c.length-1,g=c[0],k=Array(0>e?0:e);a<e;)k[a]=[g,g=c[++a]];return k};w.zip=function(){if(!(k=arguments.length))return[];for(var c=-1,a=w.min(arguments,b),e=Array(a);++c<a;)for(var g=-1,k,n=e[c]=Array(k);++g<k;)n[g]=arguments[g][c];return e};w.transpose=function(c){return w.zip.apply(w,c)};w.keys=function(c){var a=[],e;for(e in c)a.push(e);return a};w.values=function(c){var a=[],e;for(e in c)a.push(c[e]);return a};w.entries=function(c){var a=[],e;for(e in c)a.push({key:e,value:c[e]});return a};w.merge=
function(c){var a=c.length,e;e=-1;for(var g=0,k,b;++e<a;)g+=c[e].length;for(k=Array(g);0<=--a;)for(b=c[a],e=b.length;0<=--e;)k[--g]=b[e];return k};var ha=Math.abs;w.range=function(c,a,e){3>arguments.length&&(e=1,2>arguments.length&&(a=c,c=0));if(Infinity===(a-c)/e)throw Error("infinite range");var g=[],k;k=ha(e);for(var b=1;k*b%1;)b*=10;k=b;var b=-1,l;c*=k;a*=k;e*=k;if(0>e)for(;(l=c+e*++b)>a;)g.push(l/k);else for(;(l=c+e*++b)<a;)g.push(l/k);return g};w.map=function(c){var a=new A;if(c instanceof A)c.forEach(function(c,
e){a.set(c,e)});else for(var e in c)a.set(e,c[e]);return a};r(A,{has:h,get:function(c){return this[hb+c]},set:function(c,a){return this[hb+c]=a},remove:function(c){c=hb+c;return c in this&&delete this[c]},keys:m,values:function(){var c=[];this.forEach(function(a,e){c.push(e)});return c},entries:function(){var c=[];this.forEach(function(a,e){c.push({key:a,value:e})});return c},size:f,empty:v,forEach:function(c){for(var a in this)a.charCodeAt(0)===Rb&&c.call(this,a.substring(1),this[a])}});var hb="\x00",
Rb=hb.charCodeAt(0);w.nest=function(){function c(a,p,k){if(k>=g.length)return l?l.call(e,p):b?p.sort(b):p;for(var f=-1,m=p.length,h=g[k++],u,x,q=new A,t;++f<m;)(t=q.get(u=h(x=p[f])))?t.push(x):q.set(u,[x]);a?(x=a(),p=function(e,p){x.set(e,c(a,p,k))}):(x={},p=function(e,p){x[e]=c(a,p,k)});q.forEach(p);return x}function a(c,e){if(e>=g.length)return c;var b=[],n=k[e++];c.forEach(function(c,g){b.push({key:c,values:a(g,e)})});return n?b.sort(function(c,a){return n(c.key,a.key)}):b}var e={},g=[],k=[],b,
l;e.map=function(a,e){return c(e,a,0)};e.entries=function(e){return a(c(w.map,e,0),0)};e.key=function(c){g.push(c);return e};e.sortKeys=function(c){k[g.length-1]=c;return e};e.sortValues=function(c){b=c;return e};e.rollup=function(c){l=c;return e};return e};w.set=function(c){var a=new q;if(c)for(var e=0,g=c.length;e<g;++e)a.add(c[e]);return a};r(q,{has:h,add:function(c){this[hb+c]=!0;return c},remove:function(c){c=hb+c;return c in this&&delete this[c]},values:m,size:f,empty:v,forEach:function(c){for(var a in this)a.charCodeAt(0)===
Rb&&c.call(this,a.substring(1))}});w.behavior={};w.rebind=function(c,a){for(var e=1,g=arguments.length,k;++e<g;)c[k=arguments[e]]=J(c,a,a[k]);return c};var Qd="webkit ms moz Moz o O".split(" ");w.dispatch=function(){for(var c=new H,a=-1,e=arguments.length;++a<e;)c[arguments[a]]=D(c);return c};H.prototype.on=function(c,a){var e=c.indexOf("."),g="";0<=e&&(g=c.substring(e+1),c=c.substring(0,e));if(c)return 2>arguments.length?this[c].on(g):this[c].on(g,a);if(2===arguments.length){if(null==a)for(c in this)if(this.hasOwnProperty(c))this[c].on(g,
null);return this}};w.event=null;w.requote=function(c){return c.replace(Uh,"\\$&")};var Uh=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sb={}.__proto__?function(c,a){c.__proto__=a}:function(c,a){for(var e in a)c[e]=a[e]},Mc=function(c,a){return a.querySelector(c)},Nc=function(c,a){return a.querySelectorAll(c)},Vh=Ua.matches||Ua[F(Ua,"matchesSelector")],Rd=function(c,a){return Vh.call(c,a)};"function"===typeof Sizzle&&(Mc=function(c,a){return Sizzle(c,a)[0]||null},Nc=Sizzle,Rd=Sizzle.matchesSelector);w.selection=
function(){return Sf};var ma=w.selection.prototype=[];ma.select=function(c){var a=[],e,g,k,b;c=P(c);for(var l=-1,y=this.length;++l<y;){a.push(e=[]);e.parentNode=(k=this[l]).parentNode;for(var f=-1,m=k.length;++f<m;)(b=k[f])?(e.push(g=c.call(b,b.__data__,f,l)),g&&"__data__"in b&&(g.__data__=b.__data__)):e.push(null)}return Q(a)};ma.selectAll=function(c){var a=[],e,g;c=I(c);for(var k=-1,b=this.length;++k<b;)for(var l=this[k],y=-1,f=l.length;++y<f;)if(g=l[y])a.push(e=ab(c.call(g,g.__data__,y,k))),e.parentNode=
g;return Q(a)};var Jd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};w.ns={prefix:Jd,qualify:function(c){var a=c.indexOf(":"),e=c;0<=a&&(e=c.substring(0,a),c=c.substring(a+1));return Jd.hasOwnProperty(e)?{space:Jd[e],local:c}:c}};ma.attr=function(c,a){if(2>arguments.length){if("string"===typeof c){var e=this.node();c=w.ns.qualify(c);return c.local?e.getAttributeNS(c.space,
c.local):e.getAttribute(c)}for(a in c)this.each(O(a,c[a]));return this}return this.each(O(c,a))};ma.classed=function(c,a){if(2>arguments.length){if("string"===typeof c){var e=this.node(),g=(c=(c+"").trim().split(/^|\s+/)).length,k=-1;if(a=e.classList)for(;++k<g;){if(!a.contains(c[k]))return!1}else for(a=e.getAttribute("class");++k<g;)if(!M(c[k]).test(a))return!1;return!0}for(a in c)this.each(t(a,c[a]));return this}return this.each(t(c,a))};ma.style=function(c,a,e){var g=arguments.length;if(3>g){if("string"!==
typeof c){2>g&&(a="");for(e in c)this.each(E(e,c[e],a));return this}if(2>g)return xa.getComputedStyle(this.node(),null).getPropertyValue(c);e=""}return this.each(E(c,a,e))};ma.property=function(c,a){if(2>arguments.length){if("string"===typeof c)return this.node()[c];for(a in c)this.each(u(a,c[a]));return this}return this.each(u(c,a))};ma.text=function(c){return arguments.length?this.each("function"===typeof c?function(){var a=c.apply(this,arguments);this.textContent=null==a?"":a}:null==c?function(){this.textContent=
""}:function(){this.textContent=c}):this.node().textContent};ma.html=function(c){return arguments.length?this.each("function"===typeof c?function(){var a=c.apply(this,arguments);this.innerHTML=null==a?"":a}:null==c?function(){this.innerHTML=""}:function(){this.innerHTML=c}):this.node().innerHTML};ma.append=function(c){c=T(c);return this.select(function(){return this.appendChild(c.apply(this,arguments))})};ma.insert=function(c,a){c=T(c);a=P(a);return this.select(function(){return this.insertBefore(c.apply(this,
arguments),a.apply(this,arguments)||null)})};ma.remove=function(){return this.each(function(){var c=this.parentNode;c&&c.removeChild(this)})};ma.data=function(c,a){function e(c,e){var g,k=c.length,b=e.length,n=Math.min(k,b),l=Array(b),h=Array(b),K=Array(k),u,x;if(a){var n=new A,q=new A,t=[],r;for(g=-1;++g<k;)r=a.call(u=c[g],u.__data__,g),n.has(r)?K[g]=u:n.set(r,u),t.push(r);for(g=-1;++g<b;)r=a.call(e,x=e[g],g),(u=n.get(r))?(l[g]=u,u.__data__=x):q.has(r)||(h[g]={__data__:x}),q.set(r,x),n.remove(r);
for(g=-1;++g<k;)n.has(t[g])&&(K[g]=c[g])}else{for(g=-1;++g<n;)u=c[g],x=e[g],u?(u.__data__=x,l[g]=u):h[g]={__data__:x};for(;g<b;++g)h[g]={__data__:e[g]};for(;g<k;++g)K[g]=c[g]}h.update=l;h.parentNode=l.parentNode=K.parentNode=c.parentNode;y.push(h);f.push(l);m.push(K)}var g=-1,k=this.length,b,l;if(!arguments.length){for(c=Array(k=(b=this[0]).length);++g<k;)if(l=b[g])c[g]=l.__data__;return c}var y=Z([]),f=Q([]),m=Q([]);if("function"===typeof c)for(;++g<k;)e(b=this[g],c.call(b,b.parentNode.__data__,
g));else for(;++g<k;)e(b=this[g],c);f.enter=function(){return y};f.exit=function(){return m};return f};ma.datum=function(c){return arguments.length?this.property("__data__",c):this.property("__data__")};ma.filter=function(c){var a=[],e,g,k;"function"!==typeof c&&(c=R(c));for(var b=0,l=this.length;b<l;b++){a.push(e=[]);e.parentNode=(g=this[b]).parentNode;for(var y=0,f=g.length;y<f;y++)(k=g[y])&&c.call(k,k.__data__,y,b)&&e.push(k)}return Q(a)};ma.order=function(){for(var c=-1,a=this.length;++c<a;)for(var e=
this[c],g=e.length-1,b=e[g],n;0<=--g;)if(n=e[g])b&&b!==n.nextSibling&&b.parentNode.insertBefore(n,b),b=n;return this};ma.sort=function(c){c=U.apply(this,arguments);for(var a=-1,e=this.length;++a<e;)this[a].sort(c);return this.order()};ma.each=function(c){return G(this,function(a,e,g){c.call(a,a.__data__,e,g)})};ma.call=function(c){var a=ab(arguments);c.apply(a[0]=this,a);return this};ma.empty=function(){return!this.node()};ma.node=function(){for(var c=0,a=this.length;c<a;c++)for(var e=this[c],g=0,
b=e.length;g<b;g++){var n=e[g];if(n)return n}return null};ma.size=function(){var c=0;this.each(function(){++c});return c};var Sa=[];w.selection.enter=Z;w.selection.enter.prototype=Sa;Sa.append=ma.append;Sa.empty=ma.empty;Sa.node=ma.node;Sa.call=ma.call;Sa.size=ma.size;Sa.select=function(c){for(var a=[],e,g,b,n,l,y=-1,f=this.length;++y<f;){b=(n=this[y]).update;a.push(e=[]);e.parentNode=n.parentNode;for(var m=-1,h=n.length;++m<h;)(l=n[m])?(e.push(b[m]=g=c.call(n.parentNode,l.__data__,m,y)),g.__data__=
l.__data__):e.push(null)}return Q(a)};Sa.insert=function(c,a){2>arguments.length&&(a=V(this));return ma.insert.call(this,c,a)};ma.transition=function(){for(var c=qb||++Tf,a=[],e,g,b=xc||{time:Date.now(),ease:Zg,delay:0,duration:250},n=-1,l=this.length;++n<l;){a.push(e=[]);for(var y=this[n],f=-1,m=y.length;++f<m;)(g=y[f])&&uc(g,f,c,b),e.push(g)}return Qb(a,c)};ma.interrupt=function(){return this.each(l)};w.select=function(c){c=["string"===typeof c?Mc(c,Oa):c];c.parentNode=Ua;return Q([c])};w.selectAll=
function(c){c=ab("string"===typeof c?Nc(c,Oa):c);c.parentNode=Ua;return Q([c])};var Sf=w.select(Ua);ma.on=function(c,a,e){var g=arguments.length;if(3>g){if("string"!==typeof c){2>g&&(a=!1);for(e in c)this.each(x(e,c[e],a));return this}if(2>g)return(g=this.node()["__on"+c])&&g._;e=!1}return this.each(x(c,a,e))};var Oc=w.map({mouseenter:"mouseover",mouseleave:"mouseout"});Oc.forEach(function(c){"on"+c in Oa&&Oc.remove(c)});var Db="onselectstart"in Oa?null:F(Ua.style,"userSelect"),jg=0;w.mouse=function(c){return X(c,
S())};var Pc=/WebKit/.test(xa.navigator.userAgent)?-1:0;w.touches=function(c,a){2>arguments.length&&(a=S().touches);return a?ab(a).map(function(a){var g=X(c,a);g.identifier=a.identifier;return g}):[]};w.behavior.drag=function(){function c(){this.on("mousedown.drag",b).on("touchstart.drag",n)}function a(c,b,p,k,n){return function(){var a=w.event.target,l=this.parentNode,f=e.of(this,arguments),m=0,h=c(),u=".drag"+(null==h?"":"-"+h),x,q=w.select(p()).on(k+u,function(){var c=b(l,h),a,e;c&&(a=c[0]-r[0],
e=c[1]-r[1],m=m|a|e,r=c,f({type:"drag",x:c[0]+x[0],y:c[1]+x[1],dx:a,dy:e}))}).on(n+u,function(){b(l,h)&&(q.on(k+u,null).on(n+u,null),t(m&&w.event.target===a),f({type:"dragend"}))}),t=ka(),r=b(l,h);g?(x=g.apply(this,arguments),x=[x.x-r[0],x.y-r[1]]):x=[0,0];f({type:"dragstart"})}}var e=z(c,"drag","dragstart","dragend"),g=null,b=a(B,w.mouse,ba,"mousemove","mouseup"),n=a(da,w.touch,ea,"touchmove","touchend");c.origin=function(a){if(!arguments.length)return g;g=a;return c};return w.rebind(c,e,"on")};
var ga=Math.PI,Fa=2*ga,ua=ga/2,fa=ga/180,qa=180/ga,yc=Math.SQRT2;w.interpolateZoom=function(c,a){function e(c){var a=c*r;if(t){c=ya(q);var e,p=yc*a+q;e=((p=Math.exp(2*p))-1)/(p+1);e*=c;var l=q,p=((l=Math.exp(l))-1/l)/2;e=n/(2*u)*(e-p);return[g+e*f,b+e*m,n*c/ya(yc*a+q)]}return[g+c*f,b+c*m,n*Math.exp(yc*a)]}var g=c[0],b=c[1],n=c[2],l=a[2],f=a[0]-g,m=a[1]-b,h=f*f+m*m,u=Math.sqrt(h),x=(l*l-n*n+4*h)/(4*n*u),h=(l*l-n*n-4*h)/(4*l*u),q=Math.log(Math.sqrt(x*x+1)-x),t=Math.log(Math.sqrt(h*h+1)-h)-q,r=(t||Math.log(l/
n))/yc;e.duration=1E3*r;return e};w.behavior.zoom=function(){function c(c){c.on("mousedown.zoom",m).on(Wh+".zoom",u).on("mousemove.zoom",x).on("dblclick.zoom",q).on("touchstart.zoom",h)}function a(c){return[(c[0]-t.x)/t.k,(c[1]-t.y)/t.k]}function e(c){t.k=Math.max(E[0],Math.min(E[1],c))}function g(c,a){a=[a[0]*t.k+t.x,a[1]*t.k+t.y];t.x+=c[0]-a[0];t.y+=c[1]-a[1]}function b(){I&&I.domain(T.range().map(function(c){return(c-t.x)/t.k}).map(T.invert));O&&O.domain(R.range().map(function(c){return(c-t.y)/
t.k}).map(R.invert))}function n(c){c({type:"zoomstart"})}function f(c){b();c({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function y(c){c({type:"zoomend"})}function m(){var c=this,e=w.event.target,b=A.of(c,arguments),k=0,h=w.select(xa).on("mousemove.zoom",function(){k=1;g(w.mouse(c),u);f(b)}).on("mouseup.zoom",function(){h.on("mousemove.zoom",xa===c?x:null).on("mouseup.zoom",null);t(k&&w.event.target===e);y(b)}),u=a(w.mouse(c)),t=ka();l.call(c);n(b)}function h(){function c(){var e=w.touches(x);G=
t.k;e.forEach(function(c){c.identifier in r&&(r[c.identifier]=a(c))});return e}function b(){var a=w.event.target;w.select(a).on(E,k).on(s,u);T.push(a);for(var a=w.event.changedTouches,p=0,n=a.length;p<n;++p)r[a[p].identifier]=null;n=c();p=Date.now();1===n.length?(500>p-v&&(a=n[0],n=r[a.identifier],e(2*t.k),g(a,n),L(),f(q)),v=p):1<n.length&&(a=n[0],n=n[1],p=a[0]-n[0],a=a[1]-n[1],z=p*p+a*a)}function k(){for(var c=w.touches(x),a,b,p,n,l=0,y=c.length;l<y;++l,n=null)if(p=c[l],n=r[p.identifier]){if(b)break;
a=p;b=n}if(n){var m=(m=p[0]-a[0])*m+(m=p[1]-a[1])*m,c=z&&Math.sqrt(m/z);a=[(a[0]+p[0])/2,(a[1]+p[1])/2];b=[(b[0]+n[0])/2,(b[1]+n[1])/2];e(c*G)}v=null;g(a,b);f(q)}function u(){if(w.event.touches.length){for(var a=w.event.changedTouches,e=0,g=a.length;e<g;++e)delete r[a[e].identifier];for(var b in r)return void c()}w.selectAll(T).on(C,null);I.on("mousedown.zoom",m).on("touchstart.zoom",h);R();y(q)}var x=this,q=A.of(x,arguments),r={},z=0,G,C=".zoom-"+w.event.changedTouches[0].identifier,E="touchmove"+
C,s="touchend"+C,T=[],I=w.select(x).on("mousedown.zoom",null).on("touchstart.zoom",b),R=ka();l.call(x);b();n(q)}function u(){var c=A.of(this,arguments);s?clearTimeout(s):(l.call(this),n(c));s=setTimeout(function(){s=null;y(c)},50);L();var b=C||w.mouse(this);r||(r=a(b));e(Math.pow(2,.002*zc())*t.k);g(b,r);f(c)}function x(){r=null}function q(){var c=A.of(this,arguments),b=w.mouse(this),k=a(b),l=Math.log(t.k)/Math.LN2;n(c);e(Math.pow(2,w.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1));g(b,k);f(c);y(c)}
var t={x:0,y:0,k:1},r,C,G=[960,500],E=Uf,s,v,A=z(c,"zoomstart","zoom","zoomend"),T,I,R,O;c.event=function(c){c.each(function(){var c=A.of(this,arguments),a=t;qb?w.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1};n(c)}).tween("zoom:zoom",function(){var e=G[0],g=e/2,b=G[1]/2,p=w.interpolateZoom([(g-t.x)/t.k,(b-t.y)/t.k,e/t.k],[(g-a.x)/a.k,(b-a.y)/a.k,e/a.k]);return function(a){a=p(a);var k=e/a[2];this.__chart__=t={x:g-a[0]*k,y:b-a[1]*k,k:k};f(c)}}).each("end.zoom",
function(){y(c)}):(this.__chart__=t,n(c),f(c),y(c))})};c.translate=function(a){if(!arguments.length)return[t.x,t.y];t={x:+a[0],y:+a[1],k:t.k};b();return c};c.scale=function(a){if(!arguments.length)return t.k;t={x:t.x,y:t.y,k:+a};b();return c};c.scaleExtent=function(a){if(!arguments.length)return E;E=null==a?Uf:[+a[0],+a[1]];return c};c.center=function(a){if(!arguments.length)return C;C=a&&[+a[0],+a[1]];return c};c.size=function(a){if(!arguments.length)return G;G=a&&[+a[0],+a[1]];return c};c.x=function(a){if(!arguments.length)return I;
I=a;T=a.copy();t={x:0,y:0,k:1};return c};c.y=function(a){if(!arguments.length)return O;O=a;R=a.copy();t={x:0,y:0,k:1};return c};return w.rebind(c,A,"on")};var Uf=[0,Infinity],zc,Wh="onwheel"in Oa?(zc=function(){return-w.event.deltaY*(w.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Oa?(zc=function(){return w.event.wheelDelta},"mousewheel"):(zc=function(){return-w.event.detail},"MozMousePixelScroll");w.color=Ca;Ca.prototype.toString=function(){return this.rgb()+""};w.hsl=Da;var Kd=Da.prototype=
new Ca;Kd.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);return new Da(this.h,this.s,this.l/c)};Kd.darker=function(c){c=Math.pow(.7,arguments.length?c:1);return new Da(this.h,this.s,c*this.l)};Kd.rgb=function(){return Qc(this.h,this.s,this.l)};w.hcl=Ka;var Ld=Ka.prototype=new Ca;Ld.brighter=function(c){return new Ka(this.h,this.c,Math.min(100,this.l+Ac*(arguments.length?c:1)))};Ld.darker=function(c){return new Ka(this.h,this.c,Math.max(0,this.l-Ac*(arguments.length?c:1)))};Ld.rgb=function(){return Rc(this.h,
this.c,this.l).rgb()};w.lab=La;var Ac=18,Yd=.95047,Zd=1,$d=1.08883,Md=La.prototype=new Ca;Md.brighter=function(c){return new La(Math.min(100,this.l+Ac*(arguments.length?c:1)),this.a,this.b)};Md.darker=function(c){return new La(Math.max(0,this.l-Ac*(arguments.length?c:1)),this.a,this.b)};Md.rgb=function(){return Xd(this.l,this.a,this.b)};w.rgb=za;var Bc=za.prototype=new Ca;Bc.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);var a=this.r,e=this.g,g=this.b;if(!a&&!e&&!g)return new za(30,30,30);
a&&30>a&&(a=30);e&&30>e&&(e=30);g&&30>g&&(g=30);return new za(Math.min(255,a/c),Math.min(255,e/c),Math.min(255,g/c))};Bc.darker=function(c){c=Math.pow(.7,arguments.length?c:1);return new za(c*this.r,c*this.g,c*this.b)};Bc.hsl=function(){return Ud(this.r,this.g,this.b)};Bc.toString=function(){return"#"+rb(this.r)+rb(this.g)+rb(this.b)};var Ub=w.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,
blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,
darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,
lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,
mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ub.forEach(function(c,a){Ub.set(c,
new za(a>>16,a>>8&255,a&255))});w.functor=pa;w.xhr=Xc(ta);w.dsv=function(c,a){function e(c,e,n){3>arguments.length&&(n=e,e=null);var l=Vb(c,a,null==e?g:b(e),n);l.row=function(c){return arguments.length?l.response(null==(e=c)?g:b(c)):e};return l}function g(c){return e.parse(c.responseText)}function b(c){return function(a){return e.parse(a.responseText,c)}}function n(a){return a.map(l).join(c)}function l(c){return f.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}var f=new RegExp('["'+c+"\n]"),m=c.charCodeAt(0);
e.parse=function(c,a){var g;return e.parseRows(c,function(c,e){if(g)return g(c,e-1);var b=new Function("d","return {"+c.map(function(c,a){return JSON.stringify(c)+": d["+a+"]"}).join(",")+"}");g=a?function(c,e){return a(b(c),e)}:b})};e.parseRows=function(c,a){function e(){if(n>=k)return b;if(y)return y=!1,g;var a=n;if(34===c.charCodeAt(a)){for(var p=a;p++<k;)if(34===c.charCodeAt(p)){if(34!==c.charCodeAt(p+1))break;++p}n=p+2;var l=c.charCodeAt(p+1);13===l?(y=!0,10===c.charCodeAt(p+2)&&++n):10===l&&
(y=!0);return c.substring(a+1,p).replace(/""/g,'"')}for(;n<k;){l=c.charCodeAt(n++);p=1;if(10===l)y=!0;else if(13===l)y=!0,10===c.charCodeAt(n)&&(++n,++p);else if(l!==m)continue;return c.substring(a,n-p)}return c.substring(a)}for(var g={},b={},p=[],k=c.length,n=0,l=0,f,y;(f=e())!==b;){for(var h=[];f!==g&&f!==b;)h.push(f),f=e();a&&!(h=a(h,l++))||p.push(h)}return p};e.format=function(a){if(Array.isArray(a[0]))return e.formatRows(a);var g=new q,b=[];a.forEach(function(c){for(var a in c)g.has(a)||b.push(g.add(a))});
return[b.map(l).join(c)].concat(a.map(function(a){return b.map(function(c){return l(a[c])}).join(c)})).join("\n")};e.formatRows=function(c){return c.map(n).join("\n")};return e};w.csv=w.dsv(",","text/csv");w.tsv=w.dsv("\t","text/tab-separated-values");w.touch=function(c,a,e){3>arguments.length&&(e=a,a=S().changedTouches);if(a)for(var g=0,b=a.length,n;g<b;++g)if((n=a[g]).identifier===e)return X(c,n)};var Yb,Zb,Xb,Wb,Va,ce=xa[F(xa,"requestAnimationFrame")]||function(c){setTimeout(c,17)};w.timer=function(c,
a,e){var g=arguments.length;2>g&&(a=0);3>g&&(e=Date.now());g={c:c,t:e+a,f:!1,n:null};Zb?Zb.n=g:Yb=g;Zb=g;Xb||(Wb=clearTimeout(Wb),Xb=1,ce(Yc))};w.timer.flush=function(){ae();be()};w.round=function(c,a){return a?Math.round(c*(a=Math.pow(10,a)))/a:Math.round(c)};var Xh="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(c,a){var e=Math.pow(10,3*ha(8-a));return{scale:8<a?function(c){return c/e}:function(c){return c*e},symbol:c}});w.formatPrefix=function(c,a){var e=0;c&&(0>c&&(c*=-1),a&&(c=
w.round(c,Zc(c,a))),e=1+Math.floor(1E-12+Math.log(c)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3))));return Xh[8+e/3]};var de=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,mg=w.map({b:function(c){return c.toString(2)},c:function(c){return String.fromCharCode(c)},o:function(c){return c.toString(8)},x:function(c){return c.toString(16)},X:function(c){return c.toString(16).toUpperCase()},g:function(c,a){return c.toPrecision(a)},e:function(c,a){return c.toExponential(a)},
f:function(c,a){return c.toFixed(a)},r:function(c,a){return(c=w.round(c,Zc(c,a))).toFixed(Math.max(0,Math.min(20,Zc(c*(1+1E-15),a))))}}),aa=w.time={},wa=Date;Wa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},
getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){$a.setUTCDate.apply(this._,arguments)},setDay:function(){$a.setUTCDay.apply(this._,arguments)},setFullYear:function(){$a.setUTCFullYear.apply(this._,arguments)},setHours:function(){$a.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){$a.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){$a.setUTCMinutes.apply(this._,
arguments)},setMonth:function(){$a.setUTCMonth.apply(this._,arguments)},setSeconds:function(){$a.setUTCSeconds.apply(this._,arguments)},setTime:function(){$a.setTime.apply(this._,arguments)}};var $a=Date.prototype;aa.year=ib(function(c){c=aa.day(c);c.setMonth(0,1);return c},function(c,a){c.setFullYear(c.getFullYear()+a)},function(c){return c.getFullYear()});aa.years=aa.year.range;aa.years.utc=aa.year.utc.range;aa.day=ib(function(c){var a=new wa(2E3,0);a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate());
return a},function(c,a){c.setDate(c.getDate()+a)},function(c){return c.getDate()-1});aa.days=aa.day.range;aa.days.utc=aa.day.utc.range;aa.dayOfYear=function(c){var a=aa.year(c);return Math.floor((c-a-6E4*(c.getTimezoneOffset()-a.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(c,a){a=7-a;var e=aa[c]=ib(function(c){(c=aa.day(c)).setDate(c.getDate()-(c.getDay()+a)%7);return c},function(c,a){c.setDate(c.getDate()+7*Math.floor(a))},function(c){var e=
aa.year(c).getDay();return Math.floor((aa.dayOfYear(c)+(e+a)%7)/7)-(e!==a)});aa[c+"s"]=e.range;aa[c+"s"].utc=e.utc.range;aa[c+"OfYear"]=function(c){var e=aa.year(c).getDay();return Math.floor((aa.dayOfYear(c)+(e+a)%7)/7)}});aa.week=aa.sunday;aa.weeks=aa.sunday.range;aa.weeks.utc=aa.sunday.utc.range;aa.weekOfYear=aa.sundayOfYear;var ee={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,he=/^%/;w.locale=function(c){return{numberFormat:lg(c),timeFormat:og(c)}};var Vf=w.locale({decimal:".",thousands:",",grouping:[3],
currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});w.format=Vf.numberFormat;w.geo={};$c.prototype={s:0,t:0,add:function(c){ie(c,this.t,Cc);ie(Cc.s,this.s,
this);this.s?this.t+=Cc.t:this.s=Cc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Cc=new $c;w.geo.stream=function(c,a){if(c&&Wf.hasOwnProperty(c.type))Wf[c.type](c,a);else cc(c,a)};var Wf={Feature:function(c,a){cc(c.geometry,a)},FeatureCollection:function(c,a){for(var e=c.features,g=-1,b=e.length;++g<b;)cc(e[g].geometry,a)}},je={Sphere:function(c,a){a.sphere()},Point:function(c,a){c=c.coordinates;a.point(c[0],c[1],c[2])},MultiPoint:function(c,a){for(var e=c.coordinates,
g=-1,b=e.length;++g<b;)c=e[g],a.point(c[0],c[1],c[2])},LineString:function(c,a){ad(c.coordinates,a,0)},MultiLineString:function(c,a){for(var e=c.coordinates,g=-1,b=e.length;++g<b;)ad(e[g],a,0)},Polygon:function(c,a){ke(c.coordinates,a)},MultiPolygon:function(c,a){for(var e=c.coordinates,g=-1,b=e.length;++g<b;)ke(e[g],a)},GeometryCollection:function(c,a){for(var e=c.geometries,g=-1,b=e.length;++g<b;)cc(e[g],a)}};w.geo.area=function(c){Bb=0;w.geo.stream(c,Ea);return Bb};var Bb,jb=new $c,Ea={sphere:function(){Bb+=
4*ga},point:B,lineStart:B,lineEnd:B,polygonStart:function(){jb.reset();Ea.lineStart=Dg},polygonEnd:function(){var c=2*jb;Bb+=0>c?4*ga+c:c;Ea.lineStart=Ea.lineEnd=Ea.point=B}};w.geo.bounds=function(){function c(c,a){s.push(v=[u=c,t=c]);a<x&&(x=a);a>q&&(q=a)}function a(e,g){var b=kb([e*fa,g*fa]);if(G){var k=sb(G,b),k=sb([k[1],-k[0],0],k);fc(k);var k=gc(k),p=e-r,n=0<p?1:-1,l=k[0]*qa*n,p=180<ha(p);p^(n*r<l&&l<n*e)?(k=k[1]*qa,k>q&&(q=k)):(l=(l+360)%360-180,p^(n*r<l&&l<n*e))?(k=-k[1]*qa,k<x&&(x=k)):(g<
x&&(x=g),g>q&&(q=g));p?e<r?f(u,e)>f(u,t)&&(t=e):f(e,t)>f(u,t)&&(u=e):t>=u?(e<u&&(u=e),e>t&&(t=e)):e>r?f(u,e)>f(u,t)&&(t=e):f(e,t)>f(u,t)&&(u=e)}else c(e,g);G=b;r=e}function e(){A.point=a}function g(){v[0]=u;v[1]=t;A.point=c;G=null}function b(c,e){if(G){var g=c-r;E+=180<ha(g)?g+(0<g?360:-360):g}else z=c,C=e;Ea.point(c,e);a(c,e)}function n(){Ea.lineStart()}function l(){b(z,C);Ea.lineEnd();1E-6<ha(E)&&(u=-(t=180));v[0]=u;v[1]=t;G=null}function f(c,a){return 0>(a-=c)?a+360:a}function m(c,a){return c[0]-
a[0]}function h(c,a){return a[0]<=a[1]?a[0]<=c&&c<=a[1]:c<a[0]||a[1]<c}var u,x,t,q,r,z,C,G,E,s,v,A={point:c,lineStart:e,lineEnd:g,polygonStart:function(){A.point=b;A.lineStart=n;A.lineEnd=l;E=0;Ea.polygonStart()},polygonEnd:function(){Ea.polygonEnd();A.point=c;A.lineStart=e;A.lineEnd=g;0>jb?(u=-(t=180),x=-(q=90)):1E-6<E?q=90:-1E-6>E&&(x=-90);v[0]=u;v[1]=t}};return function(c){q=t=-(u=x=Infinity);s=[];w.geo.stream(c,A);if(c=s.length){s.sort(m);for(var a=1,e=s[0],g,b=[e];a<c;++a)g=s[a],h(g[0],e)||h(g[1],
e)?(f(e[0],g[1])>f(e[0],e[1])&&(e[1]=g[1]),f(g[0],e[1])>f(e[0],e[1])&&(e[0]=g[0])):b.push(e=g);var k=-Infinity,p;c=b.length-1;a=0;for(e=b[c];a<=c;e=g,++a)g=b[a],(p=f(e[1],g[0]))>k&&(k=p,u=g[0],t=e[1])}s=v=null;return Infinity===u||Infinity===x?[[NaN,NaN],[NaN,NaN]]:[[u,x],[t,q]]}}();w.geo.centroid=function(c){Fb=tb=Xa=Ya=Pa=Ha=Ia=Ba=bb=cb=Qa=0;w.geo.stream(c,Ma);c=bb;var a=cb,e=Qa,g=c*c+a*a+e*e;return 1E-12>g&&(c=Ha,a=Ia,e=Ba,1E-6>tb&&(c=Xa,a=Ya,e=Pa),g=c*c+a*a+e*e,1E-12>g)?[NaN,NaN]:[Math.atan2(a,
c)*qa,ca(e/Math.sqrt(g))*qa]};var Fb,tb,Xa,Ya,Pa,Ha,Ia,Ba,bb,cb,Qa,Ma={sphere:B,point:cd,lineStart:le,lineEnd:me,polygonStart:function(){Ma.lineStart=Eg},polygonEnd:function(){Ma.lineStart=le}},Ce=pe(ub,function(c){var a=NaN,e=NaN,g=NaN,b;return{lineStart:function(){c.lineStart();b=1},point:function(n,l){var f=0<n?ga:-ga,m=ha(n-a);if(1E-6>ha(m-ga))c.point(a,e=0<(e+l)/2?ua:-ua),c.point(g,e),c.lineEnd(),c.lineStart(),c.point(f,e),c.point(n,e),b=0;else if(g!==f&&m>=ga){1E-6>ha(a-g)&&(a-=1E-6*g);1E-6>
ha(n-f)&&(n-=1E-6*f);var m=a,h=e,u=n,t,x,q=Math.sin(m-u);e=1E-6<ha(q)?Math.atan((Math.sin(h)*(x=Math.cos(l))*Math.sin(u)-Math.sin(l)*(t=Math.cos(h))*Math.sin(m))/(t*x*q)):(h+l)/2;c.point(g,e);c.lineEnd();c.lineStart();c.point(f,e);b=0}c.point(a=n,e=l);g=f},lineEnd:function(){c.lineEnd();a=e=NaN},clean:function(){return 2-b}}},function(c,a,e,g){null==c?(e*=ua,g.point(-ga,e),g.point(0,e),g.point(ga,e),g.point(ga,0),g.point(ga,-e),g.point(0,-e),g.point(-ga,-e),g.point(-ga,0),g.point(-ga,e)):1E-6<ha(c[0]-
a[0])?(c=c[0]<a[0]?ga:-ga,e=e*c/2,g.point(-c,e),g.point(0,e),g.point(c,e)):g.point(a[0],a[1])},[-ga,-ga/2]);w.geo.clipExtent=function(){var c,a,e,g,b,n,l={stream:function(c){b&&(b.valid=!1);b=n(c);b.valid=!0;return b},extent:function(f){if(!arguments.length)return[[c,a],[e,g]];n=se(c=+f[0][0],a=+f[0][1],e=+f[1][0],g=+f[1][1]);b&&(b.valid=!1,b=null);return l}};return l.extent([[0,0],[960,500]])};(w.geo.conicEqualArea=function(){return ed(ue)}).raw=ue;w.geo.albers=function(){return w.geo.conicEqualArea().rotate([96,
0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};w.geo.albersUsa=function(){function c(c){var a=c[0];c=c[1];b=null;(l(a,c),b)||(f(a,c),b)||m(a,c);return b}var a=w.geo.albers(),e=w.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=w.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),b,n={point:function(c,a){b=[c,a]}},l,f,m;c.invert=function(c){var b=a.scale(),k=a.translate(),n=(c[0]-k[0])/b,b=(c[1]-k[1])/b;return(.12<=b&&.234>b&&-.425<=n&&-.214>
n?e:.166<=b&&.234>b&&-.214<=n&&-.115>n?g:a).invert(c)};c.stream=function(c){var b=a.stream(c),k=e.stream(c),n=g.stream(c);return{point:function(c,a){b.point(c,a);k.point(c,a);n.point(c,a)},sphere:function(){b.sphere();k.sphere();n.sphere()},lineStart:function(){b.lineStart();k.lineStart();n.lineStart()},lineEnd:function(){b.lineEnd();k.lineEnd();n.lineEnd()},polygonStart:function(){b.polygonStart();k.polygonStart();n.polygonStart()},polygonEnd:function(){b.polygonEnd();k.polygonEnd();n.polygonEnd()}}};
c.precision=function(b){if(!arguments.length)return a.precision();a.precision(b);e.precision(b);g.precision(b);return c};c.scale=function(b){if(!arguments.length)return a.scale();a.scale(b);e.scale(.35*b);g.scale(b);return c.translate(a.translate())};c.translate=function(b){if(!arguments.length)return a.translate();var k=a.scale(),h=+b[0],u=+b[1];l=a.translate(b).clipExtent([[h-.455*k,u-.238*k],[h+.455*k,u+.238*k]]).stream(n).point;f=e.translate([h-.307*k,u+.201*k]).clipExtent([[h-.425*k+1E-6,u+.12*
k+1E-6],[h-.214*k-1E-6,u+.234*k-1E-6]]).stream(n).point;m=g.translate([h-.205*k,u+.212*k]).clipExtent([[h-.214*k+1E-6,u+.166*k+1E-6],[h-.115*k-1E-6,u+.234*k-1E-6]]).stream(n).point;return c};return c.scale(1070)};var Dc,jc,db={point:B,lineStart:B,lineEnd:B,polygonStart:function(){jc=0;db.lineStart=Ig},polygonEnd:function(){db.lineStart=db.lineEnd=db.point=B;Dc+=ha(jc/2)}},Ec,Fc,Gc,Hc,Yh={point:function(c,a){c<Ec&&(Ec=c);c>Gc&&(Gc=c);a<Fc&&(Fc=a);a>Hc&&(Hc=a)},lineStart:B,lineEnd:B,polygonStart:B,
polygonEnd:B},Na={point:lb,lineStart:we,lineEnd:xe,polygonStart:function(){Na.lineStart=Kg},polygonEnd:function(){Na.point=lb;Na.lineStart=we;Na.lineEnd=xe}};w.geo.path=function(){function c(c){c&&("function"===typeof e&&l.pointRadius(+e.apply(this,arguments)),f&&f.valid||(f=n(l)),w.geo.stream(c,f));return l.result()}function a(){f=null;return c}var e=4.5,b,k,n,l,f;c.area=function(c){Dc=0;w.geo.stream(c,n(db));return Dc};c.centroid=function(c){Xa=Ya=Pa=Ha=Ia=Ba=bb=cb=Qa=0;w.geo.stream(c,n(Na));return Qa?
[bb/Qa,cb/Qa]:Ba?[Ha/Ba,Ia/Ba]:Pa?[Xa/Pa,Ya/Pa]:[NaN,NaN]};c.bounds=function(c){Gc=Hc=-(Ec=Fc=Infinity);w.geo.stream(c,n(Yh));return[[Ec,Fc],[Gc,Hc]]};c.projection=function(c){if(!arguments.length)return b;n=(b=c)?c.stream||Mg(c):ta;return a()};c.context=function(c){if(!arguments.length)return k;l=null==(k=c)?new Jg:new Lg(c);"function"!==typeof e&&l.pointRadius(e);return a()};c.pointRadius=function(a){if(!arguments.length)return e;e="function"===typeof a?a:(l.pointRadius(+a),+a);return c};return c.projection(w.geo.albersUsa()).context(null)};
w.geo.transform=function(c){return{stream:function(a){a=new Be(a);for(var e in c)a[e]=c[e];return a}}};Be.prototype={point:function(c,a){this.stream.point(c,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};w.geo.projection=eb;w.geo.projectionMutator=fd;(w.geo.equirectangular=function(){return eb(Gb)}).raw=Gb.invert=
Gb;w.geo.rotation=function(c){function a(e){e=c(e[0]*fa,e[1]*fa);return e[0]*=qa,e[1]*=qa,e}c=gd(c[0]%360*fa,c[1]*fa,2<c.length?c[2]*fa:0);a.invert=function(a){a=c.invert(a[0]*fa,a[1]*fa);return a[0]*=qa,a[1]*=qa,a};return a};De.invert=Gb;w.geo.circle=function(){function c(){var c="function"===typeof a?a.apply(this,arguments):a,e=gd(-c[0]*fa,-c[1]*fa,0).invert,b=[];k(null,null,1,{point:function(c,a){b.push(c=e(c,a));c[0]*=qa;c[1]*=qa}});return{type:"Polygon",coordinates:[b]}}var a=[0,0],e,b=6,k;c.origin=
function(e){if(!arguments.length)return a;a=e;return c};c.angle=function(a){if(!arguments.length)return e;k=dd((e=+a)*fa,b*fa);return c};c.precision=function(a){if(!arguments.length)return b;k=dd(e*fa,(b=+a)*fa);return c};return c.angle(90)};w.geo.distance=function(c,a){var e=(a[0]-c[0])*fa,b=c[1]*fa,k=a[1]*fa,n=Math.sin(e),e=Math.cos(e),l=Math.sin(b),b=Math.cos(b),f=Math.sin(k),k=Math.cos(k),m;return Math.atan2(Math.sqrt((m=k*n)*m+(m=b*f-l*k*e)*m),l*f+b*k*e)};w.geo.graticule=function(){function c(){return{type:"MultiLineString",
coordinates:a()}}function a(){return w.range(Math.ceil(n/x)*x,k,x).map(G).concat(w.range(Math.ceil(h/q)*q,m,q).map(C)).concat(w.range(Math.ceil(b/u)*u,e,u).filter(function(c){return 1E-6<ha(c%x)}).map(r)).concat(w.range(Math.ceil(f/t)*t,l,t).filter(function(c){return 1E-6<ha(c%q)}).map(z))}var e,b,k,n,l,f,m,h,u=10,t=u,x=90,q=360,r,z,G,C,E=2.5;c.lines=function(){return a().map(function(c){return{type:"LineString",coordinates:c}})};c.outline=function(){return{type:"Polygon",coordinates:[G(n).concat(C(m).slice(1),
G(k).reverse().slice(1),C(h).reverse().slice(1))]}};c.extent=function(a){return arguments.length?c.majorExtent(a).minorExtent(a):c.minorExtent()};c.majorExtent=function(a){if(!arguments.length)return[[n,h],[k,m]];n=+a[0][0];k=+a[1][0];h=+a[0][1];m=+a[1][1];n>k&&(a=n,n=k,k=a);h>m&&(a=h,h=m,m=a);return c.precision(E)};c.minorExtent=function(a){if(!arguments.length)return[[b,f],[e,l]];b=+a[0][0];e=+a[1][0];f=+a[0][1];l=+a[1][1];b>e&&(a=b,b=e,e=a);f>l&&(a=f,f=l,l=a);return c.precision(E)};c.step=function(a){return arguments.length?
c.majorStep(a).minorStep(a):c.minorStep()};c.majorStep=function(a){if(!arguments.length)return[x,q];x=+a[0];q=+a[1];return c};c.minorStep=function(a){if(!arguments.length)return[u,t];u=+a[0];t=+a[1];return c};c.precision=function(a){if(!arguments.length)return E;E=+a;r=Ie(f,l,90);z=Je(b,e,E);G=Ie(h,m,90);C=Je(n,k,E);return c};return c.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,-80.000001],[180,80.000001]])};w.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[e||
b.apply(this,arguments),k||g.apply(this,arguments)]}}var b=hd,e,g=id,k;a.distance=function(){return w.geo.distance(e||b.apply(this,arguments),k||g.apply(this,arguments))};a.source=function(g){if(!arguments.length)return b;b=g;e="function"===typeof g?null:g;return a};a.target=function(e){if(!arguments.length)return g;g=e;k="function"===typeof e?null:e;return a};a.precision=function(){return arguments.length?a:0};return a};w.geo.interpolate=function(a,b){return Ng(a[0]*fa,a[1]*fa,b[0]*fa,b[1]*fa)};
w.geo.length=function(a){Ic=0;w.geo.stream(a,Cb);return Ic};var Ic,Cb={sphere:B,point:B,lineStart:function(){function a(c,n){var l=Math.sin(n*=fa),f=Math.cos(n),m=ha((c*=fa)-b),h=Math.cos(m);Ic+=Math.atan2(Math.sqrt((m=f*Math.sin(m))*m+(m=g*l-e*f*h)*m),e*l+g*f*h);b=c;e=l;g=f}var b,e,g;Cb.point=function(k,n){b=k*fa;e=Math.sin(n*=fa);g=Math.cos(n);Cb.point=a};Cb.lineEnd=function(){Cb.point=Cb.lineEnd=B}},lineEnd:B,polygonStart:B,polygonEnd:B},Xf=Hb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*
Math.asin(a/2)});(w.geo.azimuthalEqualArea=function(){return eb(Xf)}).raw=Xf;var Yf=Hb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},ta);(w.geo.azimuthalEquidistant=function(){return eb(Yf)}).raw=Yf;(w.geo.conicConformal=function(){return ed(Ke)}).raw=Ke;(w.geo.conicEquidistant=function(){return ed(Le)}).raw=Le;var Zf=Hb(function(a){return 1/a},Math.atan);(w.geo.gnomonic=function(){return eb(Zf)}).raw=Zf;kc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-ua]};(w.geo.mercator=function(){return Me(kc)}).raw=
kc;var $f=Hb(function(){return 1},Math.asin);(w.geo.orthographic=function(){return eb($f)}).raw=$f;var ag=Hb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(w.geo.stereographic=function(){return eb(ag)}).raw=ag;jd.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-ua]};(w.geo.transverseMercator=function(){var a=Me(jd),b=a.center,e=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[-a[1],a[0]])};a.rotate=function(a){return a?e([a[0],a[1],2<a.length?a[2]+90:90]):(a=
e(),[a[0],a[1],a[2]-90])};return a.rotate([0,0])}).raw=jd;w.geom={};w.geom.hull=function(a){function b(a){if(3>a.length)return[];var c=pa(e),p=pa(g),l,f=a.length,m=[],h=[];for(l=0;l<f;l++)m.push([+c.call(this,a[l],l),+p.call(this,a[l],l),l]);m.sort(Og);for(l=0;l<f;l++)h.push([m[l][0],-m[l][1]]);var c=Ne(m),h=Ne(h),p=h[0]===c[0],f=h[h.length-1]===c[c.length-1],u=[];for(l=c.length-1;0<=l;--l)u.push(a[m[c[l]][2]]);for(l=+p;l<h.length-f;++l)u.push(a[m[h[l]][2]]);return u}var e=vb,g=Ib;if(arguments.length)return b(a);
b.x=function(a){return arguments.length?(e=a,b):e};b.y=function(a){return arguments.length?(g=a,b):g};return b};w.geom.polygon=function(a){Sb(a,Jc);return a};var Jc=w.geom.polygon.prototype=[];Jc.area=function(){for(var a=-1,b=this.length,e,g=this[b-1],k=0;++a<b;)e=g,g=this[a],k+=e[1]*g[0]-e[0]*g[1];return.5*k};Jc.centroid=function(a){var b=-1,e=this.length,g=0,k=0,n,l=this[e-1],f;for(arguments.length||(a=-1/(6*this.area()));++b<e;)n=l,l=this[b],f=n[0]*l[1]-l[0]*n[1],g+=(n[0]+l[0])*f,k+=(n[1]+l[1])*
f;return[g*a,k*a]};Jc.clip=function(a){for(var b,e=Pe(a),g=-1,k=this.length-Pe(this),n,l,f=this[k-1],m,h,u;++g<k;){b=a.slice();a.length=0;m=this[g];h=b[(l=b.length-e)-1];for(n=-1;++n<l;)u=b[n],kd(u,f,m)?(kd(h,f,m)||a.push(Oe(h,u,f,m)),a.push(u)):kd(h,f,m)&&a.push(Oe(h,u,f,m)),h=u;e&&a.push(a[0]);f=m}return a};var zb,mb,xb,Re=[],md,Jb,Ve=[];Te.prototype.prepare=function(){for(var a=this.edges,b=a.length,e;b--;)e=a[b].edge,e.b&&e.a||a.splice(b,1);a.sort(Ue);return a.length};nc.prototype={start:function(){return this.edge.l===
this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};nd.prototype={insert:function(a,b){var e,g,k;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;e=a}else this._?(a=Xe(this._),b.P=null,b.N=a,a.P=a.L=b,e=a):(b.P=b.N=null,this._=b,e=null);b.L=b.R=null;b.U=e;b.C=!0;for(a=b;e&&e.C;)g=e.U,e===g.L?(k=g.R)&&k.C?(e.C=k.C=!1,g.C=!0,a=g):(a===e.R&&(Lb(this,e),a=e,e=a.U),e.C=!1,g.C=!0,Mb(this,g)):(k=g.L)&&k.C?(e.C=k.C=!1,
g.C=!0,a=g):(a===e.L&&(Mb(this,e),a=e,e=a.U),e.C=!1,g.C=!0,Lb(this,g)),e=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,e=a.L,g=a.R,k,n;k=e?g?Xe(g):e:g;b?b.L===a?b.L=k:b.R=k:this._=k;e&&g?(n=k.C,k.C=a.C,k.L=e,e.U=k,k!==g?(b=k.U,k.U=a.U,a=k.R,b.L=a,k.R=g,g.U=k):(k.U=b,b=k,a=k.R)):(n=a.C,a=k);a&&(a.U=b);if(!n)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Lb(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=
!1,a.C=!0,Mb(this,a),a=b.R);a.C=b.C;b.C=a.R.C=!1;Lb(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,Mb(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,Lb(this,a),a=b.L);a.C=b.C;b.C=a.L.C=!1;Mb(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};w.geom.voronoi=function(a){function b(a){var c=Array(a.length),g=f[0][0],k=f[0][1],n=f[1][0],l=f[1][1];od(e(a),f).cells.forEach(function(e,b){var p=e.edges,f=e.site;(c[b]=p.length?p.map(function(a){a=a.start();return[a.x,
a.y]}):f.x>=g&&f.x<=n&&f.y>=k&&f.y<=l?[[g,l],[n,l],[n,k],[g,k]]:[]).point=a[b]});return c}function e(a){return a.map(function(a,c){return{x:1E-6*Math.round(n(a,c)/1E-6),y:1E-6*Math.round(l(a,c)/1E-6),i:c}})}var g=vb,k=Ib,n=g,l=k,f=Kc;if(a)return b(a);b.links=function(a){return od(e(a)).edges.filter(function(a){return a.l&&a.r}).map(function(c){return{source:a[c.l.i],target:a[c.r.i]}})};b.triangles=function(a){var c=[];od(e(a)).cells.forEach(function(e,b){for(var g=e.site,k=e.edges.sort(Ue),n=-1,l=
k.length,p,f=k[l-1].edge,f=f.l===g?f.r:f.l;++n<l;)p=f,f=k[n].edge,f=f.l===g?f.r:f.l,b<p.i&&b<f.i&&0>(g.x-f.x)*(p.y-g.y)-(g.x-p.x)*(f.y-g.y)&&c.push([a[b],a[p.i],a[f.i]])});return c};b.x=function(a){return arguments.length?(n=pa(g=a),b):g};b.y=function(a){return arguments.length?(l=pa(k=a),b):k};b.clipExtent=function(a){if(!arguments.length)return f===Kc?null:f;f=null==a?Kc:a;return b};b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):f===Kc?null:f&&f[1]};return b};var Kc=[[-1E6,
-1E6],[1E6,1E6]];w.geom.delaunay=function(a){return w.geom.voronoi().triangles(a)};w.geom.quadtree=function(a,b,e,g,k){function n(a){function c(a,e,b,g,k,l,p,f){if(!isNaN(b)&&!isNaN(g))if(a.leaf){var h=a.x,m=a.y;if(null!=h){if(!(.01>ha(h-b)+ha(m-g))){var u=a.point;a.x=a.y=a.point=null;n(a,u,h,m,k,l,p,f)}n(a,e,b,g,k,l,p,f)}else a.x=b,a.y=g,a.point=e}else n(a,e,b,g,k,l,p,f)}function n(a,e,b,g,k,l,p,f){var h=.5*(k+p),m=.5*(l+f),u=b>=h,y=g>=m,x=(y<<1)+u;a.leaf=!1;a=a.nodes[x]||(a.nodes[x]=Ye());u?k=h:
p=h;y?l=m:f=m;c(a,e,b,g,k,l,p,f)}var h,u=pa(l),t=pa(f),x,q,r,z,G,C,E,s;if(null!=b)G=b,C=e,E=g,s=k;else if(E=s=-(G=C=Infinity),x=[],q=[],z=a.length,m)for(r=0;r<z;++r)h=a[r],h.x<G&&(G=h.x),h.y<C&&(C=h.y),h.x>E&&(E=h.x),h.y>s&&(s=h.y),x.push(h.x),q.push(h.y);else for(r=0;r<z;++r){var w=+u(h=a[r],r);h=+t(h,r);w<G&&(G=w);h<C&&(C=h);w>E&&(E=w);h>s&&(s=h);x.push(w);q.push(h)}w=E-G;h=s-C;w>h?s=C+w:E=G+h;var v=Ye();v.add=function(a){c(v,a,+u(a,++r),+t(a,r),G,C,E,s)};v.visit=function(a){Nb(a,v,G,C,E,s)};r=
-1;if(null==b){for(;++r<z;)c(v,a[r],x[r],q[r],G,C,E,s);--r}else a.forEach(v.add);x=q=a=h=null;return v}var l=vb,f=Ib,m;if(m=arguments.length)return l=Ug,f=Vg,3===m&&(k=e,g=b,e=b=0),n(a);n.x=function(a){return arguments.length?(l=a,n):l};n.y=function(a){return arguments.length?(f=a,n):f};n.extent=function(a){if(!arguments.length)return null==b?null:[[b,e],[g,k]];null==a?b=e=g=k=null:(b=+a[0][0],e=+a[0][1],g=+a[1][0],k=+a[1][1]);return n};n.size=function(a){if(!arguments.length)return null==b?null:
[g-b,k-e];null==a?b=e=g=k=null:(b=e=0,g=+a[0],k=+a[1]);return n};return n};w.interpolateRgb=pd;w.interpolateObject=Ze;w.interpolateNumber=Za;w.interpolateString=$e;var qd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rd=new RegExp(qd.source,"g");w.interpolate=nb;w.interpolators=[function(a,b){var e=typeof b;return("string"===e?Ub.has(b)||/^(#|rgb\(|hsl\()/.test(b)?pd:$e:b instanceof Ca?pd:Array.isArray(b)?oc:"object"===e&&isNaN(b)?Ze:Za)(a,b)}];w.interpolateArray=oc;var bg=function(){return ta},Zh=
w.map({linear:bg,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Xg},cubic:function(){return Yg},sin:function(){return $g},exp:function(){return ah},circle:function(){return bh},elastic:function(a,b){var e;2>arguments.length&&(b=.45);arguments.length?e=b/Fa*Math.asin(1/a):(a=1,e=b/4);return function(g){return 1+a*Math.pow(2,-10*g)*Math.sin((g-e)*Fa/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return ch}}),$h=w.map({"in":ta,
out:af,"in-out":bf,"out-in":function(a){return bf(af(a))}});w.ease=function(a){var b=a.indexOf("-"),e=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",e=Zh.get(e)||bg,b=$h.get(b)||ta;return Wg(b(e.apply(null,Pf.call(arguments,1))))};w.interpolateHcl=function(a,b){a=w.hcl(a);b=w.hcl(b);var e=a.h,g=a.c,k=a.l,n=b.h-e,l=b.c-g,f=b.l-k;isNaN(l)&&(l=0,g=isNaN(g)?b.c:g);isNaN(n)?(n=0,e=isNaN(e)?b.h:e):180<n?n-=360:-180>n&&(n+=360);return function(a){return Rc(e+n*a,g+l*a,k+f*a)+""}};w.interpolateHsl=
function(a,b){a=w.hsl(a);b=w.hsl(b);var e=a.h,g=a.s,k=a.l,n=b.h-e,l=b.s-g,f=b.l-k;isNaN(l)&&(l=0,g=isNaN(g)?b.s:g);isNaN(n)?(n=0,e=isNaN(e)?b.h:e):180<n?n-=360:-180>n&&(n+=360);return function(a){return Qc(e+n*a,g+l*a,k+f*a)+""}};w.interpolateLab=function(a,b){a=w.lab(a);b=w.lab(b);var e=a.l,g=a.a,k=a.b,n=b.l-e,l=b.a-g,f=b.b-k;return function(a){return Xd(e+n*a,g+l*a,k+f*a)+""}};w.interpolateRound=cf;w.transform=function(a){var b=Oa.createElementNS(w.ns.prefix.svg,"g");return(w.transform=function(a){if(null!=
a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new df(c?c.matrix:ai)})(a)};df.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ai={a:1,b:0,c:0,d:1,e:0,f:0};w.interpolateTransform=ff;w.layout={};w.layout.bundle=function(){return function(a){for(var b=[],e=-1,g=a.length;++e<g;)b.push(fh(a[e]));return b}};w.layout.chord=function(){function a(){var c={},e=[],x=w.range(l),t=[],r,q,G,
z,C;g=[];k=[];r=0;for(z=-1;++z<l;){q=0;for(C=-1;++C<l;)q+=n[z][C];e.push(q);t.push(w.range(l));r+=q}h&&x.sort(function(a,c){return h(e[a],e[c])});m&&t.forEach(function(a,c){a.sort(function(a,e){return m(n[c][a],n[c][e])})});r=(Fa-f*l)/r;q=0;for(z=-1;++z<l;){G=q;for(C=-1;++C<l;){var E=x[z],s=t[E][C],v=n[E][s],A=q,T=q+=v*r;c[E+"-"+s]={index:E,subindex:s,startAngle:A,endAngle:T,value:v}}k[E]={index:E,startAngle:G,endAngle:q,value:(q-G)/r};q+=f}for(z=-1;++z<l;)for(C=z-1;++C<l;)x=c[z+"-"+C],t=c[C+"-"+
z],(x.value||t.value)&&g.push(x.value<t.value?{source:t,target:x}:{source:x,target:t});u&&b()}function b(){g.sort(function(a,c){return u((a.source.value+a.target.value)/2,(c.source.value+c.target.value)/2)})}var e={},g,k,n,l,f=0,h,m,u;e.matrix=function(a){if(!arguments.length)return n;l=(n=a)&&n.length;g=k=null;return e};e.padding=function(a){if(!arguments.length)return f;f=a;g=k=null;return e};e.sortGroups=function(a){if(!arguments.length)return h;h=a;g=k=null;return e};e.sortSubgroups=function(a){if(!arguments.length)return m;
m=a;g=null;return e};e.sortChords=function(a){if(!arguments.length)return u;u=a;g&&b();return e};e.chords=function(){g||a();return g};e.groups=function(){k||a();return k};return e};w.layout.force=function(){function a(c){return function(a,e,b,g){if(a.point!==c){b=a.cx-c.x;var k=a.cy-c.y;e=g-e;g=b*b+k*k;if(e*e/q<g)return g<x&&(e=a.charge/g,c.px-=b*e,c.py-=k*e),!0;a.point&&g&&g<x&&(e=a.pointCharge/g,c.px-=b*e,c.py-=k*e)}return!a.charge}}function b(a){a.px=w.event.x;a.py=w.event.y;e.resume()}var e={},
g=w.dispatch("start","tick","end"),k=[1,1],n,l,f=.9,h=bi,m=ci,u=-30,x=di,t=.1,q=.64,r=[],z=[],C,G,E;e.tick=function(){if(.005>(l*=.99))return g.end({type:"end",alpha:l=0}),!0;var e=r.length,b=z.length,n,p,h,m,x,q,s;for(n=0;n<b;++n)if(p=z[n],h=p.source,m=p.target,q=m.x-h.x,s=m.y-h.y,x=q*q+s*s)x=l*G[n]*((x=Math.sqrt(x))-C[n])/x,q*=x,s*=x,m.x-=q*(x=h.weight/(m.weight+h.weight)),m.y-=s*x,h.x+=q*(x=1-x),h.y+=s*x;if(x=l*t)if(q=k[0]/2,s=k[1]/2,n=-1,x)for(;++n<e;)p=r[n],p.x+=(q-p.x)*x,p.y+=(s-p.y)*x;if(u)for(hf(b=
w.geom.quadtree(r),l,E),n=-1;++n<e;)(p=r[n]).fixed||b.visit(a(p));for(n=-1;++n<e;)p=r[n],p.fixed?(p.x=p.px,p.y=p.py):(p.x-=(p.px-(p.px=p.x))*f,p.y-=(p.py-(p.py=p.y))*f);g.tick({type:"tick",alpha:l})};e.nodes=function(a){if(!arguments.length)return r;r=a;return e};e.links=function(a){if(!arguments.length)return z;z=a;return e};e.size=function(a){if(!arguments.length)return k;k=a;return e};e.linkDistance=function(a){if(!arguments.length)return h;h="function"===typeof a?a:+a;return e};e.distance=e.linkDistance;
e.linkStrength=function(a){if(!arguments.length)return m;m="function"===typeof a?a:+a;return e};e.friction=function(a){if(!arguments.length)return f;f=+a;return e};e.charge=function(a){if(!arguments.length)return u;u="function"===typeof a?a:+a;return e};e.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(x);x=a*a;return e};e.gravity=function(a){if(!arguments.length)return t;t=+a;return e};e.theta=function(a){if(!arguments.length)return Math.sqrt(q);q=a*a;return e};e.alpha=function(a){if(!arguments.length)return l;
a=+a;l?l=0<a?a:0:0<a&&(g.start({type:"start",alpha:l=a}),w.timer(e.tick));return e};e.start=function(){function a(e,g){if(!p){p=Array(b);for(n=0;n<b;++n)p[n]=[];for(n=0;n<l;++n){var k=z[n];p[k.source.index].push(k.target);p[k.target.index].push(k.source)}}for(var k=p[c],n=-1,l=k.length,f;++n<l;)if(!isNaN(f=k[n][e]))return f;return Math.random()*g}var c,b=r.length,g=z.length,n=k[0],l=k[1],p,f;for(c=0;c<b;++c)(f=r[c]).index=c,f.weight=0;for(c=0;c<g;++c)f=z[c],"number"==typeof f.source&&(f.source=r[f.source]),
"number"==typeof f.target&&(f.target=r[f.target]),++f.source.weight,++f.target.weight;for(c=0;c<b;++c)f=r[c],isNaN(f.x)&&(f.x=a("x",n)),isNaN(f.y)&&(f.y=a("y",l)),isNaN(f.px)&&(f.px=f.x),isNaN(f.py)&&(f.py=f.y);C=[];if("function"===typeof h)for(c=0;c<g;++c)C[c]=+h.call(this,z[c],c);else for(c=0;c<g;++c)C[c]=h;G=[];if("function"===typeof m)for(c=0;c<g;++c)G[c]=+m.call(this,z[c],c);else for(c=0;c<g;++c)G[c]=m;E=[];if("function"===typeof u)for(c=0;c<b;++c)E[c]=+u.call(this,r[c],c);else for(c=0;c<b;++c)E[c]=
u;return e.resume()};e.resume=function(){return e.alpha(.1)};e.stop=function(){return e.alpha(0)};e.drag=function(){n||(n=w.behavior.drag().origin(ta).on("dragstart.force",gh).on("drag.force",b).on("dragend.force",hh));if(!arguments.length)return n;this.on("mouseover.force",ih).on("mouseout.force",jh).call(n)};return w.rebind(e,g,"on")};var bi=20,ci=1,di=Infinity;w.layout.hierarchy=function(){function a(k){var n=[k],l=[],f;for(k.depth=0;null!=(f=n.pop());)if(l.push(f),(m=e.call(a,f,f.depth))&&(h=
m.length)){for(var h,m,u;0<=--h;)n.push(u=m[h]),u.parent=f,u.depth=f.depth+1;g&&(f.value=0);f.children=m}else g&&(f.value=+g.call(a,f,f.depth)||0),delete f.children;Ra(k,function(a){var c,e;b&&(c=a.children)&&c.sort(b);g&&(e=a.parent)&&(e.value+=a.value)});return l}var b=nh,e=lh,g=mh;a.sort=function(e){if(!arguments.length)return b;b=e;return a};a.children=function(b){if(!arguments.length)return e;e=b;return a};a.value=function(e){if(!arguments.length)return g;g=e;return a};a.revalue=function(e){g&&
(Pb(e,function(a){a.children&&(a.value=0)}),Ra(e,function(e){var b;e.children||(e.value=+g.call(a,e,e.depth)||0);if(b=e.parent)b.value+=e.value}));return e};return a};w.layout.partition=function(){function a(e,b,g,k){var l=e.children;e.x=b;e.y=e.depth*k;e.dx=g;e.dy=k;if(l&&(f=l.length)){var p=-1,f,h;for(g=e.value?g/e.value:0;++p<f;)a(h=l[p],b,e=h.value*g,k),b+=e}}function b(a){a=a.children;var c=0;if(a&&(g=a.length))for(var e=-1,g;++e<g;)c=Math.max(c,b(a[e]));return 1+c}function e(e,l){var f=g.call(this,
e,l);a(f[0],0,k[0],k[1]/b(f[0]));return f}var g=w.layout.hierarchy(),k=[1,1];e.size=function(a){if(!arguments.length)return k;k=a;return e};return Ob(e,g)};w.layout.pie=function(){function a(l){var f=l.map(function(e,g){return+b.call(a,e,g)}),h=+("function"===typeof g?g.apply(this,arguments):g),m=(("function"===typeof k?k.apply(this,arguments):k)-h)/w.sum(f),u=w.range(l.length);null!=e&&u.sort(e===cg?function(a,c){return f[c]-f[a]}:function(a,c){return e(l[a],l[c])});var x=[];u.forEach(function(a){var c;
x[a]={data:l[a],value:c=f[a],startAngle:h,endAngle:h+=c*m}});return x}var b=Number,e=cg,g=0,k=Fa;a.value=function(e){if(!arguments.length)return b;b=e;return a};a.sort=function(b){if(!arguments.length)return e;e=b;return a};a.startAngle=function(e){if(!arguments.length)return g;g=e;return a};a.endAngle=function(e){if(!arguments.length)return k;k=e;return a};return a};var cg={};w.layout.stack=function(){function a(h,m){var u=h.map(function(e,g){return b.call(a,e,g)}),x=u.map(function(e){return e.map(function(e,
b){return[l.call(a,e,b),f.call(a,e,b)]})}),t=e.call(a,x,m),u=w.permute(u,t),x=w.permute(x,t),t=g.call(a,x,m),q=u.length,r=u[0].length,z,C,G;for(C=0;C<r;++C)for(k.call(a,u[0][C],G=t[C],x[0][C][1]),z=1;z<q;++z)k.call(a,u[z][C],G+=x[z-1][C][1],x[z][C][1]);return h}var b=ta,e=sd,g=td,k=qh,l=oh,f=ph;a.values=function(e){if(!arguments.length)return b;b=e;return a};a.order=function(b){if(!arguments.length)return e;e="function"===typeof b?b:ei.get(b)||sd;return a};a.offset=function(e){if(!arguments.length)return g;
g="function"===typeof e?e:fi.get(e)||td;return a};a.x=function(e){if(!arguments.length)return l;l=e;return a};a.y=function(e){if(!arguments.length)return f;f=e;return a};a.out=function(e){if(!arguments.length)return k;k=e;return a};return a};var ei=w.map({"inside-out":function(a){var b=a.length,e,g=a.map(rh),k=a.map(sh),l=w.range(b).sort(function(a,c){return g[a]-g[c]}),f=0,h=0,m=[],u=[];for(a=0;a<b;++a)e=l[a],f<h?(f+=k[e],m.push(e)):(h+=k[e],u.push(e));return u.reverse().concat(m)},reverse:function(a){return w.range(a.length).reverse()},
"default":sd}),fi=w.map({silhouette:function(a){var b=a.length,e=a[0].length,g=[],k=0,l,f,h,m=[];for(f=0;f<e;++f){for(h=l=0;l<b;l++)h+=a[l][f][1];h>k&&(k=h);g.push(h)}for(f=0;f<e;++f)m[f]=(k-g[f])/2;return m},wiggle:function(a){var b=a.length,e=a[0],g=e.length,k,l,f,h,m,u,x,t,q,r=[];r[0]=t=q=0;for(l=1;l<g;++l){for(h=k=0;k<b;++k)h+=a[k][l][1];m=k=0;for(x=e[l][0]-e[l-1][0];k<b;++k){f=0;for(u=(a[k][l][1]-a[k][l-1][1])/(2*x);f<k;++f)u+=(a[f][l][1]-a[f][l-1][1])/x;m+=u*a[k][l][1]}r[l]=t-=h?m/h*x:0;t<q&&
(q=t)}for(l=0;l<g;++l)r[l]-=q;return r},expand:function(a){var b=a.length,e=a[0].length,g=1/b,k,l,f,h=[];for(l=0;l<e;++l){for(f=k=0;k<b;k++)f+=a[k][l][1];if(f)for(k=0;k<b;k++)a[k][l][1]/=f;else for(k=0;k<b;k++)a[k][l][1]=g}for(l=0;l<e;++l)h[l]=0;return h},zero:td});w.layout.histogram=function(){function a(c,l){var f=[],h=c.map(e,this),m=g.call(this,h,l),u=k.call(this,m,h,l),x;l=-1;for(var t=h.length,q=u.length-1,r=b?1:1/t;++l<q;)x=f[l]=[],x.dx=u[l+1]-(x.x=u[l]),x.y=0;if(0<q)for(l=-1;++l<t;)x=h[l],
x>=m[0]&&x<=m[1]&&(x=f[w.bisect(u,x,1,q)-1],x.y+=r,x.push(c[l]));return f}var b=!0,e=Number,g=vh,k=uh;a.value=function(b){if(!arguments.length)return e;e=b;return a};a.range=function(e){if(!arguments.length)return g;g=pa(e);return a};a.bins=function(e){if(!arguments.length)return k;k="number"===typeof e?function(a){return jf(a,e)}:pa(e);return a};a.frequency=function(e){if(!arguments.length)return b;b=!!e;return a};return a};w.layout.pack=function(){function a(c,l){var f=b.call(this,c,l),h=f[0],m=
g[0],u=g[1],x=null==k?Math.sqrt:"function"===typeof k?k:function(){return k};h.x=h.y=0;Ra(h,function(a){a.r=+x(a.value)});Ra(h,mf);if(e){var t=e*(k?1:Math.max(2*h.r/m,2*h.r/u))/2;Ra(h,function(a){a.r+=t});Ra(h,mf);Ra(h,function(a){a.r-=t})}of(h,m/2,u/2,k?1:1/Math.max(2*h.r/m,2*h.r/u));return f}var b=w.layout.hierarchy().sort(wh),e=0,g=[1,1],k;a.size=function(e){if(!arguments.length)return g;g=e;return a};a.radius=function(e){if(!arguments.length)return k;k=null==e||"function"===typeof e?e:+e;return a};
a.padding=function(b){if(!arguments.length)return e;e=+b;return a};return Ob(a,b)};w.layout.tree=function(){function a(c,u){var x=l.call(this,c,u),t=x[0],q=b(t);Ra(q,e);q.parent.m=-q.z;Pb(q,g);if(m)Pb(t,k);else{var r=t,z=t,C=t;Pb(t,function(a){a.x<r.x&&(r=a);a.x>z.x&&(z=a);a.depth>C.depth&&(C=a)});var G=f(r,z)/2-r.x,E=h[0]/(z.x+f(z,r)/2+G),s=h[1]/(C.depth||1);Pb(t,function(a){a.x=(a.x+G)*E;a.y=a.depth*s})}return x}function b(a){a={A:null,children:[a]};for(var c=[a],e;null!=(e=c.pop());)for(var g=
e.children,k,l=0,f=g.length;l<f;++l)c.push((g[l]=k={_:g[l],parent:e,children:(k=g[l].children)&&k.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:l}).a=k);return a.children[0]}function e(a){var c=a.children,e=a.parent.children,b=a.i?e[a.i-1]:null;if(c.length){for(var g=0,k=0,l=a.children,n=l.length,p;0<=--n;)p=l[n],p.z+=g,p.m+=g,g+=p.s+(k+=p.c);c=(c[0].z+c[c.length-1].z)/2;b?(a.z=b.z+f(a._,b._),a.m=a.z-c):a.z=c}else b&&(a.z=b.z+f(a._,b._));c=a.parent;e=a.parent.A||e[0];if(b){k=g=a;l=g.parent.children[0];
n=g.m;p=k.m;for(var h=b.m,m=l.m,u;b=wd(b),g=vd(g),b&&g;){l=vd(l);k=wd(k);k.a=a;u=b.z+h-g.z-n+f(b._,g._);if(0<u){var x=b.a.parent===a.parent?b.a:e,t=a,q=u,r=q/(t.i-x.i);t.c-=r;t.s+=q;x.c+=r;t.z+=q;t.m+=q;n+=u;p+=u}h+=b.m;n+=g.m;m+=l.m;p+=k.m}b&&!wd(k)&&(k.t=b,k.m+=h-p);g&&!vd(l)&&(l.t=g,l.m+=n-m,e=a)}c.A=e}function g(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function k(a){a.x*=h[0];a.y=a.depth*h[1]}var l=w.layout.hierarchy().sort(null).value(null),f=pf,h=[1,1],m=null;a.separation=function(e){if(!arguments.length)return f;
f=e;return a};a.size=function(e){if(!arguments.length)return m?null:h;m=null==(h=e)?k:null;return a};a.nodeSize=function(e){if(!arguments.length)return m?h:null;m=null==(h=e)?null:k;return a};return Ob(a,l)};w.layout.cluster=function(){function a(c,l){var f=b.call(this,c,l),h=f[0],m,u=0;Ra(h,function(a){var c=a.children;c&&c.length?(a.x=Ah(c),a.y=zh(c)):(a.x=m?u+=e(a,m):0,a.y=0,m=a)});var x=qf(h),t=rf(h),q=x.x-e(x,t)/2,r=t.x+e(t,x)/2;Ra(h,k?function(a){a.x=(a.x-h.x)*g[0];a.y=(h.y-a.y)*g[1]}:function(a){a.x=
(a.x-q)/(r-q)*g[0];a.y=(1-(h.y?a.y/h.y:1))*g[1]});return f}var b=w.layout.hierarchy().sort(null).value(null),e=pf,g=[1,1],k=!1;a.separation=function(b){if(!arguments.length)return e;e=b;return a};a.size=function(e){if(!arguments.length)return k?null:g;k=null==(g=e);return a};a.nodeSize=function(e){if(!arguments.length)return k?g:null;k=null!=(g=e);return a};return Ob(a,b)};w.layout.treemap=function(){function a(c,e){for(var b=-1,g=c.length,k,l;++b<g;)l=(k=c[b]).value*(0>e?0:e),k.area=isNaN(l)||0>=
l?0:l}function b(e){var k=e.children;if(k&&k.length){var l=u(e),f=[],n=k.slice(),h=Infinity,m,x="slice"===q?l.dx:"dice"===q?l.dy:"slice-dice"===q?e.depth&1?l.dy:l.dx:Math.min(l.dx,l.dy);a(n,l.dx*l.dy/e.value);for(f.area=0;0<(e=n.length);){f.push(e=n[e-1]);f.area+=e.area;if(!(e="squarify"!==q)){m=x;e=f.area;for(var t=void 0,z=0,y=Infinity,C=-1,G=f.length;++C<G;)if(t=f[C].area)t<y&&(y=t),t>z&&(z=t);e*=e;m*=m;e=(m=e?Math.max(m*z*r/e,e/(m*y*r)):Infinity)<=h}e?(n.pop(),h=m):(f.area-=f.pop().area,g(f,x,
l,!1),x=Math.min(l.dx,l.dy),f.length=f.area=0,h=Infinity)}f.length&&(g(f,x,l,!0),f.length=f.area=0);k.forEach(b)}}function e(b){var k=b.children;if(k&&k.length){var l=u(b),f=k.slice(),n=[];a(f,l.dx*l.dy/b.value);for(n.area=0;b=f.pop();)n.push(b),n.area+=b.area,null!=b.z&&(g(n,b.z?l.dx:l.dy,l,!f.length),n.length=n.area=0);k.forEach(e)}}function g(a,c,e,b){var g=-1,k=a.length,l=e.x,n=e.y,p=c?f(a.area/c):0,h;if(c==e.dx){if(b||p>e.dy)p=e.dy;for(;++g<k;)h=a[g],h.x=l,h.y=n,h.dy=p,l+=h.dx=Math.min(e.x+e.dx-
l,p?f(h.area/p):0);h.z=!0;h.dx+=e.x+e.dx-l;e.y+=p;e.dy-=p}else{if(b||p>e.dx)p=e.dx;for(;++g<k;)h=a[g],h.x=l,h.y=n,h.dx=p,n+=h.dy=Math.min(e.y+e.dy-n,p?f(h.area/p):0);h.z=!1;h.dy+=e.y+e.dy-n;e.x+=p;e.dx-=p}}function k(g){g=t||l(g);var k=g[0];k.x=0;k.y=0;k.dx=h[0];k.dy=h[1];t&&l.revalue(k);a([k],k.dx*k.dy/k.value);(t?e:b)(k);x&&(t=g);return g}var l=w.layout.hierarchy(),f=Math.round,h=[1,1],m=null,u=xd,x=!1,t,q="squarify",r=.5*(1+Math.sqrt(5));k.size=function(a){if(!arguments.length)return h;h=a;return k};
k.padding=function(a){function c(e){var b=a.call(k,e,e.depth);return null==b?xd(e):sf(e,"number"===typeof b?[b,b,b,b]:b)}function e(c){return sf(c,a)}if(!arguments.length)return m;var b;u=null==(m=a)?xd:"function"===(b=typeof a)?c:"number"===b?(a=[a,a,a,a],e):e;return k};k.round=function(a){if(!arguments.length)return f!=Number;f=a?Math.round:Number;return k};k.sticky=function(a){if(!arguments.length)return x;x=a;t=null;return k};k.ratio=function(a){if(!arguments.length)return r;r=a;return k};k.mode=
function(a){if(!arguments.length)return q;q=a+"";return k};return Ob(k,l)};w.random={normal:function(a,b){var e=arguments.length;2>e&&(b=1);1>e&&(a=0);return function(){var e,k;do e=2*Math.random()-1,k=2*Math.random()-1,k=e*e+k*k;while(!k||1<k);return a+b*e*Math.sqrt(-2*Math.log(k)/k)}},logNormal:function(){var a=w.random.normal.apply(w,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=w.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=
0,e=0;e<a;e++)b+=Math.random();return b}}};w.scale={};var Ch={floor:ta,ceil:ta};w.scale.linear=function(){return uf([0,1],[0,1],nb,!1)};var Fh={s:1,g:1,p:1,r:1,e:1};w.scale.log=function(){return vf(w.scale.linear().domain([0,1]),10,!0,[1,10])};var wf=w.format(".0e"),Gh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};w.scale.pow=function(){return xf(w.scale.linear(),1,[0,1])};w.scale.sqrt=function(){return w.scale.pow().exponent(.5)};w.scale.ordinal=function(){return yf([],
{t:"range",a:[[]]})};w.scale.category10=function(){return w.scale.ordinal().range(gi)};w.scale.category20=function(){return w.scale.ordinal().range(hi)};w.scale.category20b=function(){return w.scale.ordinal().range(ii)};w.scale.category20c=function(){return w.scale.ordinal().range(ji)};var gi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Tb),hi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,
16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Tb),ii=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Tb),ji=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Tb);w.scale.quantile=function(){return zf([],[])};w.scale.quantize=
function(){return Af(0,1,[0,1])};w.scale.threshold=function(){return Bf([.5],[0,1])};w.scale.identity=function(){return Cf([0,1])};w.svg={};w.svg.arc=function(){function a(){var c=b.apply(this,arguments),l=e.apply(this,arguments),f=g.apply(this,arguments)+ob,h=k.apply(this,arguments)+ob,m=(h<f&&(m=f,f=h,h=m),h-f),u=m<ga?"0":"1",x=Math.cos(f),f=Math.sin(f),t=Math.cos(h),h=Math.sin(h);return m>=ki?c?"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"M0,"+c+"A"+c+","+c+" 0 1,0 0,"+-c+"A"+
c+","+c+" 0 1,0 0,"+c+"Z":"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"Z":c?"M"+l*x+","+l*f+"A"+l+","+l+" 0 "+u+",1 "+l*t+","+l*h+"L"+c*t+","+c*h+"A"+c+","+c+" 0 "+u+",0 "+c*x+","+c*f+"Z":"M"+l*x+","+l*f+"A"+l+","+l+" 0 "+u+",1 "+l*t+","+l*h+"L0,0Z"}var b=Hh,e=Ih,g=Df,k=Ef;a.innerRadius=function(e){if(!arguments.length)return b;b=pa(e);return a};a.outerRadius=function(b){if(!arguments.length)return e;e=pa(b);return a};a.startAngle=function(e){if(!arguments.length)return g;g=pa(e);
return a};a.endAngle=function(e){if(!arguments.length)return k;k=pa(e);return a};a.centroid=function(){var a=(b.apply(this,arguments)+e.apply(this,arguments))/2,c=(g.apply(this,arguments)+k.apply(this,arguments))/2+ob;return[Math.cos(c)*a,Math.sin(c)*a]};return a};var ob=-ua,ki=Fa-1E-6;w.svg.line=function(){return Ff(ta)};var Ad=w.map({linear:Ga,"linear-closed":function(a){return Ga(a)+"Z"},step:function(a){for(var b=0,e=a.length,g=a[0],k=[g[0],",",g[1]];++b<e;)k.push("H",(g[0]+(g=a[b])[0])/2,"V",
g[1]);1<e&&k.push("H",g[0]);return k.join("")},"step-before":Bd,"step-after":Cd,basis:Gf,"basis-open":function(a){if(4>a.length)return Ga(a);for(var b=[],e=-1,g=a.length,k,l=[0],f=[0];3>++e;)k=a[e],l.push(k[0]),f.push(k[1]);b.push(Ja(gb,l)+","+Ja(gb,f));for(--e;++e<g;)k=a[e],l.shift(),l.push(k[0]),f.shift(),f.push(k[1]),Ed(b,l,f);return b.join("")},"basis-closed":function(a){for(var b,e=-1,g=a.length,k=g+4,l,f=[],h=[];4>++e;)l=a[e%g],f.push(l[0]),h.push(l[1]);b=[Ja(gb,f),",",Ja(gb,h)];for(--e;++e<
k;)l=a[e%g],f.shift(),f.push(l[0]),h.shift(),h.push(l[1]),Ed(b,f,h);return b.join("")},bundle:function(a,b){var e=a.length-1;if(e)for(var g=a[0][0],k=a[0][1],l=a[e][0]-g,f=a[e][1]-k,h=-1,m,u;++h<=e;)m=a[h],u=h/e,m[0]=b*m[0]+(1-b)*(g+u*l),m[1]=b*m[1]+(1-b)*(k+u*f);return Gf(a)},cardinal:function(a,b){return 3>a.length?Ga(a):a[0]+tc(a,Dd(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ga(a):a[1]+tc(a.slice(1,a.length-1),Dd(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ga(a):a[0]+tc((a.push(a[0]),
a),Dd([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ga(a);else{var b=a[0],e=[],g,k,l,f;g=0;k=a.length-1;var h=[];l=a[1];for(f=h[0]=Fd(a[0],l);++g<k;)h[g]=(f+(f=Fd(l,l=a[g+1])))/2;h[g]=f;for(var m=-1,u=a.length-1;++m<u;)g=Fd(a[m],a[m+1]),1E-6>ha(g)?h[m]=h[m+1]=0:(k=h[m]/g,l=h[m+1]/g,f=k*k+l*l,9<f&&(f=3*g/Math.sqrt(f),h[m]=f*k,h[m+1]=f*l));for(m=-1;++m<=u;)f=(a[Math.min(u,m+1)][0]-a[Math.max(0,m-1)][0])/(6*(1+h[m]*h[m])),e.push([f||0,h[m]*f||0]);a=b+tc(a,e)}return a}});
Ad.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Hf=[0,2/3,1/3,0],If=[0,1/3,2/3,0],gb=[0,1/6,2/3,1/6];w.svg.line.radial=function(){var a=Ff(Jf);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Bd.reverse=Cd;Cd.reverse=Bd;w.svg.area=function(){return Kf(ta)};w.svg.area.radial=function(){var a=Kf(Jf);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};
w.svg.chord=function(){function a(c,l){var f=b(this,g,c,l),n=b(this,k,c,l);return"M"+f.p0+e(f.r,f.p1,f.a1-f.a0)+(f.a0==n.a0&&f.a1==n.a1?"Q 0,0 "+f.p0:"Q 0,0 "+n.p0+e(n.r,n.p1,n.a1-n.a0)+("Q 0,0 "+f.p0))+"Z"}function b(a,c,e,g){var k=c.call(a,e,g);c=l.call(a,k,g);e=f.call(a,k,g)+ob;a=h.call(a,k,g)+ob;return{r:c,a0:e,a1:a,p0:[c*Math.cos(e),c*Math.sin(e)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function e(a,c,e){return"A"+a+","+a+" 0 "+ +(e>ga)+",1 "+c}var g=hd,k=id,l=Jh,f=Df,h=Ef;a.radius=function(e){if(!arguments.length)return l;
l=pa(e);return a};a.source=function(e){if(!arguments.length)return g;g=pa(e);return a};a.target=function(e){if(!arguments.length)return k;k=pa(e);return a};a.startAngle=function(e){if(!arguments.length)return f;f=pa(e);return a};a.endAngle=function(e){if(!arguments.length)return h;h=pa(e);return a};return a};w.svg.diagonal=function(){function a(c,l){var f=b.call(this,c,l),h=e.call(this,c,l),m=(f.y+h.y)/2,f=[f,{x:f.x,y:m},{x:h.x,y:m},h],f=f.map(g);return"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var b=hd,
e=id,g=Lf;a.source=function(e){if(!arguments.length)return b;b=pa(e);return a};a.target=function(b){if(!arguments.length)return e;e=pa(b);return a};a.projection=function(e){if(!arguments.length)return g;g=e;return a};return a};w.svg.diagonal.radial=function(){var a=w.svg.diagonal(),b=Lf,e=a.projection;a.projection=function(a){return arguments.length?e(Kh(b=a)):b};return a};w.svg.symbol=function(){function a(c,l){return(dg.get(b.call(this,c,l))||Mf)(e.call(this,c,l))}var b=Mh,e=Lh;a.type=function(e){if(!arguments.length)return b;
b=pa(e);return a};a.size=function(b){if(!arguments.length)return e;e=pa(b);return a};return a};var dg=w.map({circle:Mf,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*eg));var b=a*eg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/
Lc);var b=a*Lc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Lc);var b=a*Lc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});w.svg.symbolTypes=dg.keys();var Lc=Math.sqrt(3),eg=Math.tan(30*fa),sa=[],Tf=0,qb,xc;sa.call=ma.call;sa.empty=ma.empty;sa.node=ma.node;sa.size=ma.size;w.transition=function(a){return arguments.length?qb?a.transition():a:Sf.transition()};w.transition.prototype=sa;sa.select=function(a){var b=this.id,e=[],g,l,f;a=P(a);for(var h=-1,m=this.length;++h<
m;){e.push(g=[]);for(var u=this[h],x=-1,t=u.length;++x<t;)(f=u[x])&&(l=a.call(f,f.__data__,x,h))?("__data__"in f&&(l.__data__=f.__data__),uc(l,x,b,f.__transition__[b]),g.push(l)):g.push(null)}return Qb(e,b)};sa.selectAll=function(a){var b=this.id,e=[],g,l,f,h;a=I(a);for(var m=-1,u=this.length;++m<u;)for(var x=this[m],t=-1,q=x.length;++t<q;)if(g=x[t]){h=g.__transition__[b];l=a.call(g,g.__data__,t,m);e.push(g=[]);for(var r=-1,z=l.length;++r<z;)(f=l[r])&&uc(f,r,b,h),g.push(f)}return Qb(e,b)};sa.filter=
function(a){var b=[],e,g,l;"function"!==typeof a&&(a=R(a));for(var f=0,h=this.length;f<h;f++){b.push(e=[]);g=this[f];for(var m=0,u=g.length;m<u;m++)(l=g[m])&&a.call(l,l.__data__,m,f)&&e.push(l)}return Qb(b,this.id)};sa.tween=function(a,b){var e=this.id;return 2>arguments.length?this.node().__transition__[e].tween.get(a):G(this,null==b?function(b){b.__transition__[e].tween.remove(a)}:function(g){g.__transition__[e].tween.set(a,b)})};sa.attr=function(a,b){function e(){this.removeAttribute(m)}function g(){this.removeAttributeNS(m.space,
m.local)}function l(a){return null==a?e:(a+="",function(){var c=this.getAttribute(m),e;return c!==a&&(e=h(c,a),function(a){this.setAttribute(m,e(a))})})}function f(a){return null==a?g:(a+="",function(){var c=this.getAttributeNS(m.space,m.local),e;return c!==a&&(e=h(c,a),function(a){this.setAttributeNS(m.space,m.local,e(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var h="transform"==a?ff:nb,m=w.ns.qualify(a);return Gd(this,"attr."+a,b,m.local?f:l)};sa.attrTween=function(a,
b){function e(a,c){var e=b.call(this,a,c,this.getAttribute(l));return e&&function(a){this.setAttribute(l,e(a))}}function g(a,c){var e=b.call(this,a,c,this.getAttributeNS(l.space,l.local));return e&&function(a){this.setAttributeNS(l.space,l.local,e(a))}}var l=w.ns.qualify(a);return this.tween("attr."+a,l.local?g:e)};sa.style=function(a,b,e){function g(){this.style.removeProperty(a)}var l=arguments.length;if(3>l){if("string"!==typeof a){2>l&&(b="");for(e in a)this.style(e,a[e],b);return this}e=""}return Gd(this,
"style."+a,b,function(b){return null==b?g:(b+="",function(){var g=xa.getComputedStyle(this,null).getPropertyValue(a),l;return g!==b&&(l=nb(g,b),function(b){this.style.setProperty(a,l(b),e)})})})};sa.styleTween=function(a,b,e){3>arguments.length&&(e="");return this.tween("style."+a,function(g,l){var f=b.call(this,g,l,xa.getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),e)}})};sa.text=function(a){return Gd(this,"text",a,Nh)};sa.remove=function(){return this.each("end.transition",
function(){var a;2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};sa.ease=function(a){var b=this.id;if(1>arguments.length)return this.node().__transition__[b].ease;"function"!==typeof a&&(a=w.ease.apply(w,arguments));return G(this,function(e){e.__transition__[b].ease=a})};sa.delay=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].delay:G(this,"function"===typeof a?function(e,g,l){e.__transition__[b].delay=+a.call(e,e.__data__,g,l)}:(a=+a,function(e){e.__transition__[b].delay=
a}))};sa.duration=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].duration:G(this,"function"===typeof a?function(e,g,l){e.__transition__[b].duration=Math.max(1,a.call(e,e.__data__,g,l))}:(a=Math.max(1,a),function(e){e.__transition__[b].duration=a}))};sa.each=function(a,b){var e=this.id;if(2>arguments.length){var g=xc,l=qb;qb=e;G(this,function(b,g,l){xc=b.__transition__[e];a.call(b,b.__data__,g,l)});xc=g;qb=l}else G(this,function(g){g=g.__transition__[e];(g.event||
(g.event=w.dispatch("start","end"))).on(a,b)});return this};sa.transition=function(){for(var a=this.id,b=++Tf,e=[],g,l,f,h,m=0,u=this.length;m<u;m++){e.push(g=[]);l=this[m];for(var x=0,t=l.length;x<t;x++){if(f=l[x])h=Object.create(f.__transition__[a]),h.delay+=h.duration,uc(f,x,b,h);g.push(f)}}return Qb(e,b)};w.svg.axis=function(){function a(c){c.each(function(){var a=w.select(this),c=this.__chart__||b,x=this.__chart__=b.copy(),t=null==m?x.ticks?x.ticks.apply(x,h):x.domain():m,q=null==u?x.tickFormat?
x.tickFormat.apply(x,h):ta:u,r=a.selectAll(".tick").data(t,x),t=r.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6),z=w.transition(r.exit()).style("opacity",1E-6).remove(),C=w.transition(r.order()).style("opacity",1),G,E=pc(x),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),w.transition(a));t.append("line");t.append("text");var s=t.select("line"),v=C.select("line"),q=r.select("text").text(q),r=t.select("text"),A=C.select("text");switch(e){case "bottom":G=
Nf;s.attr("y2",g);r.attr("y",Math.max(g,0)+f);v.attr("x2",0).attr("y2",g);A.attr("x",0).attr("y",Math.max(g,0)+f);q.attr("dy",".71em").style("text-anchor","middle");a.attr("d","M"+E[0]+","+l+"V0H"+E[1]+"V"+l);break;case "top":G=Nf;s.attr("y2",-g);r.attr("y",-(Math.max(g,0)+f));v.attr("x2",0).attr("y2",-g);A.attr("x",0).attr("y",-(Math.max(g,0)+f));q.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+E[0]+","+-l+"V0H"+E[1]+"V"+-l);break;case "left":G=Of;s.attr("x2",-g);r.attr("x",-(Math.max(g,
0)+f));v.attr("x2",-g).attr("y2",0);A.attr("x",-(Math.max(g,0)+f)).attr("y",0);q.attr("dy",".32em").style("text-anchor","end");a.attr("d","M"+-l+","+E[0]+"H0V"+E[1]+"H"+-l);break;case "right":G=Of,s.attr("x2",g),r.attr("x",Math.max(g,0)+f),v.attr("x2",g).attr("y2",0),A.attr("x",Math.max(g,0)+f).attr("y",0),q.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+l+","+E[0]+"H0V"+E[1]+"H"+l)}if(x.rangeBand)var T=x,I=T.rangeBand()/2,c=x=function(a){return T(a)+I};else c.rangeBand?c=x:z.call(G,
x);t.call(G,c);C.call(G,x)})}var b=w.scale.linear(),e=fg,g=6,l=6,f=3,h=[10],m=null,u;a.scale=function(e){if(!arguments.length)return b;b=e;return a};a.orient=function(b){if(!arguments.length)return e;e=b in li?b+"":fg;return a};a.ticks=function(){if(!arguments.length)return h;h=arguments;return a};a.tickValues=function(b){if(!arguments.length)return m;m=b;return a};a.tickFormat=function(b){if(!arguments.length)return u;u=b;return a};a.tickSize=function(b){var e=arguments.length;if(!e)return g;g=+b;
l=+arguments[e-1];return a};a.innerTickSize=function(b){if(!arguments.length)return g;g=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return l;l=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var fg="bottom",li={top:1,right:1,bottom:1,left:1};w.svg.brush=function(){function a(f){f.each(function(){var f=w.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color",
"rgba(0,0,0,0)").on("mousedown.brush",l).on("touchstart.brush",l),n=f.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=f.selectAll(".resize").data(G,ta);u.exit().remove();u.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return mi[a]}).append("rect").attr("x",
function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");u.style("display",a.empty()?"none":null);f=w.transition(f);n=w.transition(n);h&&(u=pc(h),n.attr("x",u[0]).attr("width",u[1]-u[0]),e(f));m&&(u=pc(m),n.attr("y",u[0]).attr("height",u[1]-u[0]),g(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+u[+/e$/.test(a)]+","+x[+/^s/.test(a)]+")"})}function e(a){a.select(".extent").attr("x",
u[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function g(a){a.select(".extent").attr("y",x[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",x[1]-x[0])}function l(){function k(){var a=w.mouse(E),c=!1;Q&&(a[0]+=Q[0],a[1]+=Q[1]);O||(w.event.altKey?(B||(B=[(u[0]+u[1])/2,(x[0]+x[1])/2]),D[0]=u[+(a[0]<B[0])],D[1]=x[+(a[1]<B[1])]):B=null);I&&z(a,h,0)&&(e(A),c=!0);R&&z(a,m,1)&&(g(A),c=!0);c&&(b(A),v({type:"brush",mode:O?"move":"resize"}))}function z(a,c,b){var e=pc(c);c=e[0];
var g=e[1],e=D[b],l=b?x:u,k=l[1]-l[0];O&&(c-=e,g-=k+e);a=(b?C:r)?Math.max(c,Math.min(g,a[b])):a[b];O?c=(a+=e)+k:(B&&(e=Math.max(c,Math.min(g,2*B[b]-a))),e<a?(c=a,a=e):c=e);if(l[0]!=a||l[1]!=c)return b?q=null:t=null,l[0]=a,l[1]=c,!0}function G(){k();A.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);w.select("body").style("cursor",null);na.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",
null).on("keyup.brush",null);U();v({type:"brushend"})}var E=this,s=w.select(w.event.target),v=f.of(E,arguments),A=w.select(E),T=s.datum(),I=!/^(n|s)$/.test(T)&&h,R=!/^(e|w)$/.test(T)&&m,O=s.classed("extent"),U=ka(),B,D=w.mouse(E),Q,na=w.select(xa).on("keydown.brush",function(){32==w.event.keyCode&&(O||(B=null,D[0]-=u[1],D[1]-=x[1],O=2),L())}).on("keyup.brush",function(){32==w.event.keyCode&&2==O&&(D[0]+=u[1],D[1]+=x[1],O=0,L())});if(w.event.changedTouches)na.on("touchmove.brush",k).on("touchend.brush",
G);else na.on("mousemove.brush",k).on("mouseup.brush",G);A.interrupt().selectAll("*").interrupt();if(O)D[0]=u[0]-D[0],D[1]=x[0]-D[1];else if(T){var M=+/w$/.test(T),T=+/^n/.test(T);Q=[u[1-M]-D[0],x[1-T]-D[1]];D[0]=u[M];D[1]=x[T]}else w.event.altKey&&(B=D.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null);w.select("body").style("cursor",s.style("cursor"));v({type:"brushstart"});k()}var f=z(a,"brushstart","brush","brushend"),h=null,m=null,u=[0,0],x=[0,0],t,q,r=!0,C=
!0,G=Nd[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),c={x:u,y:x,i:t,j:q},b=this.__chart__||c;this.__chart__=c;qb?w.select(this).transition().each("start.brush",function(){t=b.i;q=b.j;u=b.x;x=b.y;a({type:"brushstart"})}).tween("brush:brush",function(){var b=oc(u,c.x),e=oc(x,c.y);t=q=null;return function(g){u=c.x=b(g);x=c.y=e(g);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=c.i;q=c.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),
a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(b){if(!arguments.length)return h;h=b;G=Nd[!h<<1|!m];return a};a.y=function(b){if(!arguments.length)return m;m=b;G=Nd[!h<<1|!m];return a};a.clamp=function(b){if(!arguments.length)return h&&m?[r,C]:h?r:m?C:null;h&&m?(r=!!b[0],C=!!b[1]):h?r=!!b:m&&(C=!!b);return a};a.extent=function(b){var e,g,l,k,f;if(!arguments.length)return h&&(t?(e=t[0],g=t[1]):(e=u[0],g=u[1],h.invert&&(e=h.invert(e),g=h.invert(g)),g<e&&(f=e,e=g,g=f))),m&&(q?(l=
q[0],k=q[1]):(l=x[0],k=x[1],m.invert&&(l=m.invert(l),k=m.invert(k)),k<l&&(f=l,l=k,k=f))),h&&m?[[e,l],[g,k]]:h?[e,g]:m&&[l,k];h&&(e=b[0],g=b[1],m&&(e=e[0],g=g[0]),t=[e,g],h.invert&&(e=h(e),g=h(g)),g<e&&(f=e,e=g,g=f),e!=u[0]||g!=u[1])&&(u=[e,g]);m&&(l=b[0],k=b[1],h&&(l=l[1],k=k[1]),q=[l,k],m.invert&&(l=m(l),k=m(k)),k<l&&(f=l,l=k,k=f),l!=x[0]||k!=x[1])&&(x=[l,k]);return a};a.clear=function(){a.empty()||(u=[0,0],x=[0,0],t=q=null);return a};a.empty=function(){return!!h&&u[0]==u[1]||!!m&&x[0]==x[1]};return w.rebind(a,
f,"on")};var mi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Nd=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Od=aa.format=Vf.timeFormat,gg=Od.utc,hg=gg("%Y-%m-%dT%H:%M:%S.%LZ");Od.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Hd:hg;Hd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Hd.toString=hg.toString;aa.second=ib(function(a){return new wa(1E3*Math.floor(a/1E3))},function(a,
b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});aa.seconds=aa.second.range;aa.seconds.utc=aa.second.utc.range;aa.minute=ib(function(a){return new wa(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});aa.minutes=aa.minute.range;aa.minutes.utc=aa.minute.utc.range;aa.hour=ib(function(a){var b=a.getTimezoneOffset()/60;return new wa(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*
Math.floor(b))},function(a){return a.getHours()});aa.hours=aa.hour.range;aa.hours.utc=aa.hour.utc.range;aa.month=ib(function(a){a=aa.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});aa.months=aa.month.range;aa.months.utc=aa.month.utc.range;var vc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Pd=[[aa.second,1],[aa.second,5],[aa.second,15],[aa.second,30],[aa.minute,1],[aa.minute,5],[aa.minute,
15],[aa.minute,30],[aa.hour,1],[aa.hour,3],[aa.hour,6],[aa.hour,12],[aa.day,1],[aa.day,2],[aa.week,1],[aa.month,1],[aa.month,3],[aa.year,1]],ni=Od.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",ub]]),Oh={range:function(a,
b,e){return w.range(Math.ceil(a/e)*e,+b,e).map(pb)},floor:ta,ceil:ta};Pd.year=aa.year;aa.scale=function(){return Id(w.scale.linear(),Pd,ni)};var ig=Pd.map(function(a){return[a[0].utc,a[1]]}),oi=gg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],
["%B",function(a){return a.getUTCMonth()}],["%Y",ub]]);ig.year=aa.year.utc;aa.scale.utc=function(){return Id(w.scale.linear(),ig,oi)};w.text=Xc(function(a){return a.responseText});w.json=function(a,b){return Vb(a,"application/json",Ph,b)};w.html=function(a,b){return Vb(a,"text/html",Qh,b)};w.xml=Xc(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(w):"object"===typeof module&&module.exports?module.exports=w:this.d3=w}();
(function(){function W(a,b){return(new Date(b,a+1,0)).getDate()}var s=window.nv||{};s.version="1.1.15b";s.dev=!0;window.nv=s;s.tooltip=s.tooltip||{};s.utils=s.utils||{};s.models=s.models||{};s.charts={};s.graphs=[];s.logs={};s.dispatch=d3.dispatch("render_start","render_end");s.dev&&(s.dispatch.on("render_start",function(a){s.logs.startTime=+new Date}),s.dispatch.on("render_end",function(a){s.logs.endTime=+new Date;s.logs.totalTime=s.logs.endTime-s.logs.startTime;s.log("total",s.logs.totalTime)}));
s.log=function(){s.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):s.dev&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};s.render=function(a){a=a||1;s.render.active=!0;s.dispatch.render_start();setTimeout(function(){for(var b,r,A=0;A<a&&(r=s.render.queue[A]);A++)b=r.generate(),typeof r.callback==typeof Function&&r.callback(b),s.graphs.push(b);s.render.queue.splice(0,
A);s.render.queue.length?setTimeout(arguments.callee,0):(s.dispatch.render_end(),s.render.active=!1)},0)};s.render.active=!1;s.render.queue=[];s.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});s.render.queue.push(a);s.render.active||s.render()};s.identity=function(a){return a};s.strip=function(a){return a.replace(/(\s|&)/g,"")};d3.time.monthEnd=function(a){return new Date(a.getFullYear(),a.getMonth(),0)};d3.time.monthEnds=function(a,b,r){return function(s,h,m){var f=
a(s),v=[];f<s&&b(f);if(1<m)for(;f<h;)s=new Date(+f),0===r(s)%m&&v.push(s),b(f);else for(;f<h;)v.push(new Date(+f)),b(f);return v}}(d3.time.monthEnd,function(a){a.setUTCDate(a.getUTCDate()+1);a.setDate(W(a.getMonth()+1,a.getFullYear()))},function(a){return a.getMonth()});s.interactiveGuideline=function(){function a(F){F.each(function(B){function H(){var q=d3.mouse(this),r=q[0],q=q[1],z=!0,s=!1;J&&(r=d3.event.offsetX,q=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(z=!1),d3.event.target.className.baseVal.match("nv-legend")&&
(s=!0));z&&(r-=h.left,q-=h.top);0>r||0>q||r>L||q>S||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||s?J&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(b.nvPointerEventsClass)||(f.elementMouseout({mouseX:r,mouseY:q}),a.renderGuideLine(null)):(z=m.invert(r),f.elementMousemove({mouseX:r,mouseY:q,pointXValue:z}),"dblclick"===d3.event.type&&f.elementDblclick({mouseX:r,mouseY:q,pointXValue:z}))}var D=d3.select(this),
L=r||960,S=A||400,z=D.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([B]);z.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");q&&(q.on("mousemove",H,!0).on("mouseout",H,!0).on("dblclick",H),a.renderGuideLine=function(a){v&&(a=z.select(".nv-interactiveGuideLine").selectAll("line").data(null!=a?[s.utils.NaNtoZero(a)]:[],String),a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",
function(a){return a}).attr("y1",S).attr("y2",0),a.exit().remove())})})}var b=s.models.tooltip(),r=null,A=null,h={left:0,top:0},m=d3.scale.linear();d3.scale.linear();var f=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),v=!0,q=null,J=-1!==navigator.userAgent.indexOf("MSIE");a.dispatch=f;a.tooltip=b;a.margin=function(b){if(!arguments.length)return h;h.top="undefined"!=typeof b.top?b.top:h.top;h.left="undefined"!=typeof b.left?b.left:h.left;return a};a.width=function(b){if(!arguments.length)return r;
r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return m;m=b;return a};a.showGuideLine=function(b){if(!arguments.length)return v;v=b;return a};a.svgContainer=function(b){if(!arguments.length)return q;q=b;return a};return a};s.interactiveBisect=function(a,b,r){if(!a instanceof Array)return null;"function"!==typeof r&&(r=function(a,b){return a.x});var s=d3.bisector(r).left,s=d3.max([0,s(a,b)-1]),h=r(a[s],s);"undefined"===typeof h&&
(h=s);if(h===b)return s;var m=d3.min([s+1,a.length-1]);a=r(a[m],m);"undefined"===typeof a&&(a=m);return Math.abs(a-b)>=Math.abs(h-b)?s:m};s.nearestValueIndex=function(a,b,r){var s=Infinity,h=null;a.forEach(function(a,f){var v=Math.abs(b-a);v<=s&&v<r&&(s=v,h=f)});return h};(function(){window.nv.tooltip={};window.nv.models.tooltip=function(){function a(){if(B){var b;b=r&&r.series&&0<r.series.length?!0:!1;if(b){if(q){b=d3.select(q);"svg"!==b.node().tagName&&(b=b.select("svg"));var D=b.node()?b.attr("viewBox"):
null;D&&(D=D.split(" "),b=parseInt(b.style("width"))/D[2],F.left*=b,F.top*=b)}b=F.left;var D=null!=f?f:F.top,L;L=S(r);var I;I=q?d3.select(q):d3.select("body");var O=I.select(".nvtooltip");null===O.node()&&(O=I.append("div").attr("class","nvtooltip "+(v?v:"xy-tooltip")).attr("id",H));O.node().innerHTML=L;O.style("top",0).style("left",0).style("opacity",0);O.selectAll("div, table, td, tr").classed("nv-pointer-events-none",!0);O.classed("nv-pointer-events-none",!0);J=L=O.node();if(q){(O=q.getElementsByTagName("svg")[0])?
O.getBoundingClientRect():q.getBoundingClientRect();var N=0;I=0;if(O){O=O.getBoundingClientRect();N=q.getBoundingClientRect();I=O.top;if(0>I){var M=q.getBoundingClientRect();I=Math.abs(I)>M.height?0:I}I=Math.abs(I-N.top);N=Math.abs(O.left-N.left)}b+=q.offsetLeft+N-2*q.scrollLeft;D+=q.offsetTop+I-2*q.scrollTop}m&&0<m&&(D=Math.floor(D/m)*m);s.tooltip.calcTooltipPosition([b,D],A,h,L);return a}}}var b=null,r=null,A="w",h=50,m=25,f=null,v=null,q=null,J=null,F={left:null,top:null},B=!0,H="nvtooltip-"+Math.floor(1E5*
Math.random()),D=function(a,b){return a},L=function(a){return a},S=function(a){if(null!=b)return b;if(null==a)return"";var f=d3.select(document.createElement("table"));f.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(L(a.value));var h=f.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});
h.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color});h.append("td").classed("key",!0).html(function(a){return a.key});h.append("td").classed("value",!0).html(function(a,b){return D(a.value,b)});h.selectAll("td").each(function(a){a.highlight&&(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",a(.6)).style("border-top-color",a(.6)))});f=f.node().outerHTML;void 0!==a.footer&&(f+="<div class='footer'>"+
a.footer+"</div>");return f};a.nvPointerEventsClass="nv-pointer-events-none";a.content=function(f){if(!arguments.length)return b;b=f;return a};a.tooltipElem=function(){return J};a.contentGenerator=function(b){if(!arguments.length)return S;"function"===typeof b&&(S=b);return a};a.data=function(b){if(!arguments.length)return r;r=b;return a};a.gravity=function(b){if(!arguments.length)return A;A=b;return a};a.distance=function(b){if(!arguments.length)return h;h=b;return a};a.snapDistance=function(b){if(!arguments.length)return m;
m=b;return a};a.classes=function(b){if(!arguments.length)return v;v=b;return a};a.chartContainer=function(b){if(!arguments.length)return q;q=b;return a};a.position=function(b){if(!arguments.length)return F;F.left="undefined"!==typeof b.left?b.left:F.left;F.top="undefined"!==typeof b.top?b.top:F.top;return a};a.fixedTop=function(b){if(!arguments.length)return f;f=b;return a};a.enabled=function(b){if(!arguments.length)return B;B=b;return a};a.valueFormatter=function(b){if(!arguments.length)return D;
"function"===typeof b&&(D=b);return a};a.headerFormatter=function(b){if(!arguments.length)return L;"function"===typeof b&&(L=b);return a};a.id=function(){return H};return a};s.tooltip.show=function(a,b,r,A,h,m){var f=document.createElement("div");f.className="nvtooltip "+(m?m:"xy-tooltip");m=h;if(!h||h.tagName.match(/g|svg/i))m=document.getElementsByTagName("body")[0];f.style.left=0;f.style.top=0;f.style.opacity=0;f.innerHTML=b;m.appendChild(f);h&&(a[0]-=h.scrollLeft,a[1]-=h.scrollTop);s.tooltip.calcTooltipPosition(a,
r,A,f)};s.tooltip.findFirstNonSVGParent=function(a){for(;null!==a.tagName.match(/^g|svg$/i);)a=a.parentNode;return a};s.tooltip.findTotalOffsetTop=function(a,b){var r=b;do isNaN(a.offsetTop)||(r+=a.offsetTop);while(a=a.offsetParent);return r};s.tooltip.findTotalOffsetLeft=function(a,b){var r=b;do isNaN(a.offsetLeft)||(r+=a.offsetLeft);while(a=a.offsetParent);return r};s.tooltip.calcTooltipPosition=function(a,b,r,A){var h=parseInt(A.offsetHeight),m=parseInt(A.offsetWidth),f=s.utils.windowSize().width,
v=s.utils.windowSize().height,q=window.pageYOffset,J=window.pageXOffset,F,B,v=window.innerWidth>=document.body.scrollWidth?v:v-16,f=window.innerHeight>=document.body.scrollHeight?f:f-16;r=r||20;var H=function(a){return s.tooltip.findTotalOffsetTop(a,B)},D=function(a){return s.tooltip.findTotalOffsetLeft(a,F)};switch(b||"s"){case "e":F=a[0]-m-r;B=a[1]-h/2;b=D(A);H=H(A);b<J&&(F=a[0]+r>J?a[0]+r:J-b+F);H<q&&(B=q-H+B);H+h>q+v&&(B=q+v-H+B-h);break;case "w":F=a[0]+r;B=a[1]-h/2;b=D(A);H=H(A);b+m>f&&(F=a[0]-
m-r);H<q&&(B=q+5);H+h>q+v&&(B=q+v-H+B-h);break;case "n":F=a[0]-m/2-5;B=a[1]+r;b=D(A);H=H(A);b<J&&(F=J+5);b+m>f&&(F=F-m/2+5);H+h>q+v&&(B=q+v-H+B-h);break;case "s":F=a[0]-m/2;B=a[1]-h-r;b=D(A);H=H(A);b<J&&(F=J+5);b+m>f&&(F=F-m/2+5);q>H&&(B=q);break;case "none":F=a[0],B=a[1]-r,b=D(A),H=H(A)}A.style.left=F+"px";A.style.top=B+"px";A.style.opacity=1;A.style.position="absolute";return A};s.tooltip.cleanup=function(){for(var a=document.getElementsByClassName("nvtooltip"),b=[];a.length;)b.push(a[0]),a[0].style.transitionDelay=
"0 !important",a[0].style.opacity=0,a[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;b.length;){var a=b.pop();a.parentNode.removeChild(a)}},500)}})();s.utils.windowSize=function(){var a={width:640,height:480};document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight);
window.innerWidth&&window.innerHeight&&(a.width=window.innerWidth,a.height=window.innerHeight);return a};s.utils.windowResize=function(a){if(void 0!==a){var b=window.onresize;window.onresize=function(r){"function"==typeof b&&b(r);a(r)}}};s.utils.getColor=function(a){return arguments.length?"[object Array]"===Object.prototype.toString.call(a)?function(b,r){return b.color||a[r%a.length]}:a:s.utils.defaultColor()};s.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(b,
r){return b.color||a[r%a.length]}};s.utils.customTheme=function(a,b,r){b=b||function(a){return a.key};r=r||d3.scale.category20().range();var s=r.length;return function(h,m){var f=b(h);s||(s=r.length);return"undefined"!==typeof a[f]?"function"===typeof a[f]?a[f]():a[f]:r[--s]}};s.utils.pjax=function(a,b){function r(r){d3.html(r,function(h){var m=d3.select(b).node();m.parentNode.replaceChild(d3.select(h).select(b).node(),m);s.utils.pjax(a,b)})}d3.selectAll(a).on("click",function(){history.pushState(this.href,
this.textContent,this.href);r(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})};s.utils.calcApproxTextWidth=function(a){if("function"===typeof a.style&&"function"===typeof a.text){var b=parseInt(a.style("font-size").replace("px",""));return a.text().length*b*.5}return 0};s.utils.NaNtoZero=function(a){return"number"!==typeof a||isNaN(a)||null===a||Infinity===a?0:a};s.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,r){if("function"===
typeof this[a])this[a](r)}.bind(this));return this};s.models.axis=function(){function a(h){h.each(function(a){a=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var h=a.select("g");null!==D?b.ticks(D):"top"!=b.orient()&&"bottom"!=b.orient()||b.ticks(Math.abs(m.range()[1]-m.range()[0])/100);h.transition().call(b);S=S||b.scale();var s=b.tickFormat();null==s&&(s=S.tickFormat());var z=h.selectAll("text.nv-axislabel").data([f||
null]);z.exit().remove();switch(b.orient()){case "top":z.enter().append("text").attr("class","nv-axislabel");var N=2==m.range().length?m.range()[1]:m.range()[m.range().length-1]+(m.range()[1]-m.range()[0]);z.attr("text-anchor","middle").attr("y",0).attr("x",N/2);v&&(N=a.selectAll("g.nv-axisMaxMin").data(m.domain()),N.enter().append("g").attr("class","nv-axisMaxMin").append("text"),N.exit().remove(),N.attr("transform",function(a,b){return"translate("+m(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",
-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){var f=s(a);return(""+f).match("NaN")?"":f}),N.transition().attr("transform",function(a,b){return"translate("+m.range()[b]+",0)"}));break;case "bottom":var M=36,t=30,C=h.selectAll("g").select("text");J%360&&(C.each(function(a,b){var f=this.getBBox().width;f>t&&(t=f)}),N=Math.abs(Math.sin(J*Math.PI/180)),M=(N?N*t:t)+30,C.attr("transform",function(a,b,f){return"rotate("+J+" 0,0)"}).style("text-anchor",0<J%360?"start":"end"));z.enter().append("text").attr("class",
"nv-axislabel");N=2==m.range().length?m.range()[1]:m.range()[m.range().length-1]+(m.range()[1]-m.range()[0]);z.attr("text-anchor","middle").attr("y",M).attr("x",N/2);v&&(N=a.selectAll("g.nv-axisMaxMin").data([m.domain()[0],m.domain()[m.domain().length-1]]),N.enter().append("g").attr("class","nv-axisMaxMin").append("text"),N.exit().remove(),N.attr("transform",function(a,b){return"translate("+(m(a)+(H?m.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",
function(a,b,f){return"rotate("+J+" 0,0)"}).style("text-anchor",J?0<J%360?"start":"end":"middle").text(function(a,b){var f=s(a);return(""+f).match("NaN")?"":f}),N.transition().attr("transform",function(a,b){return"translate("+(m(a)+(H?m.rangeBand()/2:0))+",0)"}));B&&C.attr("transform",function(a,b){return"translate(0,"+(0==b%2?"0":"12")+")"});break;case "right":z.enter().append("text").attr("class","nv-axislabel");z.style("text-anchor",F?"middle":"begin").attr("transform",F?"rotate(90)":"").attr("y",
F?-Math.max(r.right,A)+12:-10).attr("x",F?m.range()[0]/2:b.tickPadding());v&&(N=a.selectAll("g.nv-axisMaxMin").data(m.domain()),N.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),N.exit().remove(),N.attr("transform",function(a,b){return"translate(0,"+m(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,b){var f=s(a);return(""+f).match("NaN")?"":f}),N.transition().attr("transform",function(a,
b){return"translate(0,"+m.range()[b]+")"}).select("text").style("opacity",1));break;case "left":z.enter().append("text").attr("class","nv-axislabel"),z.style("text-anchor",F?"middle":"end").attr("transform",F?"rotate(-90)":"").attr("y",F?-Math.max(r.left,A)+L:-10).attr("x",F?-m.range()[0]/2:-b.tickPadding()),v&&(N=a.selectAll("g.nv-axisMaxMin").data(m.domain()),N.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),N.exit().remove(),N.attr("transform",function(a,b){return"translate(0,"+
S(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){var f=s(a);return(""+f).match("NaN")?"":f}),N.transition().attr("transform",function(a,b){return"translate(0,"+m.range()[b]+")"}).select("text").style("opacity",1))}z.text(function(a){return a});!v||"left"!==b.orient()&&"right"!==b.orient()||(h.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1);if(m(a)<m.range()[1]+10||m(a)>m.range()[0]-10)(1E-10<
a||-1E-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),m.domain()[0]==m.domain()[1]&&0==m.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1}));if(v&&("top"===b.orient()||"bottom"===b.orient())){var E=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?E.push(m(a)-this.getBBox().width-4):E.push(m(a)+this.getBBox().width+4)}catch(f){b?E.push(m(a)-4):E.push(m(a)+4)}});h.selectAll("g").each(function(a,b){if(m(a)<E[0]||
m(a)>E[1])1E-10<a||-1E-10>a?d3.select(this).remove():d3.select(this).select("text").remove()})}q&&h.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a.__data__)/1E6)&&void 0!==a.__data__}).classed("zero",!0);S=m.copy()});return a}var b=d3.svg.axis(),r={top:0,right:0,bottom:0,left:0},A=75,h=60,m=d3.scale.linear(),f=null,v=!0,q=!0,J=0,F=!0,B=!1,H=!1,D=null,L=12;b.scale(m).orient("bottom").tickFormat(function(a){return a});var S;a.axis=b;d3.rebind(a,b,"orient","tickValues","tickSubdivide",
"tickSize","tickPadding","tickFormat");d3.rebind(a,m,"domain","range","rangeBand","rangeBands");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return r;r.top="undefined"!=typeof b.top?b.top:r.top;r.right="undefined"!=typeof b.right?b.right:r.right;r.bottom="undefined"!=typeof b.bottom?b.bottom:r.bottom;r.left="undefined"!=typeof b.left?b.left:r.left;return a};a.width=function(b){if(!arguments.length)return A;A=b;return a};a.ticks=function(b){if(!arguments.length)return D;
D=b;return a};a.height=function(b){if(!arguments.length)return h;h=b;return a};a.axisLabel=function(b){if(!arguments.length)return f;f=b;return a};a.showMaxMin=function(b){if(!arguments.length)return v;v=b;return a};a.highlightZero=function(b){if(!arguments.length)return q;q=b;return a};a.scale=function(f){if(!arguments.length)return m;m=f;b.scale(m);H="function"===typeof m.rangeBands;d3.rebind(a,m,"domain","range","rangeBand","rangeBands");return a};a.rotateYLabel=function(b){if(!arguments.length)return F;
F=b;return a};a.rotateLabels=function(b){if(!arguments.length)return J;J=b;return a};a.staggerLabels=function(b){if(!arguments.length)return B;B=b;return a};a.axisLabelDistance=function(b){if(!arguments.length)return L;L=b;return a};return a};s.models.historicalBar=function(){function a(O){O.each(function(a){var O=r-b.left-b.right,t=A-b.top-b.bottom,C=d3.select(this);m.domain(L||d3.extent(a[0].values.map(v).concat(J)));B?m.range(z||[.5*O/a[0].values.length,O*(a[0].values.length-.5)/a[0].values.length]):
m.range(z||[0,O]);f.domain(S||d3.extent(a[0].values.map(q).concat(F))).range(Q||[t,0]);m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1]));f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var E=C.selectAll("g.nv-wrap.nv-historicalBar-"+h).data([a[0].values]),u=E.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+
h),T=u.append("defs"),u=u.append("g"),R=E.select("g");u.append("g").attr("class","nv-bars");E.attr("transform","translate("+b.left+","+b.top+")");C.on("click",function(a,b){P.chartClick({data:a,index:b,pos:d3.event,id:h})});T.append("clipPath").attr("id","nv-chart-clip-path-"+h).append("rect");E.select("#nv-chart-clip-path-"+h+" rect").attr("width",O).attr("height",t);R.attr("clip-path",H?"url(#nv-chart-clip-path-"+h+")":"");t=E.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,
b){return v(a,b)});t.exit().remove();t.enter().append("rect").attr("x",0).attr("y",function(a,b){return s.utils.NaNtoZero(f(Math.max(0,q(a,b))))}).attr("height",function(a,b){return s.utils.NaNtoZero(Math.abs(f(q(a,b))-f(0)))}).attr("transform",function(b,f){return"translate("+(m(v(b,f))-O/a[0].values.length*.45)+",0)"}).on("mouseover",function(b,h){I&&(d3.select(this).classed("hover",!0),P.elementMouseover({point:b,series:a[0],pos:[m(v(b,h)),f(q(b,h))],pointIndex:h,seriesIndex:0,e:d3.event}))}).on("mouseout",
function(b,f){I&&(d3.select(this).classed("hover",!1),P.elementMouseout({point:b,series:a[0],pointIndex:f,seriesIndex:0,e:d3.event}))}).on("click",function(a,b){I&&(P.elementClick({value:q(a,b),data:a,index:b,pos:[m(v(a,b)),f(q(a,b))],e:d3.event,id:h}),d3.event.stopPropagation())}).on("dblclick",function(a,b){I&&(P.elementDblClick({value:q(a,b),data:a,index:b,pos:[m(v(a,b)),f(q(a,b))],e:d3.event,id:h}),d3.event.stopPropagation())});t.attr("fill",function(a,b){return D(a,b)}).attr("class",function(a,
b,f){return(0>q(a,b)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+f+"-"+b}).transition().attr("transform",function(b,f){return"translate("+(m(v(b,f))-O/a[0].values.length*.45)+",0)"}).attr("width",O/a[0].values.length*.9);t.transition().attr("y",function(a,b){var h=0>q(a,b)?f(0):1>f(0)-f(q(a,b))?f(0)-1:f(q(a,b));return s.utils.NaNtoZero(h)}).attr("height",function(a,b){return s.utils.NaNtoZero(Math.max(Math.abs(f(q(a,b))-f(0)),1))})});return a}var b={top:0,right:0,bottom:0,left:0},r=960,A=500,
h=Math.floor(1E4*Math.random()),m=d3.scale.linear(),f=d3.scale.linear(),v=function(a){return a.x},q=function(a){return a.y},J=[],F=[0],B=!1,H=!0,D=s.utils.defaultColor(),L,S,z,Q,P=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),I=!0;a.highlightPoint=function(a,b){d3.select(".nv-historicalBar-"+h).select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){d3.select(".nv-historicalBar-"+h).select(".nv-bars .nv-bar.hover").classed("hover",
!1)};a.dispatch=P;a.options=s.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};
a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return m;m=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return L;L=b;return a};a.yDomain=function(b){if(!arguments.length)return S;S=b;return a};a.xRange=function(b){if(!arguments.length)return z;z=b;return a};a.yRange=function(b){if(!arguments.length)return Q;Q=b;return a};a.forceX=function(b){if(!arguments.length)return J;
J=b;return a};a.forceY=function(b){if(!arguments.length)return F;F=b;return a};a.padData=function(b){if(!arguments.length)return B;B=b;return a};a.clipEdge=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return D;D=s.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return h;h=b;return a};a.interactive=function(b){if(!arguments.length)return I;I=!1;return a};return a};s.models.bullet=function(){function a(r){r.each(function(a,r){var s=
q-b.left-b.right,D=J-b.top-b.bottom,F=d3.select(this),I=h.call(this,a,r).slice().sort(d3.descending),O=m.call(this,a,r).slice().sort(d3.descending),N=f.call(this,a,r).slice().sort(d3.descending),M=(a.rangeLabels?a.rangeLabels:[]).slice(),t=(a.markerLabels?a.markerLabels:[]).slice(),C=(a.measureLabels?a.measureLabels:[]).slice(),E=d3.scale.linear().domain(d3.extent(d3.merge([v,I]))).range(A?[s,0]:[0,s]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(E.range());this.__chart__=E;var s=
d3.min(I),u=d3.max(I),I=I[1],F=F.selectAll("g.nv-wrap.nv-bullet").data([a]),T=F.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),R=F.select("g");T.append("rect").attr("class","nv-range nv-rangeMax");T.append("rect").attr("class","nv-range nv-rangeAvg");T.append("rect").attr("class","nv-range nv-rangeMin");T.append("rect").attr("class","nv-measure");T.append("path").attr("class","nv-markerTriangle");F.attr("transform","translate("+b.left+","+b.top+")");var T=function(a){return Math.abs(E(a)-
E(0))},U=function(a){return 0>a?E(a):E(0)};R.select("rect.nv-rangeMax").attr("height",D).attr("width",T(0<u?u:s)).attr("x",U(0<u?u:s)).datum(0<u?u:s);R.select("rect.nv-rangeAvg").attr("height",D).attr("width",T(I)).attr("x",U(I)).datum(I);R.select("rect.nv-rangeMin").attr("height",D).attr("width",T(u)).attr("x",U(u)).attr("width",T(0<u?s:u)).attr("x",U(0<u?s:u)).datum(0<u?s:u);R.select("rect.nv-measure").style("fill",B).attr("height",D/3).attr("y",D/3).attr("width",0>N?E(0)-E(N[0]):E(N[0])-E(0)).attr("x",
U(N)).on("mouseover",function(){H.elementMouseover({value:N[0],label:C[0]||"Current",pos:[E(N[0]),D/2]})}).on("mouseout",function(){H.elementMouseout({value:N[0],label:C[0]||"Current"})});s=D/6;if(O[0])R.selectAll("path.nv-markerTriangle").attr("transform",function(a){return"translate("+E(O[0])+","+D/2+")"}).attr("d","M0,"+s+"L"+s+","+-s+" "+-s+","+-s+"Z").on("mouseover",function(){H.elementMouseover({value:O[0],label:t[0]||"Previous",pos:[E(O[0]),D/2]})}).on("mouseout",function(){H.elementMouseout({value:O[0],
label:t[0]||"Previous"})});else R.selectAll("path.nv-markerTriangle").remove();F.selectAll(".nv-range").on("mouseover",function(a,b){H.elementMouseover({value:a,label:M[b]||(b?1==b?"Mean":"Minimum":"Maximum"),pos:[E(a),D/2]})}).on("mouseout",function(a,b){H.elementMouseout({value:a,label:M[b]||(b?1==b?"Mean":"Minimum":"Maximum")})})});return a}var b={top:0,right:0,bottom:0,left:0},r="left",A=!1,h=function(a){return a.ranges},m=function(a){return a.markers},f=function(a){return a.measures},v=[0],q=
380,J=30,F=null,B=s.utils.getColor(["#1f77b4"]),H=d3.dispatch("elementMouseover","elementMouseout");a.dispatch=H;a.options=s.utils.optionsFunc.bind(a);a.orient=function(b){if(!arguments.length)return r;r=b;A="right"==r||"bottom"==r;return a};a.ranges=function(b){if(!arguments.length)return h;h=b;return a};a.markers=function(b){if(!arguments.length)return m;m=b;return a};a.measures=function(b){if(!arguments.length)return f;f=b;return a};a.forceX=function(b){if(!arguments.length)return v;v=b;return a};
a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return J;J=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.tickFormat=function(b){if(!arguments.length)return F;F=b;return a};a.color=function(b){if(!arguments.length)return B;
B=s.utils.getColor(b);return a};return a};s.models.bulletChart=function(){function a(r){r.each(function(z,Q){var P=d3.select(this),I=(q||parseInt(P.style("width"))||960)-h.left-h.right,O=J-h.top-h.bottom,N=this;a.update=function(){a(r)};a.container=this;if(z&&m.call(this,z,Q))P.selectAll(".nv-noData").remove();else return P=P.selectAll(".nv-noData").data([D]),P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",h.left+I/2).attr("y",18+
h.top+O/2).text(function(a){return a}),a;var M=m.call(this,z,Q).slice().sort(d3.descending),t=f.call(this,z,Q).slice().sort(d3.descending),C=v.call(this,z,Q).slice().sort(d3.descending),E=P.selectAll("g.nv-wrap.nv-bulletChart").data([z]),u=E.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),P=E.select("g");u.append("g").attr("class","nv-bulletWrap");u.append("g").attr("class","nv-titles");E.attr("transform","translate("+h.left+","+h.top+")");var T=d3.scale.linear().domain([0,
Math.max(M[0],t[0],C[0])]).range(A?[I,0]:[0,I]),R=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(T.range());this.__chart__=T;M=u.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(J-h.top-h.bottom)/2+")");M.append("text").attr("class","nv-title").text(function(a){return a.title});M.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(I).height(O);M=P.select(".nv-bulletWrap");d3.transition(M).call(b);
var U=F||T.tickFormat(I/100),I=P.selectAll("g.nv-tick").data(T.ticks(I/50),function(a){return this.textContent||U(a)}),P=I.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+R(a)+",0)"}).style("opacity",1E-6);P.append("line").attr("y1",O).attr("y2",7*O/6);P.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*O/6).text(U);P=d3.transition(I).attr("transform",function(a){return"translate("+T(a)+",0)"}).style("opacity",1);P.select("line").attr("y1",
O).attr("y2",7*O/6);P.select("text").attr("y",7*O/6);d3.transition(I.exit()).attr("transform",function(a){return"translate("+T(a)+",0)"}).style("opacity",1E-6).remove();L.on("tooltipShow",function(b){b.key=z.title;if(B){var f=N.parentNode,m=b.pos[0]+(f.offsetLeft||0)+h.left,l=b.pos[1]+(f.offsetTop||0)+h.top,x=H(b.key,b.label,b.value,b,a);s.tooltip.show([m,l],x,0>b.value?"e":"w",null,f)}})});d3.timer.flush();return a}var b=s.models.bullet(),r="left",A=!1,h={top:5,right:40,bottom:20,left:120},m=function(a){return a.ranges},
f=function(a){return a.markers},v=function(a){return a.measures},q=null,J=55,F=null,B=!0,H=function(a,b,f,h,m){return"<h3>"+b+"</h3><p>"+f+"</p>"},D="No Data Available.",L=d3.dispatch("tooltipShow","tooltipHide");b.dispatch.on("elementMouseover.tooltip",function(a){L.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){L.tooltipHide(a)});L.on("tooltipHide",function(){B&&s.tooltip.cleanup()});a.dispatch=L;a.bullet=b;d3.rebind(a,b,"color");a.options=s.utils.optionsFunc.bind(a);a.orient=
function(b){if(!arguments.length)return r;r=b;A="right"==r||"bottom"==r;return a};a.ranges=function(b){if(!arguments.length)return m;m=b;return a};a.markers=function(b){if(!arguments.length)return f;f=b;return a};a.measures=function(b){if(!arguments.length)return v;v=b;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return J;J=b;return a};a.margin=function(b){if(!arguments.length)return h;h.top="undefined"!=typeof b.top?b.top:h.top;
h.right="undefined"!=typeof b.right?b.right:h.right;h.bottom="undefined"!=typeof b.bottom?b.bottom:h.bottom;h.left="undefined"!=typeof b.left?b.left:h.left;return a};a.tickFormat=function(b){if(!arguments.length)return F;F=b;return a};a.tooltips=function(b){if(!arguments.length)return B;B=b;return a};a.tooltipContent=function(b){if(!arguments.length)return H;H=b;return a};a.noData=function(b){if(!arguments.length)return D;D=b;return a};return a};s.models.cumulativeLineChart=function(){function a(l){l.each(function(l){function G(){W.data([V]);
var b=a.transitionDuration();a.transitionDuration(0);a.update();a.transitionDuration(b)}var ja=d3.select(this).classed("nv-chart-"+t,!0),ka=this,X=(F||parseInt(ja.style("width"))||960)-q.left-q.right,da=(B||parseInt(ja.style("height"))||400)-q.top-q.bottom;a.update=function(){ja.transition().duration(U).call(a)};a.container=this;C.disabled=l.map(function(a){return!!a.disabled});if(!E){var ea;E={};for(ea in C)E[ea]=C[ea]instanceof Array?C[ea].slice(0):C[ea]}ea=d3.behavior.drag().on("dragstart",function(b,
l){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(a,b){V.x=d3.event.x;V.i=Math.round(Z.invert(V.x));G()}).on("dragend",function(b,l){d3.select(a.container).style("cursor","auto");C.index=V.i;R.stateChange(C)});if(l&&l.length&&l.filter(function(a){return a.values.length}).length)ja.selectAll(".nv-noData").remove();else return ea=ja.selectAll(".nv-noData").data([u]),ea.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ea.attr("x",
q.left+X/2).attr("y",q.top+da/2).text(function(a){return a}),a;N=r.xScale();M=r.yScale();if(I)r.yDomain(null);else{var ba=l.filter(function(a){return!a.disabled}).map(function(a,b){var l=d3.extent(a.values,r.y());-.95>l[0]&&(l[0]=-.95);return[(l[0]-l[1])/(1+l[1]),(l[1]-l[0])/(1+l[0])]}),ba=[d3.min(ba,function(a){return a[0]}),d3.max(ba,function(a){return a[1]})];r.yDomain(ba)}Z.domain([0,l[0].values.length-1]).range([0,X]).clamp(!0);l=b(V.i,l);var $=P?"none":"all",la=ja.selectAll("g.nv-wrap.nv-cumulativeLine").data([l]),
ca=la.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),ba=la.select("g");ca.append("g").attr("class","nv-interactive");ca.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");ca.append("g").attr("class","nv-y nv-axis");ca.append("g").attr("class","nv-background");ca.append("g").attr("class","nv-linesWrap").style("pointer-events",$);ca.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");ca.append("g").attr("class","nv-legendWrap");
ca.append("g").attr("class","nv-controlsWrap");H&&(m.width(X),ba.select(".nv-legendWrap").datum(l).call(m),q.top!=m.height()&&(q.top=m.height(),da=(B||parseInt(ja.style("height"))||400)-q.top-q.bottom),ba.select(".nv-legendWrap").attr("transform","translate(0,"+-q.top+")"));Q&&($=[{key:"Re-scale y-axis",disabled:!I}],f.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),ba.select(".nv-controlsWrap").datum($).attr("transform","translate(0,"+-q.top+")").call(f));
la.attr("transform","translate("+q.left+","+q.top+")");S&&ba.select(".nv-y.nv-axis").attr("transform","translate("+X+",0)");$=l.filter(function(a){return a.tempDisabled});la.select(".tempDisabled").remove();$.length&&la.append("text").attr("class","tempDisabled").attr("x",X/2).attr("y","-.71em").style("text-anchor","end").text($.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");P&&(v.width(X).height(da).margin({left:q.left,top:q.top}).svgContainer(ja).xScale(N),
la.select(".nv-interactive").call(v));ca.select(".nv-background").append("rect");ba.select(".nv-background rect").attr("width",X).attr("height",da);r.y(function(a){return a.display.y}).width(X).height(da).color(l.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!l[b].disabled&&!l[b].tempDisabled}));la=ba.select(".nv-linesWrap").datum(l.filter(function(a){return!a.disabled&&!a.tempDisabled}));la.call(r);l.forEach(function(a,b){a.seriesIndex=b});ca=l.filter(function(a){return!a.disabled&&
!!T(a)});ca=ba.select(".nv-avgLinesWrap").selectAll("line").data(ca,function(a){return a.key});$=function(a){a=M(T(a));return 0>a?0:a>da?da:a};ca.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return r.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",X).attr("y1",$).attr("y2",$);ca.style("stroke-opacity",function(a){a=M(T(a));return 0>a||a>da?0:1}).attr("x1",0).attr("x2",X).attr("y1",$).attr("y2",$);ca.exit().remove();var W=la.selectAll(".nv-indexLine").data([V]);
W.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(ea);W.attr("transform",function(a){return"translate("+Z(a.i)+",0)"}).attr("height",da);D&&(A.scale(N).ticks(Math.min(l[0].values.length,X/70)).tickSize(-da,0),ba.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")"),d3.transition(ba.select(".nv-x.nv-axis")).call(A));L&&(h.scale(M).ticks(da/36).tickSize(-X,0),d3.transition(ba.select(".nv-y.nv-axis")).call(h));
ba.select(".nv-background rect").on("click",function(){V.x=d3.mouse(this)[0];V.i=Math.round(Z.invert(V.x));C.index=V.i;R.stateChange(C);G()});r.dispatch.on("elementClick",function(a){V.i=a.pointIndex;V.x=Z(V.i);C.index=V.i;R.stateChange(C);G()});f.dispatch.on("legendClick",function(b,l){b.disabled=!b.disabled;I=!b.disabled;C.rescaleY=I;R.stateChange(C);a.update()});m.dispatch.on("stateChange",function(b){C.disabled=b.disabled;R.stateChange(C);a.update()});v.dispatch.on("elementMousemove",function(b){r.clearHighlights();
var f,m,u,t=[];l.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(l,h){m=s.interactiveBisect(l.values,b.pointXValue,a.x());r.highlightPoint(h,m,!0);var x=l.values[m];"undefined"!==typeof x&&("undefined"===typeof f&&(f=x),"undefined"===typeof u&&(u=a.xScale()(a.x()(x,m))),t.push({key:l.key,value:a.y()(x,m),color:J(l,l.seriesIndex)}))});if(2<t.length){var C=a.yScale().invert(b.mouseY),E=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),C=s.nearestValueIndex(t.map(function(a){return a.value}),
C,E);null!==C&&(t[C].highlight=!0)}C=A.tickFormat()(a.x()(f,m),m);v.tooltip.position({left:u+q.left,top:b.mouseY+q.top}).chartContainer(ka.parentNode).enabled(z).valueFormatter(function(a,b){return h.tickFormat()(a)}).data({value:C,series:t})();v.renderGuideLine(u)});v.dispatch.on("elementMouseout",function(a){R.tooltipHide();r.clearHighlights()});R.on("tooltipShow",function(b){if(z){var l=ka.parentNode,f=b.pos[0]+(l.offsetLeft||0),m=b.pos[1]+(l.offsetTop||0),u=A.tickFormat()(r.x()(b.point,b.pointIndex)),
x=h.tickFormat()(r.y()(b.point,b.pointIndex));b=O(b.series.key,u,x,b,a);s.tooltip.show([f,m],b,null,null,l)}});R.on("changeState",function(b){"undefined"!==typeof b.disabled&&(l.forEach(function(a,l){a.disabled=b.disabled[l]}),C.disabled=b.disabled);"undefined"!==typeof b.index&&(V.i=b.index,V.x=Z(V.i),C.index=b.index,W.data([V]));"undefined"!==typeof b.rescaleY&&(I=b.rescaleY);a.update()})});return a}function b(a,b){return b.map(function(b,f){if(!b.values)return b;var h=b.values[a];if(null==h)return b;
var m=r.y()(h,a);if(-.95>m&&!G)return b.tempDisabled=!0,b;b.tempDisabled=!1;b.values=b.values.map(function(a,b){a.display={y:(r.y()(a,b)-m)/(1+m)};return a});return b})}var r=s.models.line(),A=s.models.axis(),h=s.models.axis(),m=s.models.legend(),f=s.models.legend(),v=s.interactiveGuideline(),q={top:30,right:30,bottom:50,left:60},J=s.utils.defaultColor(),F=null,B=null,H=!0,D=!0,L=!0,S=!1,z=!0,Q=!0,P=!1,I=!0,O=function(a,b,f,h,m){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},N,M,t=r.id(),C={index:0,
rescaleY:I},E=null,u="No Data Available.",T=function(a){return a.average},R=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),U=250,G=!1;A.orient("bottom").tickPadding(7);h.orient(S?"right":"left");f.updateState(!1);var Z=d3.scale.linear(),V={i:0,x:0};r.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];R.tooltipShow(a)});r.dispatch.on("elementMouseout.tooltip",function(a){R.tooltipHide(a)});R.on("tooltipHide",function(){z&&s.tooltip.cleanup()});
a.dispatch=R;a.lines=r;a.legend=m;a.xAxis=A;a.yAxis=h;a.interactiveLayer=v;d3.rebind(a,r,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left=
"undefined"!=typeof b.left?b.left:q.left;return a};a.width=function(b){if(!arguments.length)return F;F=b;return a};a.height=function(b){if(!arguments.length)return B;B=b;return a};a.color=function(b){if(!arguments.length)return J;J=s.utils.getColor(b);m.color(J);return a};a.rescaleY=function(b){if(!arguments.length)return I;I=b;return a};a.showControls=function(b){if(!arguments.length)return Q;Q=b;return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return P;P=b;!0===b&&(a.interactive(!1),
a.useVoronoi(!1));return a};a.showLegend=function(b){if(!arguments.length)return H;H=b;return a};a.showXAxis=function(b){if(!arguments.length)return D;D=b;return a};a.showYAxis=function(b){if(!arguments.length)return L;L=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return S;S=b;h.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return z;z=b;return a};a.tooltipContent=function(b){if(!arguments.length)return O;O=b;return a};a.state=function(b){if(!arguments.length)return C;
C=b;return a};a.defaultState=function(b){if(!arguments.length)return E;E=b;return a};a.noData=function(b){if(!arguments.length)return u;u=b;return a};a.average=function(b){if(!arguments.length)return T;T=b;return a};a.transitionDuration=function(b){if(!arguments.length)return U;U=b;return a};a.noErrorCheck=function(b){if(!arguments.length)return G;G=b;return a};return a};s.models.discreteBar=function(){function a(h){h.each(function(a){var h=r-b.left-b.right,t=A-b.top-b.bottom,s=d3.select(this);a.forEach(function(a,
b){a.values.forEach(function(a){a.series=b})});var E=D&&L?[]:a.map(function(a){return a.values.map(function(a,b){return{x:v(a,b),y:q(a,b),y0:a.y0}})});m.domain(D||d3.merge(E).map(function(a){return a.x})).rangeBands(S||[0,h],.1);f.domain(L||d3.extent(d3.merge(E).map(function(a){return a.y}).concat(J)));B?f.range(z||[t-(0>f.domain()[0]?12:0),0<f.domain()[1]?12:0]):f.range(z||[t,0]);I=I||f.copy().range([f(0),f(0)]);h=s.selectAll("g.nv-wrap.nv-discretebar").data([a]);t=h.enter().append("g").attr("class",
"nvd3 nv-wrap nv-discretebar").append("g");h.select("g");t.append("g").attr("class","nv-groups");h.attr("transform","translate("+b.left+","+b.top+")");h=h.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});h.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);h.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();h.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});
h.transition().style("stroke-opacity",1).style("fill-opacity",.75);h=h.selectAll("g.nv-bar").data(function(a){return a.values});h.exit().remove();t=h.enter().append("g").attr("transform",function(a,b,h){return"translate("+(m(v(a,b))+.05*m.rangeBand())+", "+f(0)+")"}).on("mouseover",function(b,h){d3.select(this).classed("hover",!0);Q.elementMouseover({value:q(b,h),point:b,series:a[b.series],pos:[m(v(b,h))+m.rangeBand()*(b.series+.5)/a.length,f(q(b,h))],pointIndex:h,seriesIndex:b.series,e:d3.event})}).on("mouseout",
function(b,f){d3.select(this).classed("hover",!1);Q.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,h){Q.elementClick({value:q(b,h),point:b,series:a[b.series],pos:[m(v(b,h))+m.rangeBand()*(b.series+.5)/a.length,f(q(b,h))],pointIndex:h,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,h){Q.elementDblClick({value:q(b,h),point:b,series:a[b.series],pos:[m(v(b,h))+m.rangeBand()*(b.series+
.5)/a.length,f(q(b,h))],pointIndex:h,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});t.append("rect").attr("height",0).attr("width",.9*m.rangeBand()/a.length);B?(t.append("text").attr("text-anchor","middle"),h.select("text").text(function(a,b){return H(q(a,b))}).transition().attr("x",.9*m.rangeBand()/2).attr("y",function(a,b){return 0>q(a,b)?f(q(a,b))-f(0)+12:-4})):h.selectAll("text").remove();h.attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":"nv-bar positive"}).style("fill",
function(a,b){return a.color||F(a,b)}).style("stroke",function(a,b){return a.color||F(a,b)}).select("rect").attr("class",P).transition().attr("width",.9*m.rangeBand()/a.length);h.transition().attr("transform",function(a,b){var h=m(v(a,b))+.05*m.rangeBand(),t=0>q(a,b)?f(0):1>f(0)-f(q(a,b))?f(0)-1:f(q(a,b));return"translate("+h+", "+t+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(f(q(a,b))-f(L&&L[0]||0))||1)});m.copy();I=f.copy()});return a}var b={top:0,right:0,bottom:0,
left:0},r=960,A=500,h=Math.floor(1E4*Math.random()),m=d3.scale.ordinal(),f=d3.scale.linear(),v=function(a){return a.x},q=function(a){return a.y},J=[0],F=s.utils.defaultColor(),B=!1,H=d3.format(",.2f"),D,L,S,z,Q=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),P="discreteBar",I;a.dispatch=Q;a.options=s.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=
function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return m;m=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;
return a};a.xDomain=function(b){if(!arguments.length)return D;D=b;return a};a.yDomain=function(b){if(!arguments.length)return L;L=b;return a};a.xRange=function(b){if(!arguments.length)return S;S=b;return a};a.yRange=function(b){if(!arguments.length)return z;z=b;return a};a.forceY=function(b){if(!arguments.length)return J;J=b;return a};a.color=function(b){if(!arguments.length)return F;F=s.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return h;h=b;return a};a.showValues=function(b){if(!arguments.length)return B;
B=b;return a};a.valueFormat=function(b){if(!arguments.length)return H;H=b;return a};a.rectClass=function(b){if(!arguments.length)return P;P=b;return a};return a};s.models.discreteBarChart=function(){function a(v){v.each(function(v){var I=d3.select(this),M=this,t=(m||parseInt(I.style("width"))||960)-h.left-h.right,C=(f||parseInt(I.style("height"))||400)-h.top-h.bottom;a.update=function(){Q.beforeUpdate();I.transition().duration(P).call(a)};a.container=this;if(v&&v.length&&v.filter(function(a){return a.values.length}).length)I.selectAll(".nv-noData").remove();
else return v=I.selectAll(".nv-noData").data([z]),v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",h.left+t/2).attr("y",h.top+C/2).text(function(a){return a}),a;L=b.xScale();S=b.yScale().clamp(!0);var E=I.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([v]),u=E.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),T=u.append("defs"),E=E.select("g");u.append("g").attr("class","nv-x nv-axis");u.append("g").attr("class",
"nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");u.append("g").attr("class","nv-barsWrap");E.attr("transform","translate("+h.left+","+h.top+")");F&&E.select(".nv-y.nv-axis").attr("transform","translate("+t+",0)");b.width(t).height(C);E.select(".nv-barsWrap").datum(v.filter(function(a){return!a.disabled})).transition().call(b);T.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");E.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",L.rangeBand()*(B?2:1)).attr("height",
16).attr("x",-L.rangeBand()/(B?1:2));q&&(r.scale(L).ticks(t/100).tickSize(-C,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+(S.range()[0]+(b.showValues()&&0>S.domain()[0]?16:0))+")"),E.select(".nv-x.nv-axis").transition().call(r),v=E.select(".nv-x.nv-axis").selectAll("g"),B&&v.selectAll("text").attr("transform",function(a,b,f){return"translate(0,"+(0==f%2?"5":"17")+")"}));J&&(A.scale(S).ticks(C/36).tickSize(-t,0),E.select(".nv-y.nv-axis").transition().call(A));E.select(".nv-zeroLine line").attr("x1",
0).attr("x2",t).attr("y1",S(0)).attr("y2",S(0));Q.on("tooltipShow",function(f){if(H){var h=M.parentNode,m=f.pos[0]+(h.offsetLeft||0),t=f.pos[1]+(h.offsetTop||0),u=r.tickFormat()(b.x()(f.point,f.pointIndex)),l=A.tickFormat()(b.y()(f.point,f.pointIndex)),u=D(f.series.key,u,l,f,a);s.tooltip.show([m,t],u,0>f.value?"n":"s",null,h)}})});return a}var b=s.models.discreteBar(),r=s.models.axis(),A=s.models.axis(),h={top:15,right:10,bottom:50,left:60},m=null,f=null,v=s.utils.getColor(),q=!0,J=!0,F=!1,B=!1,H=
!0,D=function(a,b,f,h,m){return"<h3>"+b+"</h3><p>"+f+"</p>"},L,S,z="No Data Available.",Q=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),P=250;r.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});A.orient(F?"right":"left").tickFormat(d3.format(",.1f"));b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+h.left,a.pos[1]+h.top];Q.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){Q.tooltipHide(a)});Q.on("tooltipHide",function(){H&&
s.tooltip.cleanup()});a.dispatch=Q;a.discretebar=b;a.xAxis=r;a.yAxis=A;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return h;h.top="undefined"!=typeof b.top?b.top:h.top;h.right="undefined"!=typeof b.right?b.right:h.right;h.bottom="undefined"!=typeof b.bottom?b.bottom:h.bottom;h.left="undefined"!=typeof b.left?b.left:h.left;return a};a.width=function(b){if(!arguments.length)return m;
m=b;return a};a.height=function(b){if(!arguments.length)return f;f=b;return a};a.color=function(f){if(!arguments.length)return v;v=s.utils.getColor(f);b.color(v);return a};a.showXAxis=function(b){if(!arguments.length)return q;q=b;return a};a.showYAxis=function(b){if(!arguments.length)return J;J=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return F;F=b;A.orient(b?"right":"left");return a};a.staggerLabels=function(b){if(!arguments.length)return B;B=b;return a};a.tooltips=function(b){if(!arguments.length)return H;
H=b;return a};a.tooltipContent=function(b){if(!arguments.length)return D;D=b;return a};a.noData=function(b){if(!arguments.length)return z;z=b;return a};a.transitionDuration=function(b){if(!arguments.length)return P;P=b;return a};return a};s.models.distribution=function(){function a(r){r.each(function(a){var r="x"==h?"y":"x",s=d3.select(this);q=q||v;a=s.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");s=a.select("g");a.attr("transform",
"translate("+b.left+","+b.top+")");a=s.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return f(a,b)});s=a.selectAll("line.nv-dist"+h).data(function(a){return a.values});s.enter().append("line").attr(h+"1",function(a,b){return q(m(a,b))}).attr(h+"2",function(a,b){return q(m(a,b))});a.exit().selectAll("line.nv-dist"+h).transition().attr(h+"1",function(a,b){return v(m(a,
b))}).attr(h+"2",function(a,b){return v(m(a,b))}).style("stroke-opacity",0).remove();s.attr("class",function(a,b){return"nv-dist"+h+" nv-dist"+h+"-"+b}).attr(r+"1",0).attr(r+"2",A);s.transition().attr(h+"1",function(a,b){return v(m(a,b))}).attr(h+"2",function(a,b){return v(m(a,b))});q=v.copy()});return a}var b={top:0,right:0,bottom:0,left:0},r=400,A=8,h="x",m=function(a){return a[h]},f=s.utils.defaultColor(),v=d3.scale.linear(),q;a.options=s.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.axis=function(b){if(!arguments.length)return h;h=b;return a};a.size=function(b){if(!arguments.length)return A;A=b;return a};a.getData=function(b){if(!arguments.length)return m;m=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return v;
v=b;return a};a.color=function(b){if(!arguments.length)return f;f=s.utils.getColor(b);return a};return a};s.models.historicalBarChart=function(){function a(M){M.each(function(t){var C=d3.select(this),E=this,u=(v||parseInt(C.style("width"))||960)-m.left-m.right,T=(q||parseInt(C.style("height"))||400)-m.top-m.bottom;a.update=function(){C.transition().duration(N).call(a)};a.container=this;Q.disabled=t.map(function(a){return!!a.disabled});if(!P){var R;P={};for(R in Q)P[R]=Q[R]instanceof Array?Q[R].slice(0):
Q[R]}if(t&&t.length&&t.filter(function(a){return a.values.length}).length)C.selectAll(".nv-noData").remove();else return R=C.selectAll(".nv-noData").data([I]),R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),R.attr("x",m.left+u/2).attr("y",m.top+T/2).text(function(a){return a}),a;S=b.xScale();z=b.yScale();var U=C.selectAll("g.nv-wrap.nv-historicalBarChart").data([t]);R=U.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");
var G=U.select("g");R.append("g").attr("class","nv-x nv-axis");R.append("g").attr("class","nv-y nv-axis");R.append("g").attr("class","nv-barsWrap");R.append("g").attr("class","nv-legendWrap");J&&(h.width(u),G.select(".nv-legendWrap").datum(t).call(h),m.top!=h.height()&&(m.top=h.height(),T=(q||parseInt(C.style("height"))||400)-m.top-m.bottom),U.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")"));U.attr("transform","translate("+m.left+","+m.top+")");H&&G.select(".nv-y.nv-axis").attr("transform",
"translate("+u+",0)");b.width(u).height(T).color(t.map(function(a,b){return a.color||f(a,b)}).filter(function(a,b){return!t[b].disabled}));G.select(".nv-barsWrap").datum(t.filter(function(a){return!a.disabled})).transition().call(b);F&&(r.scale(S).tickSize(-T,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+z.range()[0]+")"),G.select(".nv-x.nv-axis").transition().call(r));B&&(A.scale(z).ticks(T/36).tickSize(-u,0),G.select(".nv-y.nv-axis").transition().call(A));h.dispatch.on("legendClick",
function(b,f){b.disabled=!b.disabled;t.filter(function(a){return!a.disabled}).length||t.map(function(a){a.disabled=!1;U.selectAll(".nv-series").classed("disabled",!1);return a});Q.disabled=t.map(function(a){return!!a.disabled});O.stateChange(Q);M.transition().call(a)});h.dispatch.on("legendDblclick",function(b){t.forEach(function(a){a.disabled=!0});b.disabled=!1;Q.disabled=t.map(function(a){return!!a.disabled});O.stateChange(Q);a.update()});O.on("tooltipShow",function(f){if(D){var h=E.parentNode;
if(h){var l=d3.select(h).select("svg"),m=l.node()?l.attr("viewBox"):null;m&&(m=m.split(" "),l=parseInt(l.style("width"))/m[2],f.pos[0]*=l,f.pos[1]*=l)}var l=f.pos[0]+(h.offsetLeft||0),m=f.pos[1]+(h.offsetTop||0),t=r.tickFormat()(b.x()(f.point,f.pointIndex)),u=A.tickFormat()(b.y()(f.point,f.pointIndex));f=L(f.series.key,t,u,f,a);s.tooltip.show([l,m],f,null,null,h)}});O.on("changeState",function(b){"undefined"!==typeof b.disabled&&(t.forEach(function(a,l){a.disabled=b.disabled[l]}),Q.disabled=b.disabled);
a.update()})});return a}var b=s.models.historicalBar(),r=s.models.axis(),A=s.models.axis(),h=s.models.legend(),m={top:30,right:90,bottom:50,left:90},f=s.utils.defaultColor(),v=null,q=null,J=!1,F=!0,B=!0,H=!1,D=!0,L=function(a,b,f,h,m){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},S,z,Q={},P=null,I="No Data Available.",O=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),N=250;r.orient("bottom").tickPadding(7);A.orient(H?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+m.left,a.pos[1]+m.top];O.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){O.tooltipHide(a)});O.on("tooltipHide",function(){D&&s.tooltip.cleanup()});a.dispatch=O;a.bars=b;a.legend=h;a.xAxis=r;a.yAxis=A;d3.rebind(a,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive");a.options=s.utils.optionsFunc.bind(a);a.margin=
function(b){if(!arguments.length)return m;m.top="undefined"!=typeof b.top?b.top:m.top;m.right="undefined"!=typeof b.right?b.right:m.right;m.bottom="undefined"!=typeof b.bottom?b.bottom:m.bottom;m.left="undefined"!=typeof b.left?b.left:m.left;return a};a.width=function(b){if(!arguments.length)return v;v=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return f;f=s.utils.getColor(b);h.color(f);return a};a.showLegend=function(b){if(!arguments.length)return J;
J=b;return a};a.showXAxis=function(b){if(!arguments.length)return F;F=b;return a};a.showYAxis=function(b){if(!arguments.length)return B;B=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return H;H=b;A.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return D;D=b;return a};a.tooltipContent=function(b){if(!arguments.length)return L;L=b;return a};a.state=function(b){if(!arguments.length)return Q;Q=b;return a};a.defaultState=function(b){if(!arguments.length)return P;
P=b;return a};a.noData=function(b){if(!arguments.length)return I;I=b;return a};a.transitionDuration=function(b){if(!arguments.length)return N;N=b;return a};return a};s.models.indentedTree=function(){function a(b){b.each(function(b){function h(b,f,m){d3.event.stopPropagation();if(d3.event.shiftKey&&!m)return d3.event.shiftKey=!1,b.values&&b.values.forEach(function(a){(a.values||a._values)&&h(a,0,!0)}),!0;if(!s(b))return!0;b.values?(b._values=b.values,b.values=null):(b.values=b._values,b._values=null);
a.update()}function m(a){return a._values&&a._values.length?B:a.values&&a.values.length?H:""}function r(a){return a._values&&a._values.length}function s(a){return(a=a.values||a._values)&&a.length}var z=1,t=d3.select(this),C=d3.layout.tree().children(function(a){return a.values}).size([A,20]);a.update=function(){t.transition().duration(600).call(a)};b[0]||(b[0]={key:q});var z=C.nodes(b[0]),E=d3.select(this).selectAll("div").data([[z]]);b=E.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table");
E=E.select("table").attr("width","100%").attr("class",F);if(f){var u=b.append("thead").append("tr");J.forEach(function(a){u.append("th").attr("width",a.width?a.width:"10%").style("text-align","numeric"==a.type?"right":"left").append("span").text(a.label)})}b=E.selectAll("tbody").data(function(a){return a});b.enter().append("tbody");z=d3.max(z,function(a){return a.depth});C.size([A,20*z]);var T=b.selectAll("tr").data(function(a){return a.filter(function(a){return v&&!a.children?v(a):!0})},function(a,
b){return a.id||a.id||++S});T.exit().remove();T.select("img.nv-treeicon").attr("src",m).classed("folded",r);var R=T.enter().append("tr");J.forEach(function(a,b){var f=R.append("td").style("padding-left",function(a){return(b?0:20*a.depth+12+(m(a)?0:16))+"px"},"important").style("text-align","numeric"==a.type?"right":"left");if(0==b)f.append("img").classed("nv-treeicon",!0).classed("nv-folded",r).attr("src",m).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(a){return m(a)?
"inline-block":"none"}).on("click",h);f.each(function(f){!b&&L(f)?d3.select(this).append("a").attr("href",L).attr("class",d3.functor(a.classes)).append("span"):d3.select(this).append("span");d3.select(this).select("span").attr("class",d3.functor(a.classes)).text(function(b){return a.format?b[a.key]?a.format(b[a.key]):"-":b[a.key]||"-"})});a.showCount&&(f.append("span").attr("class","nv-childrenCount"),T.selectAll("span.nv-childrenCount").text(function(a){return a.values&&a.values.length||a._values&&
a._values.length?"("+(a.values&&a.values.filter(function(a){return v?v(a):!0}).length||a._values&&a._values.filter(function(a){return v?v(a):!0}).length||0)+")":""}))});T.order().on("click",function(a){D.elementClick({row:this,data:a,pos:[a.x,a.y]})}).on("dblclick",function(a){D.elementDblclick({row:this,data:a,pos:[a.x,a.y]})}).on("mouseover",function(a){D.elementMouseover({row:this,data:a,pos:[a.x,a.y]})}).on("mouseout",function(a){D.elementMouseout({row:this,data:a,pos:[a.x,a.y]})})});return a}
var b={top:0,right:0,bottom:0,left:0},r=960,A=500,h=s.utils.defaultColor(),m=Math.floor(1E4*Math.random()),f=!0,v=!1,q="No Data Available.",J=[{key:"key",label:"Name",type:"text"}],F=null,B="images/grey-plus.png",H="images/grey-minus.png",D=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),L=function(a){return a.url},S=0;a.options=s.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=
typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.color=function(b){if(!arguments.length)return h;h=s.utils.getColor(b);scatter.color(h);return a};a.id=function(b){if(!arguments.length)return m;m=b;return a};a.header=function(b){if(!arguments.length)return f;f=b;return a};a.noData=
function(b){if(!arguments.length)return q;q=b;return a};a.filterZero=function(b){if(!arguments.length)return v;v=b;return a};a.columns=function(b){if(!arguments.length)return J;J=b;return a};a.tableClass=function(b){if(!arguments.length)return F;F=b;return a};a.iconOpen=function(b){if(!arguments.length)return B;B=b;return a};a.iconClose=function(b){if(!arguments.length)return H;H=b;return a};a.getUrl=function(b){if(!arguments.length)return L;L=b;return a};return a};s.models.legend=function(){function a(B){B.each(function(a){var B=
r-b.left-b.right,L=d3.select(this).selectAll("g.nv-legend").data([a]);L.enter().append("g").attr("class","nvd3 nv-legend").append("g");var S=L.select("g");L.attr("transform","translate("+b.left+","+b.top+")");var L=S.selectAll(".nv-series").data(function(a){return a}),z=L.enter().append("g").attr("class","nv-series").on("mouseover",function(a,b){F.legendMouseover(a,b)}).on("mouseout",function(a,b){F.legendMouseout(a,b)}).on("click",function(b,f){F.legendClick(b,f);q&&(J?(a.forEach(function(a){a.disabled=
!0}),b.disabled=!1):(b.disabled=!b.disabled,a.every(function(a){return a.disabled})&&a.forEach(function(a){a.disabled=!1})),F.stateChange({disabled:a.map(function(a){return!!a.disabled})}))}).on("dblclick",function(b,f){F.legendDblclick(b,f);q&&(a.forEach(function(a){a.disabled=!0}),b.disabled=!1,F.stateChange({disabled:a.map(function(a){return!!a.disabled})}))});z.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);z.append("text").attr("text-anchor","start").attr("class",
"nv-legend-text").attr("dy",".32em").attr("dx","8");L.classed("disabled",function(a){return a.disabled});L.exit().remove();L.select("circle").style("fill",function(a,b){return a.color||m(a,b)}).style("stroke",function(a,b){return a.color||m(a,b)});L.select("text").text(h);if(f){var Q=[];L.each(function(a,b){var f=d3.select(this).select("text"),h;try{if(h=f.getComputedTextLength(),0>=h)throw Error();}catch(m){h=s.utils.calcApproxTextWidth(f)}Q.push(h+28)});for(var P=0,I=0,z=[];I<B&&P<Q.length;)z[P]=
Q[P],I+=Q[P++];for(0===P&&(P=1);I>B&&1<P;){z=[];P--;for(I=0;I<Q.length;I++)Q[I]>(z[I%P]||0)&&(z[I%P]=Q[I]);I=z.reduce(function(a,b,f,h){return a+b})}for(var O=[],N=B=0;B<P;B++)O[B]=N,N+=z[B];L.attr("transform",function(a,b){return"translate("+O[b%P]+","+(5+20*Math.floor(b/P))+")"});v?S.attr("transform","translate("+(r-b.right-I)+","+b.top+")"):S.attr("transform","translate(0,"+b.top+")");A=b.top+b.bottom+20*Math.ceil(Q.length/P)}else{var M=5,t=5,C=0,E;L.attr("transform",function(a,f){var h=d3.select(this).select("text").node().getComputedTextLength()+
28;E=t;r<b.left+b.right+E+h&&(t=E=5,M+=20);t+=h;t>C&&(C=t);return"translate("+E+","+M+")"});S.attr("transform","translate("+(r-b.right-C)+","+b.top+")");A=b.top+b.bottom+M+15}});return a}var b={top:5,right:0,bottom:5,left:0},r=400,A=20,h=function(a){return a.key},m=s.utils.defaultColor(),f=!0,v=!0,q=!0,J=!1,F=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");a.dispatch=F;a.options=s.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.key=function(b){if(!arguments.length)return h;h=b;return a};a.color=function(b){if(!arguments.length)return m;m=s.utils.getColor(b);return a};a.align=function(b){if(!arguments.length)return f;
f=b;return a};a.rightAlign=function(b){if(!arguments.length)return v;v=b;return a};a.updateState=function(b){if(!arguments.length)return q;q=b;return a};a.radioButtonMode=function(b){if(!arguments.length)return J;J=b;return a};return a};s.models.line=function(){function a(z){z.each(function(a){var z=A-r.left-r.right,I=h-r.top-r.bottom,O=d3.select(this);B=b.xScale();H=b.yScale();L=L||B;S=S||H;a=O.selectAll("g.nv-wrap.nv-line").data([a]);var N=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),
O=N.append("defs"),M=N.append("g"),N=a.select("g");M.append("g").attr("class","nv-groups");M.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+r.left+","+r.top+")");b.width(z).height(I);M=a.select(".nv-scatterWrap");M.transition().call(b);O.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",z).attr("height",0<I?I:0);N.attr("clip-path",F?"url(#nv-edge-clip-"+b.id()+")":"");M.attr("clip-path",F?"url(#nv-edge-clip-"+
b.id()+")":"");z=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});z.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);z.exit().remove();z.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return m(a,b)}).style("stroke",function(a,b){return m(a,b)});z.transition().style("stroke-opacity",1).style("fill-opacity",.5);I=z.selectAll("path.nv-area").data(function(a){return J(a)?
[a]:[]});I.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(D).defined(q).x(function(a,b){return s.utils.NaNtoZero(L(f(a,b)))}).y0(function(a,b){return s.utils.NaNtoZero(S(v(a,b)))}).y1(function(a,b){return S(0>=H.domain()[0]?0<=H.domain()[1]?0:H.domain()[1]:H.domain()[0])}).apply(this,[a.values])});z.exit().selectAll("path.nv-area").remove();I.transition().attr("d",function(a){return d3.svg.area().interpolate(D).defined(q).x(function(a,b){return s.utils.NaNtoZero(B(f(a,
b)))}).y0(function(a,b){return s.utils.NaNtoZero(H(v(a,b)))}).y1(function(a,b){return H(0>=H.domain()[0]?0<=H.domain()[1]?0:H.domain()[1]:H.domain()[0])}).apply(this,[a.values])});z=z.selectAll("path.nv-line").data(function(a){return[a.values]});z.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(D).defined(q).x(function(a,b){return s.utils.NaNtoZero(L(f(a,b)))}).y(function(a,b){return s.utils.NaNtoZero(S(v(a,b)))}));z.transition().attr("d",d3.svg.line().interpolate(D).defined(q).x(function(a,
b){return s.utils.NaNtoZero(B(f(a,b)))}).y(function(a,b){return s.utils.NaNtoZero(H(v(a,b)))}));L=B.copy();S=H.copy()});return a}var b=s.models.scatter(),r={top:0,right:0,bottom:0,left:0},A=960,h=500,m=s.utils.defaultColor(),f=function(a){return a.x},v=function(a){return a.y},q=function(a,b){return!isNaN(v(a,b))&&null!==v(a,b)},J=function(a){return a.area},F=!1,B,H,D="linear";b.size(16).sizeDomain([16,256]);var L,S;a.dispatch=b.dispatch;a.scatter=b;d3.rebind(a,b,"id","interactive","size","xScale",
"yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return r;r.top="undefined"!=typeof b.top?b.top:r.top;r.right="undefined"!=typeof b.right?b.right:r.right;r.bottom="undefined"!=typeof b.bottom?b.bottom:r.bottom;r.left="undefined"!=typeof b.left?b.left:r.left;return a};a.width=function(b){if(!arguments.length)return A;
A=b;return a};a.height=function(b){if(!arguments.length)return h;h=b;return a};a.x=function(h){if(!arguments.length)return f;f=h;b.x(h);return a};a.y=function(f){if(!arguments.length)return v;v=f;b.y(f);return a};a.clipEdge=function(b){if(!arguments.length)return F;F=b;return a};a.color=function(f){if(!arguments.length)return m;m=s.utils.getColor(f);b.color(m);return a};a.interpolate=function(b){if(!arguments.length)return D;D=b;return a};a.defined=function(b){if(!arguments.length)return q;q=b;return a};
a.isArea=function(b){if(!arguments.length)return J;J=d3.functor(b);return a};return a};s.models.lineChart=function(){function a(C){C.each(function(C){var u=d3.select(this),T=this,R=(q||parseInt(u.style("width"))||960)-f.left-f.right,U=(J||parseInt(u.style("height"))||400)-f.top-f.bottom;a.update=function(){u.transition().duration(t).call(a)};a.container=this;I.disabled=C.map(function(a){return!!a.disabled});if(!O){var G;O={};for(G in I)O[G]=I[G]instanceof Array?I[G].slice(0):I[G]}if(C&&C.length&&
C.filter(function(a){return a.values.length}).length)u.selectAll(".nv-noData").remove();else return G=u.selectAll(".nv-noData").data([N]),G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),G.attr("x",f.left+R/2).attr("y",f.top+U/2).text(function(a){return a}),a;Q=b.xScale();P=b.yScale();G=u.selectAll("g.nv-wrap.nv-lineChart").data([C]);var Z=G.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),V=G.select("g");Z.append("rect").style("opacity",
0);Z.append("g").attr("class","nv-x nv-axis");Z.append("g").attr("class","nv-y nv-axis");Z.append("g").attr("class","nv-linesWrap");Z.append("g").attr("class","nv-legendWrap");Z.append("g").attr("class","nv-interactive");V.select("rect").attr("width",R).attr("height",0<U?U:0);F&&(h.width(R),V.select(".nv-legendWrap").datum(C).call(h),f.top!=h.height()&&(f.top=h.height(),U=(J||parseInt(u.style("height"))||400)-f.top-f.bottom),G.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")"));
G.attr("transform","translate("+f.left+","+f.top+")");D&&V.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");L&&(m.width(R).height(U).margin({left:f.left,top:f.top}).svgContainer(u).xScale(Q),G.select(".nv-interactive").call(m));b.width(R).height(U).color(C.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!C[b].disabled}));V.select(".nv-linesWrap").datum(C.filter(function(a){return!a.disabled})).transition().call(b);B&&(r.scale(Q).ticks(R/100).tickSize(-U,0),V.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+P.range()[0]+")"),V.select(".nv-x.nv-axis").transition().call(r));H&&(A.scale(P).ticks(U/36).tickSize(-R,0),V.select(".nv-y.nv-axis").transition().call(A));h.dispatch.on("stateChange",function(b){I=b;M.stateChange(I);a.update()});m.dispatch.on("elementMousemove",function(l){b.clearHighlights();var h,t,q,u=[];C.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,m){t=s.interactiveBisect(f.values,l.pointXValue,a.x());b.highlightPoint(m,t,!0);var r=f.values[t];
"undefined"!==typeof r&&("undefined"===typeof h&&(h=r),"undefined"===typeof q&&(q=a.xScale()(a.x()(r,t))),u.push({key:f.key,value:a.y()(r,t),color:v(f,f.seriesIndex)}))});if(2<u.length){var G=a.yScale().invert(l.mouseY),z=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),G=s.nearestValueIndex(u.map(function(a){return a.value}),G,z);null!==G&&(u[G].highlight=!0)}G=r.tickFormat()(a.x()(h,t));m.tooltip.position({left:q+f.left,top:l.mouseY+f.top}).chartContainer(T.parentNode).enabled(S).valueFormatter(function(a,
b){return A.tickFormat()(a)}).data({value:G,series:u})();m.renderGuideLine(q)});m.dispatch.on("elementMouseout",function(a){M.tooltipHide();b.clearHighlights()});M.on("tooltipShow",function(f){if(S){var h=T.parentNode,m=f.pos[0]+(h.offsetLeft||0),t=f.pos[1]+(h.offsetTop||0),q=r.tickFormat()(b.x()(f.point,f.pointIndex)),u=A.tickFormat()(b.y()(f.point,f.pointIndex));f=z(f.series.key,q,u,f,a);s.tooltip.show([m,t],f,null,null,h)}});M.on("changeState",function(b){"undefined"!==typeof b.disabled&&C.length===
b.disabled.length&&(C.forEach(function(a,f){a.disabled=b.disabled[f]}),I.disabled=b.disabled);a.update()})});return a}var b=s.models.line(),r=s.models.axis(),A=s.models.axis(),h=s.models.legend(),m=s.interactiveGuideline(),f={top:30,right:20,bottom:50,left:60},v=s.utils.defaultColor(),q=null,J=null,F=!0,B=!0,H=!0,D=!1,L=!1,S=!0,z=function(a,b,f,h,m){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},Q,P,I={},O=null,N="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),
t=250;r.orient("bottom").tickPadding(7);A.orient(D?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];M.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){M.tooltipHide(a)});M.on("tooltipHide",function(){S&&s.tooltip.cleanup()});a.dispatch=M;a.lines=b;a.legend=h;a.xAxis=r;a.yAxis=A;a.interactiveLayer=m;d3.rebind(a,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY",
"interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return J;J=b;return a};a.color=
function(b){if(!arguments.length)return v;v=s.utils.getColor(b);h.color(v);return a};a.showLegend=function(b){if(!arguments.length)return F;F=b;return a};a.showXAxis=function(b){if(!arguments.length)return B;B=b;return a};a.showYAxis=function(b){if(!arguments.length)return H;H=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return D;D=b;A.orient(b?"right":"left");return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return L;L=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));
return a};a.tooltips=function(b){if(!arguments.length)return S;S=b;return a};a.tooltipContent=function(b){if(!arguments.length)return z;z=b;return a};a.state=function(b){if(!arguments.length)return I;I=b;return a};a.defaultState=function(b){if(!arguments.length)return O;O=b;return a};a.noData=function(b){if(!arguments.length)return N;N=b;return a};a.transitionDuration=function(b){if(!arguments.length)return t;t=b;return a};return a};s.models.linePlusBarChart=function(){function a(t){t.each(function(t){var E=
d3.select(this),u=this,B=(q||parseInt(E.style("width"))||960)-v.left-v.right,R=(J||parseInt(E.style("height"))||400)-v.top-v.bottom;a.update=function(){E.transition().call(a)};I.disabled=t.map(function(a){return!!a.disabled});if(!O){var F;O={};for(F in I)O[F]=I[F]instanceof Array?I[F].slice(0):I[F]}if(t&&t.length&&t.filter(function(a){return a.values.length}).length)E.selectAll(".nv-noData").remove();else return F=E.selectAll(".nv-noData").data([N]),F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy",
"-.7em").style("text-anchor","middle"),F.attr("x",v.left+B/2).attr("y",v.top+R/2).text(function(a){return a}),a;F=t.filter(function(a){return!a.disabled&&a.bar});var G=t.filter(function(a){return!a.bar});z=G.filter(function(a){return!a.disabled}).length&&G.filter(function(a){return!a.disabled})[0].values.length?b.xScale():r.xScale();Q=r.yScale();P=b.yScale();var Z=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([t]),V=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),
l=Z.select("g");V.append("g").attr("class","nv-x nv-axis");V.append("g").attr("class","nv-y1 nv-axis");V.append("g").attr("class","nv-y2 nv-axis");V.append("g").attr("class","nv-barsWrap");V.append("g").attr("class","nv-linesWrap");V.append("g").attr("class","nv-legendWrap");D&&(f.width(B/2),l.select(".nv-legendWrap").datum(t.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(f),v.top!=f.height()&&(v.top=
f.height(),R=(J||parseInt(E.style("height"))||400)-v.top-v.bottom),l.select(".nv-legendWrap").attr("transform","translate("+B/2+","+-v.top+")"));Z.attr("transform","translate("+v.left+","+v.top+")");b.width(B).height(R).color(t.map(function(a,b){return a.color||H(a,b)}).filter(function(a,b){return!t[b].disabled&&!t[b].bar}));r.width(B).height(R).color(t.map(function(a,b){return a.color||H(a,b)}).filter(function(a,b){return!t[b].disabled&&t[b].bar}));Z=l.select(".nv-barsWrap").datum(F.length?F:[{values:[]}]);
V=l.select(".nv-linesWrap").datum(G[0]&&!G[0].disabled?G:[{values:[]}]);d3.transition(Z).call(r);d3.transition(V).call(b);A.scale(z).ticks(B/100).tickSize(-R,0);l.select(".nv-x.nv-axis").attr("transform","translate(0,"+Q.range()[0]+")");d3.transition(l.select(".nv-x.nv-axis")).call(A);h.scale(Q).ticks(R/36).tickSize(-B,0);d3.transition(l.select(".nv-y1.nv-axis")).style("opacity",F.length?1:0).call(h);m.scale(P).ticks(R/36).tickSize(F.length?0:-B,0);l.select(".nv-y2.nv-axis").style("opacity",G.length?
1:0).attr("transform","translate("+B+",0)");d3.transition(l.select(".nv-y2.nv-axis")).call(m);f.dispatch.on("stateChange",function(b){I=b;M.stateChange(I);a.update()});M.on("tooltipShow",function(f){if(L){var l=u.parentNode,t=f.pos[0]+(l.offsetLeft||0),r=f.pos[1]+(l.offsetTop||0),q=A.tickFormat()(b.x()(f.point,f.pointIndex)),E=(f.series.bar?h:m).tickFormat()(b.y()(f.point,f.pointIndex)),q=S(f.series.key,q,E,f,a);s.tooltip.show([t,r],q,0>f.value?"n":"s",null,l)}});M.on("changeState",function(b){"undefined"!==
typeof b.disabled&&(t.forEach(function(a,f){a.disabled=b.disabled[f]}),I.disabled=b.disabled);a.update()})});return a}var b=s.models.line(),r=s.models.historicalBar(),A=s.models.axis(),h=s.models.axis(),m=s.models.axis(),f=s.models.legend(),v={top:30,right:60,bottom:50,left:60},q=null,J=null,F=function(a){return a.x},B=function(a){return a.y},H=s.utils.defaultColor(),D=!0,L=!0,S=function(a,b,f,h,m){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},z,Q,P,I={},O=null,N="No Data Available.",M=d3.dispatch("tooltipShow",
"tooltipHide","stateChange","changeState");r.padData(!0);b.clipEdge(!1).padData(!0);A.orient("bottom").tickPadding(7).highlightZero(!1);h.orient("left");m.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+v.left,a.pos[1]+v.top];M.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){M.tooltipHide(a)});r.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+v.left,a.pos[1]+v.top];M.tooltipShow(a)});r.dispatch.on("elementMouseout.tooltip",
function(a){M.tooltipHide(a)});M.on("tooltipHide",function(){L&&s.tooltip.cleanup()});a.dispatch=M;a.legend=f;a.lines=b;a.bars=r;a.xAxis=A;a.y1Axis=h;a.y2Axis=m;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=s.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return F;F=f;b.x(f);r.x(f);return a};a.y=function(f){if(!arguments.length)return B;B=f;b.y(f);r.y(f);return a};a.margin=function(b){if(!arguments.length)return v;v.top="undefined"!=typeof b.top?b.top:v.top;
v.right="undefined"!=typeof b.right?b.right:v.right;v.bottom="undefined"!=typeof b.bottom?b.bottom:v.bottom;v.left="undefined"!=typeof b.left?b.left:v.left;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return J;J=b;return a};a.color=function(b){if(!arguments.length)return H;H=s.utils.getColor(b);f.color(H);return a};a.showLegend=function(b){if(!arguments.length)return D;D=b;return a};a.tooltips=function(b){if(!arguments.length)return L;
L=b;return a};a.tooltipContent=function(b){if(!arguments.length)return S;S=b;return a};a.state=function(b){if(!arguments.length)return I;I=b;return a};a.defaultState=function(b){if(!arguments.length)return O;O=b;return a};a.noData=function(b){if(!arguments.length)return N;N=b;return a};return a};s.models.lineWithFocusChart=function(){function a(u){u.each(function(u){function R(){q.empty()||q.extent(O);da.data([q.empty()?Q.domain():O]).each(function(a,b){var f=Q(a[0])-S.range()[0],l=S.range()[1]-Q(a[1]);
d3.select(this).select(".left").attr("width",0>f?0:f);d3.select(this).select(".right").attr("x",Q(a[1])).attr("width",0>l?0:l)})}function U(){O=q.empty()?null:q.extent();var a=q.empty()?Q.domain():q.extent();1>=Math.abs(a[0]-a[1])||(C.brush({extent:a,brush:q}),R(),ka.select(".nv-focus .nv-linesWrap").datum(u.filter(function(a){return!a.disabled}).map(function(f,l){return{key:f.key,values:f.values.filter(function(f,l){return b.x()(f,l)>=a[0]&&b.x()(f,l)<=a[1]})}})).transition().duration(E).call(b),
ka.select(".nv-focus .nv-x.nv-axis").transition().duration(E).call(A),ka.select(".nv-focus .nv-y.nv-axis").transition().duration(E).call(h))}var G=d3.select(this),Z=this,V=(H||parseInt(G.style("width"))||960)-J.left-J.right,l=(D||parseInt(G.style("height"))||400)-J.top-J.bottom-L,x=L-F.top-F.bottom;a.update=function(){G.transition().duration(E).call(a)};a.container=this;if(u&&u.length&&u.filter(function(a){return a.values.length}).length)G.selectAll(".nv-noData").remove();else{var ia=G.selectAll(".nv-noData").data([t]);
ia.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");ia.attr("x",J.left+V/2).attr("y",J.top+l/2).text(function(a){return a});return a}S=b.xScale();z=b.yScale();Q=r.xScale();P=r.yScale();var ia=G.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([u]),ja=ia.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),ka=ia.select("g");ja.append("g").attr("class","nv-legendWrap");var X=ja.append("g").attr("class","nv-focus");
X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y nv-axis");X.append("g").attr("class","nv-linesWrap");ja=ja.append("g").attr("class","nv-context");ja.append("g").attr("class","nv-x nv-axis");ja.append("g").attr("class","nv-y nv-axis");ja.append("g").attr("class","nv-linesWrap");ja.append("g").attr("class","nv-brushBackground");ja.append("g").attr("class","nv-x nv-brush");I&&(v.width(V),ka.select(".nv-legendWrap").datum(u).call(v),J.top!=v.height()&&(J.top=v.height(),l=(D||
parseInt(G.style("height"))||400)-J.top-J.bottom-L),ka.select(".nv-legendWrap").attr("transform","translate(0,"+-J.top+")"));ia.attr("transform","translate("+J.left+","+J.top+")");b.width(V).height(l).color(u.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!u[b].disabled}));r.defined(b.defined()).width(V).height(x).color(u.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!u[b].disabled}));ka.select(".nv-context").attr("transform","translate(0,"+(l+J.bottom+
F.top)+")");ia=ka.select(".nv-context .nv-linesWrap").datum(u.filter(function(a){return!a.disabled}));d3.transition(ia).call(r);A.scale(S).ticks(V/100).tickSize(-l,0);h.scale(z).ticks(l/36).tickSize(-V,0);ka.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+l+")");q.x(Q).on("brush",function(){var b=a.transitionDuration();a.transitionDuration(0);U();a.transitionDuration(b)});O&&q.extent(O);var da=ka.select(".nv-brushBackground").selectAll("g").data([O||q.extent()]),l=da.enter().append("g");
l.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",x);l.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",x);l=ka.select(".nv-x.nv-brush").call(q);l.selectAll("rect").attr("height",x);l.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,f=x/3;return"M"+.5*b+","+f+"A6,6 0 0 "+a+" "+6.5*b+","+(f+6)+"V"+(2*f-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*f+"ZM"+2.5*b+","+(f+8)+"V"+(2*f-8)+"M"+4.5*b+","+(f+8)+"V"+(2*f-8)});U();m.scale(Q).ticks(V/
100).tickSize(-x,0);ka.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+P.range()[0]+")");d3.transition(ka.select(".nv-context .nv-x.nv-axis")).call(m);f.scale(P).ticks(x/36).tickSize(-V,0);d3.transition(ka.select(".nv-context .nv-y.nv-axis")).call(f);ka.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+P.range()[0]+")");v.dispatch.on("stateChange",function(b){a.update()});C.on("tooltipShow",function(f){if(N){var l=Z.parentNode,m=f.pos[0]+(l.offsetLeft||0),q=f.pos[1]+
(l.offsetTop||0),r=A.tickFormat()(b.x()(f.point,f.pointIndex)),u=h.tickFormat()(b.y()(f.point,f.pointIndex));f=M(f.series.key,r,u,f,a);s.tooltip.show([m,q],f,null,null,l)}})});return a}var b=s.models.line(),r=s.models.line(),A=s.models.axis(),h=s.models.axis(),m=s.models.axis(),f=s.models.axis(),v=s.models.legend(),q=d3.svg.brush(),J={top:30,right:30,bottom:30,left:60},F={top:0,right:30,bottom:20,left:60},B=s.utils.defaultColor(),H=null,D=null,L=100,S,z,Q,P,I=!0,O=null,N=!0,M=function(a,b,f,h,m){return"<h3>"+
a+"</h3><p>"+f+" at "+b+"</p>"},t="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","brush"),E=250;b.clipEdge(!0);r.interactive(!1);A.orient("bottom").tickPadding(5);h.orient("left");m.orient("bottom").tickPadding(5);f.orient("left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+J.left,a.pos[1]+J.top];C.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){C.tooltipHide(a)});C.on("tooltipHide",function(){N&&s.tooltip.cleanup()});a.dispatch=C;a.legend=
v;a.lines=b;a.lines2=r;a.xAxis=A;a.yAxis=h;a.x2Axis=m;a.y2Axis=f;d3.rebind(a,b,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id");a.options=s.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return b.x;b.x(f);r.x(f);return a};a.y=function(f){if(!arguments.length)return b.y;b.y(f);r.y(f);return a};a.margin=function(b){if(!arguments.length)return J;J.top="undefined"!=typeof b.top?b.top:J.top;J.right="undefined"!=
typeof b.right?b.right:J.right;J.bottom="undefined"!=typeof b.bottom?b.bottom:J.bottom;J.left="undefined"!=typeof b.left?b.left:J.left;return a};a.margin2=function(b){if(!arguments.length)return F;F=b;return a};a.width=function(b){if(!arguments.length)return H;H=b;return a};a.height=function(b){if(!arguments.length)return D;D=b;return a};a.height2=function(b){if(!arguments.length)return L;L=b;return a};a.color=function(b){if(!arguments.length)return B;B=s.utils.getColor(b);v.color(B);return a};a.showLegend=
function(b){if(!arguments.length)return I;I=b;return a};a.tooltips=function(b){if(!arguments.length)return N;N=b;return a};a.tooltipContent=function(b){if(!arguments.length)return M;M=b;return a};a.interpolate=function(f){if(!arguments.length)return b.interpolate();b.interpolate(f);r.interpolate(f);return a};a.noData=function(b){if(!arguments.length)return t;t=b;return a};a.xTickFormat=function(b){if(!arguments.length)return A.tickFormat();A.tickFormat(b);m.tickFormat(b);return a};a.yTickFormat=function(b){if(!arguments.length)return h.tickFormat();
h.tickFormat(b);f.tickFormat(b);return a};a.brushExtent=function(b){if(!arguments.length)return O;O=b;return a};a.transitionDuration=function(b){if(!arguments.length)return E;E=b;return a};return a};s.models.linePlusBarWithFocusChart=function(){function a(l){l.each(function(l){function ia(){H.empty()||H.extent(M);Da.data([H.empty()?u.domain():M]).each(function(a,b){var f=u(a[0])-u.range()[0],l=u.range()[1]-u(a[1]);d3.select(this).select(".left").attr("width",0>f?0:f);d3.select(this).select(".right").attr("x",
u(a[1])).attr("width",0>l?0:l)})}function ja(){M=H.empty()?null:H.extent();N=H.empty()?u.domain():H.extent();V.brush({extent:N,brush:H});ia();A.width(da).height(ea).color(l.map(function(a,b){return a.color||I(a,b)}).filter(function(a,b){return!l[b].disabled&&l[b].bar}));b.width(da).height(ea).color(l.map(function(a,b){return a.color||I(a,b)}).filter(function(a,b){return!l[b].disabled&&!l[b].bar}));var a=na.select(".nv-focus .nv-barsWrap").datum(la.length?la.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,
b){return A.x()(a,b)>=N[0]&&A.x()(a,b)<=N[1]})}}):[{values:[]}]),f=na.select(".nv-focus .nv-linesWrap").datum(ca[0].disabled?[{values:[]}]:ca.map(function(a,f){return{key:a.key,values:a.values.filter(function(a,f){return b.x()(a,f)>=N[0]&&b.x()(a,f)<=N[1]})}}));E=la.length?A.xScale():b.xScale();m.scale(E).ticks(da/100).tickSize(-ea,0);m.domain([Math.ceil(N[0]),Math.floor(N[1])]);na.select(".nv-x.nv-axis").transition().duration(0).call(m);a.transition().duration(0).call(A);f.transition().duration(0).call(b);
na.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+T.range()[0]+")");v.scale(T).ticks(ea/36).tickSize(-da,0);na.select(".nv-focus .nv-y1.nv-axis").style("opacity",la.length?1:0);q.scale(R).ticks(ea/36).tickSize(la.length?0:-da,0);na.select(".nv-focus .nv-y2.nv-axis").style("opacity",ca.length?1:0).attr("transform","translate("+E.range()[1]+",0)");na.select(".nv-focus .nv-y1.nv-axis").transition().duration(0).call(v);na.select(".nv-focus .nv-y2.nv-axis").transition().duration(0).call(q)}
var ka=d3.select(this),X=this,da=(S||parseInt(ka.style("width"))||960)-D.left-D.right,ea=(z||parseInt(ka.style("height"))||400)-D.top-D.bottom-100,ba=100-L.top-L.bottom;a.update=function(){ka.transition().duration(0).call(a)};a.container=this;if(l&&l.length&&l.filter(function(a){return a.values.length}).length)ka.selectAll(".nv-noData").remove();else{var $=ka.selectAll(".nv-noData").data([Z]);$.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");
$.attr("x",D.left+da/2).attr("y",D.top+ea/2).text(function(a){return a});return a}var la=l.filter(function(a){return!a.disabled&&a.bar}),ca=l.filter(function(a){return!a.bar});E=A.xScale();u=f.scale();T=A.yScale();R=b.yScale();U=h.yScale();G=r.yScale();var $=l.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:Q(a,b),y:P(a,b)}})}),W=l.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:Q(a,
b),y:P(a,b)}})});E.range([0,da]);u.domain(d3.extent(d3.merge($.concat(W)),function(a){return a.x})).range([0,da]);var $=ka.selectAll("g.nv-wrap.nv-linePlusBar").data([l]),W=$.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),na=$.select("g");W.append("g").attr("class","nv-legendWrap");var Ca=W.append("g").attr("class","nv-focus");Ca.append("g").attr("class","nv-x nv-axis");Ca.append("g").attr("class","nv-y1 nv-axis");Ca.append("g").attr("class","nv-y2 nv-axis");Ca.append("g").attr("class",
"nv-barsWrap");Ca.append("g").attr("class","nv-linesWrap");W=W.append("g").attr("class","nv-context");W.append("g").attr("class","nv-x nv-axis");W.append("g").attr("class","nv-y1 nv-axis");W.append("g").attr("class","nv-y2 nv-axis");W.append("g").attr("class","nv-barsWrap");W.append("g").attr("class","nv-linesWrap");W.append("g").attr("class","nv-brushBackground");W.append("g").attr("class","nv-x nv-brush");O&&(B.width(da/2),na.select(".nv-legendWrap").datum(l.map(function(a){a.originalKey=void 0===
a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(B),D.top!=B.height()&&(D.top=B.height(),ea=(z||parseInt(ka.style("height"))||400)-D.top-D.bottom-100),na.select(".nv-legendWrap").attr("transform","translate("+da/2+","+-D.top+")"));$.attr("transform","translate("+D.left+","+D.top+")");h.width(da).height(ba).color(l.map(function(a,b){return a.color||I(a,b)}).filter(function(a,b){return!l[b].disabled&&l[b].bar}));r.width(da).height(ba).color(l.map(function(a,
b){return a.color||I(a,b)}).filter(function(a,b){return!l[b].disabled&&!l[b].bar}));$=na.select(".nv-context .nv-barsWrap").datum(la.length?la:[{values:[]}]);W=na.select(".nv-context .nv-linesWrap").datum(ca[0].disabled?[{values:[]}]:ca);na.select(".nv-context").attr("transform","translate(0,"+(ea+D.bottom+L.top)+")");$.transition().call(h);W.transition().call(r);H.x(u).on("brush",ja);M&&H.extent(M);var Da=na.select(".nv-brushBackground").selectAll("g").data([M||H.extent()]),$=Da.enter().append("g");
$.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",ba);$.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",ba);$=na.select(".nv-x.nv-brush").call(H);$.selectAll("rect").attr("height",ba);$.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,f=ba/3;return"M"+.5*b+","+f+"A6,6 0 0 "+a+" "+6.5*b+","+(f+6)+"V"+(2*f-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*f+"ZM"+2.5*b+","+(f+8)+"V"+(2*f-8)+"M"+4.5*b+","+(f+8)+"V"+(2*f-8)});f.ticks(da/
100).tickSize(-ba,0);na.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+U.range()[0]+")");na.select(".nv-context .nv-x.nv-axis").transition().call(f);J.scale(U).ticks(ba/36).tickSize(-da,0);na.select(".nv-context .nv-y1.nv-axis").style("opacity",la.length?1:0).attr("transform","translate(0,"+u.range()[0]+")");na.select(".nv-context .nv-y1.nv-axis").transition().call(J);F.scale(G).ticks(ba/36).tickSize(la.length?0:-da,0);na.select(".nv-context .nv-y2.nv-axis").style("opacity",ca.length?
1:0).attr("transform","translate("+u.range()[1]+",0)");na.select(".nv-context .nv-y2.nv-axis").transition().call(F);B.dispatch.on("stateChange",function(b){a.update()});V.on("tooltipShow",function(f){if(t){var l=X.parentNode;N&&(f.pointIndex+=Math.ceil(N[0]));var h=f.pos[0]+(l.offsetLeft||0),r=f.pos[1]+(l.offsetTop||0),x=m.tickFormat()(b.x()(f.point,f.pointIndex)),u=(f.series.bar?v:q).tickFormat()(b.y()(f.point,f.pointIndex)),x=C(f.series.key,x,u,f,a);s.tooltip.show([h,r],x,0>f.value?"n":"s",null,
l)}});ja()});return a}var b=s.models.line(),r=s.models.line(),A=s.models.historicalBar(),h=s.models.historicalBar(),m=s.models.axis(),f=s.models.axis(),v=s.models.axis(),q=s.models.axis(),J=s.models.axis(),F=s.models.axis(),B=s.models.legend(),H=d3.svg.brush(),D={top:30,right:30,bottom:30,left:60},L={top:0,right:30,bottom:20,left:60},S=null,z=null,Q=function(a){return a.x},P=function(a){return a.y},I=s.utils.defaultColor(),O=!0,N,M=null,t=!0,C=function(a,b,f,h,m){return"<h3>"+a+"</h3><p>"+f+" at "+
b+"</p>"},E,u,T,R,U,G,Z="No Data Available.",V=d3.dispatch("tooltipShow","tooltipHide","brush");b.clipEdge(!0);r.interactive(!1);m.orient("bottom").tickPadding(5);v.orient("left");q.orient("right");f.orient("bottom").tickPadding(5);J.orient("left");F.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+D.left,a.pos[1]+D.top];V.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){V.tooltipHide(a)});A.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+D.left,a.pos[1]+D.top];V.tooltipShow(a)});A.dispatch.on("elementMouseout.tooltip",function(a){V.tooltipHide(a)});V.on("tooltipHide",function(){t&&s.tooltip.cleanup()});a.dispatch=V;a.legend=B;a.lines=b;a.lines2=r;a.bars=A;a.bars2=h;a.xAxis=m;a.x2Axis=f;a.y1Axis=v;a.y2Axis=q;a.y3Axis=J;a.y4Axis=F;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=s.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return Q;Q=f;b.x(f);A.x(f);return a};a.y=function(f){if(!arguments.length)return P;
P=f;b.y(f);A.y(f);return a};a.margin=function(b){if(!arguments.length)return D;D.top="undefined"!=typeof b.top?b.top:D.top;D.right="undefined"!=typeof b.right?b.right:D.right;D.bottom="undefined"!=typeof b.bottom?b.bottom:D.bottom;D.left="undefined"!=typeof b.left?b.left:D.left;return a};a.width=function(b){if(!arguments.length)return S;S=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.color=function(b){if(!arguments.length)return I;I=s.utils.getColor(b);B.color(I);
return a};a.showLegend=function(b){if(!arguments.length)return O;O=b;return a};a.tooltips=function(b){if(!arguments.length)return t;t=b;return a};a.tooltipContent=function(b){if(!arguments.length)return C;C=b;return a};a.noData=function(b){if(!arguments.length)return Z;Z=b;return a};a.brushExtent=function(b){if(!arguments.length)return M;M=b;return a};return a};s.models.multiBar=function(){function a(s){s.each(function(a){var s=r-b.left-b.right,E=A-b.top-b.bottom,U=d3.select(this);L&&a.length&&(L=
[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]);B&&(a=d3.layout.stack().offset(H).values(function(a){return a.values}).y(q)(!a.length&&L?L:a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});B&&a[0].values.map(function(b,f){var h=0,m=0;a.map(function(a){a=a.values[f];a.size=Math.abs(a.y);0>a.y?(a.y1=m,m-=a.size):(a.y1=a.size+h,h+=a.size)})});var G=P&&I?[]:a.map(function(a){return a.values.map(function(a,b){return{x:v(a,b),y:q(a,b),y0:a.y0,y1:a.y1}})});
h.domain(P||d3.merge(G).map(function(a){return a.x})).rangeBands(O||[0,s],M);m.domain(I||d3.extent(d3.merge(G).map(function(a){return B?0<a.y?a.y1:a.y1+a.y:a.y}).concat(J))).range(N||[E,0]);h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1]));m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));C=C||m;var U=U.selectAll("g.nv-wrap.nv-multibar").data([a]),
Z=U.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),G=Z.append("defs"),Z=Z.append("g"),V=U.select("g");Z.append("g").attr("class","nv-groups");U.attr("transform","translate("+b.left+","+b.top+")");G.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");U.select("#nv-edge-clip-"+f+" rect").attr("width",s).attr("height",E);V.attr("clip-path",F?"url(#nv-edge-clip-"+f+")":"");s=U.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});s.enter().append("g").style("stroke-opacity",
1E-6).style("fill-opacity",1E-6);s.exit().transition().selectAll("rect.nv-bar").delay(function(b,f){return f*Q/a[0].values.length}).attr("y",function(a){return B?C(a.y0):C(0)}).attr("height",0).remove();s.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return D(a,b)}).style("stroke",function(a,b){return D(a,b)});s.transition().style("stroke-opacity",1).style("fill-opacity",.75);s=s.selectAll("rect.nv-bar").data(function(b){return L&&
!a.length?L.values:b.values});s.exit().remove();s.enter().append("rect").attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,f,m){return B?0:m*h.rangeBand()/a.length}).attr("y",function(a){return C(B?a.y0:0)}).attr("height",0).attr("width",h.rangeBand()/(B?1:a.length)).attr("transform",function(a,b){return"translate("+h(v(a,b))+",0)"});s.style("fill",function(a,b,f){return D(a,f,b)}).style("stroke",function(a,b,f){return D(a,f,b)}).on("mouseover",function(b,
f){d3.select(this).classed("hover",!0);t.elementMouseover({value:q(b,f),point:b,series:a[b.series],pos:[h(v(b,f))+h.rangeBand()*(B?a.length/2:b.series+.5)/a.length,m(q(b,f)+(B?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);t.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,f){t.elementClick({value:q(b,f),point:b,series:a[b.series],pos:[h(v(b,f))+
h.rangeBand()*(B?a.length/2:b.series+.5)/a.length,m(q(b,f)+(B?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,f){t.elementDblClick({value:q(b,f),point:b,series:a[b.series],pos:[h(v(b,f))+h.rangeBand()*(B?a.length/2:b.series+.5)/a.length,m(q(b,f)+(B?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});s.attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",
function(a,b){return"translate("+h(v(a,b))+",0)"});S&&(z||(z=a.map(function(){return!0})),s.style("fill",function(a,b,f){return d3.rgb(S(a,b)).darker(z.map(function(a,b){return b}).filter(function(a,b){return!z[b]})[f]).toString()}).style("stroke",function(a,b,f){return d3.rgb(S(a,b)).darker(z.map(function(a,b){return b}).filter(function(a,b){return!z[b]})[f]).toString()}));B?s.transition().delay(function(b,f){return f*Q/a[0].values.length}).attr("y",function(a,b){return m(B?a.y1:0)}).attr("height",
function(a,b){return Math.max(Math.abs(m(a.y+(B?a.y0:0))-m(B?a.y0:0)),1)}).attr("x",function(b,f){return B?0:b.series*h.rangeBand()/a.length}).attr("width",h.rangeBand()/(B?1:a.length)):s.transition().delay(function(b,f){return f*Q/a[0].values.length}).attr("x",function(b,f){return b.series*h.rangeBand()/a.length}).attr("width",h.rangeBand()/a.length).attr("y",function(a,b){return 0>q(a,b)?m(0):1>m(0)-m(q(a,b))?m(0)-1:m(q(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(m(q(a,b))-m(0)),
1)||0});h.copy();C=m.copy()});return a}var b={top:0,right:0,bottom:0,left:0},r=960,A=500,h=d3.scale.ordinal(),m=d3.scale.linear(),f=Math.floor(1E4*Math.random()),v=function(a){return a.x},q=function(a){return a.y},J=[0],F=!0,B=!1,H="zero",D=s.utils.defaultColor(),L=!1,S=null,z,Q=1200,P,I,O,N,M=.1,t=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),C;a.dispatch=t;a.options=s.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};
a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return h;
h=b;return a};a.yScale=function(b){if(!arguments.length)return m;m=b;return a};a.xDomain=function(b){if(!arguments.length)return P;P=b;return a};a.yDomain=function(b){if(!arguments.length)return I;I=b;return a};a.xRange=function(b){if(!arguments.length)return O;O=b;return a};a.yRange=function(b){if(!arguments.length)return N;N=b;return a};a.forceY=function(b){if(!arguments.length)return J;J=b;return a};a.stacked=function(b){if(!arguments.length)return B;B=b;return a};a.stackOffset=function(b){if(!arguments.length)return H;
H=b;return a};a.clipEdge=function(b){if(!arguments.length)return F;F=b;return a};a.color=function(b){if(!arguments.length)return D;D=s.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return S;S=s.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return z;z=b;return a};a.id=function(b){if(!arguments.length)return f;f=b;return a};a.hideable=function(b){if(!arguments.length)return L;L=b;return a};a.delay=function(b){if(!arguments.length)return Q;Q=b;return a};
a.groupSpacing=function(b){if(!arguments.length)return M;M=b;return a};return a};s.models.multiBarChart=function(){function a(T){T.each(function(R){var T=d3.select(this),G=this,Z=(v||parseInt(T.style("width"))||960)-f.left-f.right,V=(q||parseInt(T.style("height"))||400)-f.top-f.bottom;a.update=function(){T.transition().duration(u).call(a)};a.container=this;M.disabled=R.map(function(a){return!!a.disabled});if(!t){var l;t={};for(l in M)t[l]=M[l]instanceof Array?M[l].slice(0):M[l]}if(R&&R.length&&R.filter(function(a){return a.values.length}).length)T.selectAll(".nv-noData").remove();
else return l=T.selectAll(".nv-noData").data([C]),l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",f.left+Z/2).attr("y",f.top+V/2).text(function(a){return a}),a;O=b.xScale();N=b.yScale();var x=T.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([R]),ia=x.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");l=x.select("g");ia.append("g").attr("class","nv-x nv-axis");ia.append("g").attr("class","nv-y nv-axis");
ia.append("g").attr("class","nv-barsWrap");ia.append("g").attr("class","nv-legendWrap");ia.append("g").attr("class","nv-controlsWrap");B&&(h.width(Z-(F?180:0)),b.barColor()&&R.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),l.select(".nv-legendWrap").datum(R).call(h),f.top!=h.height()&&(f.top=h.height(),V=(q||parseInt(T.style("height"))||400)-f.top-f.bottom),l.select(".nv-legendWrap").attr("transform","translate("+(F?180:0)+","+-f.top+")"));if(F){var ja=[{key:"Grouped",disabled:b.stacked()},
{key:"Stacked",disabled:!b.stacked()}];m.width(F?180:0).color(["#444","#444","#444"]);l.select(".nv-controlsWrap").datum(ja).attr("transform","translate(0,"+-f.top+")").call(m)}x.attr("transform","translate("+f.left+","+f.top+")");L&&l.select(".nv-y.nv-axis").attr("transform","translate("+Z+",0)");b.disabled(R.map(function(a){return a.disabled})).width(Z).height(V).color(R.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!R[b].disabled}));l.select(".nv-barsWrap").datum(R.filter(function(a){return!a.disabled})).transition().call(b);
if(H){r.scale(O).ticks(Z/100).tickSize(-V,0);l.select(".nv-x.nv-axis").attr("transform","translate(0,"+N.range()[0]+")");l.select(".nv-x.nv-axis").transition().call(r);x=l.select(".nv-x.nv-axis > g").selectAll("g");x.selectAll("line, text").style("opacity",1);if(z){x.selectAll("text").attr("transform",function(a,b,f){return"translate(0,"+(0==f%2?5:17)+")"});var ka=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;l.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,
b){return"translate(0,"+(0===b||0!==ka%2?17:5)+")"})}S&&x.filter(function(a,b){return 0!==b%Math.ceil(R[0].values.length/(Z/100))}).selectAll("text, line").style("opacity",0);Q&&x.selectAll(".tick text").attr("transform","rotate("+Q+" 0,0)").style("text-anchor",0<Q?"start":"end");l.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}D&&(A.scale(N).ticks(V/36).tickSize(-Z,0),l.select(".nv-y.nv-axis").transition().call(A));h.dispatch.on("stateChange",function(b){M=b;E.stateChange(M);
a.update()});m.dispatch.on("legendClick",function(f,l){if(f.disabled){ja=ja.map(function(a){a.disabled=!0;return a});f.disabled=!1;switch(f.key){case "Grouped":b.stacked(!1);break;case "Stacked":b.stacked(!0)}M.stacked=b.stacked();E.stateChange(M);a.update()}});E.on("tooltipShow",function(f){if(P){var l=G.parentNode,h=f.pos[0]+(l.offsetLeft||0),m=f.pos[1]+(l.offsetTop||0),q=r.tickFormat()(b.x()(f.point,f.pointIndex)),t=A.tickFormat()(b.y()(f.point,f.pointIndex)),q=I(f.series.key,q,t,f,a);s.tooltip.show([h,
m],q,0>f.value?"n":"s",null,l)}});E.on("changeState",function(f){"undefined"!==typeof f.disabled&&(R.forEach(function(a,b){a.disabled=f.disabled[b]}),M.disabled=f.disabled);"undefined"!==typeof f.stacked&&(b.stacked(f.stacked),M.stacked=f.stacked);a.update()})});return a}var b=s.models.multiBar(),r=s.models.axis(),A=s.models.axis(),h=s.models.legend(),m=s.models.legend(),f={top:30,right:20,bottom:50,left:60},v=null,q=null,J=s.utils.defaultColor(),F=!0,B=!0,H=!0,D=!0,L=!1,S=!0,z=!1,Q=0,P=!0,I=function(a,
b,f,h,m){return"<h3>"+a+"</h3><p>"+f+" on "+b+"</p>"},O,N,M={stacked:!1},t=null,C="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),u=250;b.stacked(!1);r.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(a){return a});A.orient(L?"right":"left").tickFormat(d3.format(",.1f"));m.updateState(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];E.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",
function(a){E.tooltipHide(a)});E.on("tooltipHide",function(){P&&s.tooltip.cleanup()});a.dispatch=E;a.multibar=b;a.legend=h;a.xAxis=r;a.yAxis=A;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=
typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return v;v=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return J;J=s.utils.getColor(b);h.color(J);return a};a.showControls=function(b){if(!arguments.length)return F;F=b;return a};a.showLegend=function(b){if(!arguments.length)return B;B=b;return a};a.showXAxis=function(b){if(!arguments.length)return H;
H=b;return a};a.showYAxis=function(b){if(!arguments.length)return D;D=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return L;L=b;A.orient(b?"right":"left");return a};a.reduceXTicks=function(b){if(!arguments.length)return S;S=b;return a};a.rotateLabels=function(b){if(!arguments.length)return Q;Q=b;return a};a.staggerLabels=function(b){if(!arguments.length)return z;z=b;return a};a.tooltip=function(b){if(!arguments.length)return I;I=b;return a};a.tooltips=function(b){if(!arguments.length)return P;
P=b;return a};a.tooltipContent=function(b){if(!arguments.length)return I;I=b;return a};a.state=function(b){if(!arguments.length)return M;M=b;return a};a.defaultState=function(b){if(!arguments.length)return t;t=b;return a};a.noData=function(b){if(!arguments.length)return C;C=b;return a};a.transitionDuration=function(b){if(!arguments.length)return u;u=b;return a};return a};s.models.multiBarHorizontal=function(){function a(h){h.each(function(a){var h=r-b.left-b.right,s=A-b.top-b.bottom;d3.select(this);
D&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(q)(a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});D&&a[0].values.map(function(b,f){var h=0,l=0;a.map(function(a){a=a.values[f];a.size=Math.abs(a.y);0>a.y?(a.y1=l-a.size,l-=a.size):(a.y1=h,h+=a.size)})});var E=I&&O?[]:a.map(function(a){return a.values.map(function(a,b){return{x:v(a,b),y:q(a,b),y0:a.y0,y1:a.y1}})});m.domain(I||d3.merge(E).map(function(a){return a.x})).rangeBands(N||[0,s],.1);f.domain(O||
d3.extent(d3.merge(E).map(function(a){return D?0<a.y?a.y1+a.y:a.y1:a.y}).concat(J)));L&&!D?f.range(M||[0>f.domain()[0]?z:0,h-(0<f.domain()[1]?z:0)]):f.range(M||[0,h]);C=C||d3.scale.linear().domain(f.domain()).range([f(0),f(0)]);h=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);s=h.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");s.append("defs");s=s.append("g");h.select("g");s.append("g").attr("class","nv-groups");h.attr("transform","translate("+b.left+
","+b.top+")");h=h.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});h.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);h.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();h.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return F(a,b)}).style("stroke",function(a,b){return F(a,b)});h.transition().style("stroke-opacity",
1).style("fill-opacity",.75);h=h.selectAll("g.nv-bar").data(function(a){return a.values});h.exit().remove();s=h.enter().append("g").attr("transform",function(b,f,h){return"translate("+C(D?b.y0:0)+","+(D?0:h*m.rangeBand()/a.length+m(v(b,f)))+")"});s.append("rect").attr("width",0).attr("height",m.rangeBand()/(D?1:a.length));h.on("mouseover",function(b,h){d3.select(this).classed("hover",!0);t.elementMouseover({value:q(b,h),point:b,series:a[b.series],pos:[f(q(b,h)+(D?b.y0:0)),m(v(b,h))+m.rangeBand()*
(D?a.length/2:b.series+.5)/a.length],pointIndex:h,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);t.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,h){t.elementClick({value:q(b,h),point:b,series:a[b.series],pos:[m(v(b,h))+m.rangeBand()*(D?a.length/2:b.series+.5)/a.length,f(q(b,h)+(D?b.y0:0))],pointIndex:h,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",
function(b,h){t.elementDblClick({value:q(b,h),point:b,series:a[b.series],pos:[m(v(b,h))+m.rangeBand()*(D?a.length/2:b.series+.5)/a.length,f(q(b,h)+(D?b.y0:0))],pointIndex:h,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});s.append("text");L&&!D?(h.select("text").attr("text-anchor",function(a,b){return 0>q(a,b)?"end":"start"}).attr("y",m.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return Q(q(a,b))}),h.transition().select("text").attr("x",function(a,b){return 0>q(a,
b)?-4:f(q(a,b))-f(0)+4})):h.selectAll("text").text("");S&&!D?(s.append("text").classed("nv-bar-label",!0),h.select("text.nv-bar-label").attr("text-anchor",function(a,b){return 0>q(a,b)?"start":"end"}).attr("y",m.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return v(a,b)}),h.transition().select("text.nv-bar-label").attr("x",function(a,b){return 0>q(a,b)?f(0)-f(q(a,b))+4:-4})):h.selectAll("text.nv-bar-label").text("");h.attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":
"nv-bar positive"});B&&(H||(H=a.map(function(){return!0})),h.style("fill",function(a,b,f){return d3.rgb(B(a,b)).darker(H.map(function(a,b){return b}).filter(function(a,b){return!H[b]})[f]).toString()}).style("stroke",function(a,b,f){return d3.rgb(B(a,b)).darker(H.map(function(a,b){return b}).filter(function(a,b){return!H[b]})[f]).toString()}));D?h.transition().attr("transform",function(a,b){return"translate("+f(a.y1)+","+m(v(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(f(q(a,
b)+a.y0)-f(a.y0))}).attr("height",m.rangeBand()):h.transition().attr("transform",function(b,h){return"translate("+(0>q(b,h)?f(q(b,h)):f(0))+","+(b.series*m.rangeBand()/a.length+m(v(b,h)))+")"}).select("rect").attr("height",m.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(f(q(a,b))-f(0)),1)});m.copy();C=f.copy()});return a}var b={top:0,right:0,bottom:0,left:0},r=960,A=500,h=Math.floor(1E4*Math.random()),m=d3.scale.ordinal(),f=d3.scale.linear(),v=function(a){return a.x},q=
function(a){return a.y},J=[0],F=s.utils.defaultColor(),B=null,H,D=!1,L=!1,S=!1,z=60,Q=d3.format(",.2f"),P=1200,I,O,N,M,t=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),C;a.dispatch=t;a.options=s.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=
typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return m;m=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return I;I=b;return a};a.yDomain=function(b){if(!arguments.length)return O;
O=b;return a};a.xRange=function(b){if(!arguments.length)return N;N=b;return a};a.yRange=function(b){if(!arguments.length)return M;M=b;return a};a.forceY=function(b){if(!arguments.length)return J;J=b;return a};a.stacked=function(b){if(!arguments.length)return D;D=b;return a};a.color=function(b){if(!arguments.length)return F;F=s.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return B;B=s.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return H;H=b;return a};
a.id=function(b){if(!arguments.length)return h;h=b;return a};a.delay=function(b){if(!arguments.length)return P;P=b;return a};a.showValues=function(b){if(!arguments.length)return L;L=b;return a};a.showBarLabels=function(b){if(!arguments.length)return S;S=b;return a};a.valueFormat=function(b){if(!arguments.length)return Q;Q=b;return a};a.valuePadding=function(b){if(!arguments.length)return z;z=b;return a};return a};s.models.multiBarHorizontalChart=function(){function a(t){t.each(function(t){var E=d3.select(this),
u=this,T=(v||parseInt(E.style("width"))||960)-f.left-f.right,R=(q||parseInt(E.style("height"))||400)-f.top-f.bottom;a.update=function(){E.transition().duration(M).call(a)};a.container=this;P.disabled=t.map(function(a){return!!a.disabled});if(!I){var U;I={};for(U in P)I[U]=P[U]instanceof Array?P[U].slice(0):P[U]}if(t&&t.length&&t.filter(function(a){return a.values.length}).length)E.selectAll(".nv-noData").remove();else return U=E.selectAll(".nv-noData").data([O]),U.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),U.attr("x",f.left+T/2).attr("y",f.top+R/2).text(function(a){return a}),a;z=b.xScale();Q=b.yScale();U=E.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([t]);var G=U.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),Z=U.select("g");G.append("g").attr("class","nv-x nv-axis");G.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");G.append("g").attr("class",
"nv-barsWrap");G.append("g").attr("class","nv-legendWrap");G.append("g").attr("class","nv-controlsWrap");B&&(h.width(T-(F?180:0)),b.barColor()&&t.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),Z.select(".nv-legendWrap").datum(t).call(h),f.top!=h.height()&&(f.top=h.height(),R=(q||parseInt(E.style("height"))||400)-f.top-f.bottom),Z.select(".nv-legendWrap").attr("transform","translate("+(F?180:0)+","+-f.top+")"));if(F){var V=[{key:"Grouped",disabled:b.stacked()},{key:"Stacked",
disabled:!b.stacked()}];m.width(F?180:0).color(["#444","#444","#444"]);Z.select(".nv-controlsWrap").datum(V).attr("transform","translate(0,"+-f.top+")").call(m)}U.attr("transform","translate("+f.left+","+f.top+")");b.disabled(t.map(function(a){return a.disabled})).width(T).height(R).color(t.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!t[b].disabled}));Z.select(".nv-barsWrap").datum(t.filter(function(a){return!a.disabled})).transition().call(b);H&&(r.scale(z).ticks(R/24).tickSize(-T,
0),Z.select(".nv-x.nv-axis").transition().call(r),Z.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));D&&(A.scale(Q).ticks(T/100).tickSize(-R,0),Z.select(".nv-y.nv-axis").attr("transform","translate(0,"+R+")"),Z.select(".nv-y.nv-axis").transition().call(A));Z.select(".nv-zeroLine line").attr("x1",Q(0)).attr("x2",Q(0)).attr("y1",0).attr("y2",-R);h.dispatch.on("stateChange",function(b){P=b;N.stateChange(P);a.update()});m.dispatch.on("legendClick",function(f,h){if(f.disabled){V=V.map(function(a){a.disabled=
!0;return a});f.disabled=!1;switch(f.key){case "Grouped":b.stacked(!1);break;case "Stacked":b.stacked(!0)}P.stacked=b.stacked();N.stateChange(P);a.update()}});N.on("tooltipShow",function(f){if(L){var h=u.parentNode,m=f.pos[0]+(h.offsetLeft||0),q=f.pos[1]+(h.offsetTop||0),t=r.tickFormat()(b.x()(f.point,f.pointIndex)),v=A.tickFormat()(b.y()(f.point,f.pointIndex)),t=S(f.series.key,t,v,f,a);s.tooltip.show([m,q],t,0>f.value?"e":"w",null,h)}});N.on("changeState",function(f){"undefined"!==typeof f.disabled&&
(t.forEach(function(a,b){a.disabled=f.disabled[b]}),P.disabled=f.disabled);"undefined"!==typeof f.stacked&&(b.stacked(f.stacked),P.stacked=f.stacked);a.update()})});return a}var b=s.models.multiBarHorizontal(),r=s.models.axis(),A=s.models.axis(),h=s.models.legend().height(30),m=s.models.legend().height(30),f={top:30,right:20,bottom:50,left:60},v=null,q=null,J=s.utils.defaultColor(),F=!0,B=!0,H=!0,D=!0,L=!0,S=function(a,b,f,h,m){return"<h3>"+a+" - "+b+"</h3><p>"+f+"</p>"},z,Q,P={stacked:!1},I=null,
O="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),M=250;b.stacked(!1);r.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});A.orient("bottom").tickFormat(d3.format(",.1f"));m.updateState(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];N.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){N.tooltipHide(a)});N.on("tooltipHide",function(){L&&s.tooltip.cleanup()});
a.dispatch=N;a.multibar=b;a.legend=h;a.xAxis=r;a.yAxis=A;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:
f.left;return a};a.width=function(b){if(!arguments.length)return v;v=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return J;J=s.utils.getColor(b);h.color(J);return a};a.showControls=function(b){if(!arguments.length)return F;F=b;return a};a.showLegend=function(b){if(!arguments.length)return B;B=b;return a};a.showXAxis=function(b){if(!arguments.length)return H;H=b;return a};a.showYAxis=function(b){if(!arguments.length)return D;
D=b;return a};a.tooltip=function(b){if(!arguments.length)return S;S=b;return a};a.tooltips=function(b){if(!arguments.length)return L;L=b;return a};a.tooltipContent=function(b){if(!arguments.length)return S;S=b;return a};a.state=function(b){if(!arguments.length)return P;P=b;return a};a.defaultState=function(b){if(!arguments.length)return I;I=b;return a};a.noData=function(b){if(!arguments.length)return O;O=b;return a};a.transitionDuration=function(b){if(!arguments.length)return M;M=b;return a};return a};
s.models.multiChart=function(){function a(C){C.each(function(C){var u=d3.select(this),T=this;a.update=function(){u.transition().call(a)};a.container=this;var R=(A||parseInt(u.style("width"))||960)-b.left-b.right,U=(h||parseInt(u.style("height"))||400)-b.top-b.bottom,G=C.filter(function(a){return!a.disabled&&"line"==a.type&&1==a.yAxis}),Z=C.filter(function(a){return!a.disabled&&"line"==a.type&&2==a.yAxis}),V=C.filter(function(a){return!a.disabled&&"bar"==a.type&&1==a.yAxis}),l=C.filter(function(a){return!a.disabled&&
"bar"==a.type&&2==a.yAxis}),x=C.filter(function(a){return!a.disabled&&"area"==a.type&&1==a.yAxis}),ia=C.filter(function(a){return!a.disabled&&"area"==a.type&&2==a.yAxis}),ja=C.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})}),W=C.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})});q.domain(d3.extent(d3.merge(ja.concat(W)),function(a){return a.x})).range([0,
R]);var X=u.selectAll("g.wrap.multiChart").data([C]),da=X.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");da.append("g").attr("class","x axis");da.append("g").attr("class","y1 axis");da.append("g").attr("class","y2 axis");da.append("g").attr("class","lines1Wrap");da.append("g").attr("class","lines2Wrap");da.append("g").attr("class","bars1Wrap");da.append("g").attr("class","bars2Wrap");da.append("g").attr("class","stack1Wrap");da.append("g").attr("class","stack2Wrap");da.append("g").attr("class",
"legendWrap");X=X.select("g");m&&(M.width(R/2),X.select(".legendWrap").datum(C.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(1==a.yAxis?"":" (right axis)");return a})).call(M),b.top!=M.height()&&(b.top=M.height(),U=(h||parseInt(u.style("height"))||400)-b.top-b.bottom),X.select(".legendWrap").attr("transform","translate("+R/2+","+-b.top+")"));D.width(R).height(U).interpolate("monotone").color(C.map(function(a,b){return a.color||r[b%r.length]}).filter(function(a,
b){return!C[b].disabled&&1==C[b].yAxis&&"line"==C[b].type}));L.width(R).height(U).interpolate("monotone").color(C.map(function(a,b){return a.color||r[b%r.length]}).filter(function(a,b){return!C[b].disabled&&2==C[b].yAxis&&"line"==C[b].type}));S.width(R).height(U).color(C.map(function(a,b){return a.color||r[b%r.length]}).filter(function(a,b){return!C[b].disabled&&1==C[b].yAxis&&"bar"==C[b].type}));z.width(R).height(U).color(C.map(function(a,b){return a.color||r[b%r.length]}).filter(function(a,b){return!C[b].disabled&&
2==C[b].yAxis&&"bar"==C[b].type}));Q.width(R).height(U).color(C.map(function(a,b){return a.color||r[b%r.length]}).filter(function(a,b){return!C[b].disabled&&1==C[b].yAxis&&"area"==C[b].type}));P.width(R).height(U).color(C.map(function(a,b){return a.color||r[b%r.length]}).filter(function(a,b){return!C[b].disabled&&2==C[b].yAxis&&"area"==C[b].type}));X.attr("transform","translate("+b.left+","+b.top+")");var da=X.select(".lines1Wrap").datum(G),ea=X.select(".bars1Wrap").datum(V),ba=X.select(".stack1Wrap").datum(x),
$=X.select(".lines2Wrap").datum(Z),la=X.select(".bars2Wrap").datum(l),ca=X.select(".stack2Wrap").datum(ia),ya=x.length?x.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,f){return{x:a.x,y:a.y+b[f].y}})}).concat([{x:0,y:0}]):[],na=ia.length?ia.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,f){return{x:a.x,y:a.y+b[f].y}})}).concat([{x:0,y:0}]):[];B.domain(J||d3.extent(d3.merge(ja).concat(ya),function(a){return a.y})).range([0,U]);H.domain(F||
d3.extent(d3.merge(W).concat(na),function(a){return a.y})).range([0,U]);D.yDomain(B.domain());S.yDomain(B.domain());Q.yDomain(B.domain());L.yDomain(H.domain());z.yDomain(H.domain());P.yDomain(H.domain());x.length&&d3.transition(ba).call(Q);ia.length&&d3.transition(ca).call(P);V.length&&d3.transition(ea).call(S);l.length&&d3.transition(la).call(z);G.length&&d3.transition(da).call(D);Z.length&&d3.transition($).call(L);I.ticks(R/100).tickSize(-U,0);X.select(".x.axis").attr("transform","translate(0,"+
U+")");d3.transition(X.select(".x.axis")).call(I);O.ticks(U/36).tickSize(-R,0);d3.transition(X.select(".y1.axis")).call(O);N.ticks(U/36).tickSize(-R,0);d3.transition(X.select(".y2.axis")).call(N);X.select(".y2.axis").style("opacity",W.length?1:0).attr("transform","translate("+q.range()[1]+",0)");M.dispatch.on("stateChange",function(b){a.update()});t.on("tooltipShow",function(b){if(f){var l=T.parentNode,h=b.pos[0]+(l.offsetLeft||0),m=b.pos[1]+(l.offsetTop||0),q=I.tickFormat()(D.x()(b.point,b.pointIndex)),
r=(2==b.series.yAxis?N:O).tickFormat()(D.y()(b.point,b.pointIndex));b=v(b.series.key,q,r,b,a);s.tooltip.show([h,m],b,void 0,void 0,l.offsetParent)}})});return a}var b={top:30,right:20,bottom:50,left:60},r=d3.scale.category20().range(),A=null,h=null,m=!0,f=!0,v=function(a,b,f,h,m){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},q,J,F;q=d3.scale.linear();var B=d3.scale.linear(),H=d3.scale.linear(),D=s.models.line().yScale(B),L=s.models.line().yScale(H),S=s.models.multiBar().stacked(!1).yScale(B),z=s.models.multiBar().stacked(!1).yScale(H),
Q=s.models.stackedArea().yScale(B),P=s.models.stackedArea().yScale(H),I=s.models.axis().scale(q).orient("bottom").tickPadding(5),O=s.models.axis().scale(B).orient("left"),N=s.models.axis().scale(H).orient("right"),M=s.models.legend().height(30),t=d3.dispatch("tooltipShow","tooltipHide");D.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];t.tooltipShow(a)});D.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)});L.dispatch.on("elementMouseover.tooltip",
function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];t.tooltipShow(a)});L.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)});S.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];t.tooltipShow(a)});S.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)});z.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];t.tooltipShow(a)});z.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)});
Q.dispatch.on("tooltipShow",function(a){if(!Math.round(100*Q.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];t.tooltipShow(a)});Q.dispatch.on("tooltipHide",function(a){t.tooltipHide(a)});P.dispatch.on("tooltipShow",function(a){if(!Math.round(100*P.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];t.tooltipShow(a)});P.dispatch.on("tooltipHide",
function(a){t.tooltipHide(a)});D.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];t.tooltipShow(a)});D.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)});L.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];t.tooltipShow(a)});L.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)});t.on("tooltipHide",function(){f&&s.tooltip.cleanup()});a.dispatch=t;a.lines1=D;a.lines2=L;a.bars1=S;a.bars2=
z;a.stack1=Q;a.stack2=P;a.xAxis=I;a.yAxis1=O;a.yAxis2=N;a.options=s.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return getX;getX=b;D.x(b);S.x(b);return a};a.y=function(b){if(!arguments.length)return getY;getY=b;D.y(b);S.y(b);return a};a.yDomain1=function(b){if(!arguments.length)return J;J=b;return a};a.yDomain2=function(b){if(!arguments.length)return F;F=b;return a};a.margin=function(f){if(!arguments.length)return b;b=f;return a};a.width=function(b){if(!arguments.length)return A;
A=b;return a};a.height=function(b){if(!arguments.length)return h;h=b;return a};a.color=function(b){if(!arguments.length)return r;r=b;M.color(b);return a};a.showLegend=function(b){if(!arguments.length)return m;m=b;return a};a.tooltips=function(b){if(!arguments.length)return f;f=b;return a};a.tooltipContent=function(b){if(!arguments.length)return v;v=b;return a};return a};s.models.ohlcBar=function(){function a(t){t.each(function(a){var t=r-b.left-b.right,s=A-b.top-b.bottom,Q=d3.select(this);m.domain(P||
d3.extent(a[0].values.map(v).concat(D)));S?m.range(O||[.5*t/a[0].values.length,t*(a[0].values.length-.5)/a[0].values.length]):m.range(O||[0,t]);f.domain(I||[d3.min(a[0].values.map(H).concat(L)),d3.max(a[0].values.map(B).concat(L))]).range(N||[s,0]);m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1]));f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):
f.domain([-1,1]));var R=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),U=R.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),G=U.append("defs"),U=U.append("g"),Z=R.select("g");U.append("g").attr("class","nv-ticks");R.attr("transform","translate("+b.left+","+b.top+")");Q.on("click",function(a,b){M.chartClick({data:a,index:b,pos:d3.event,id:h})});G.append("clipPath").attr("id","nv-chart-clip-path-"+h).append("rect");R.select("#nv-chart-clip-path-"+h+" rect").attr("width",
t).attr("height",s);Z.attr("clip-path",z?"url(#nv-chart-clip-path-"+h+")":"");s=R.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});s.exit().remove();s.enter().append("path").attr("class",function(a,b,f){return(J(a,b)>F(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+f+"-"+b}).attr("d",function(b,l){var h=t/a[0].values.length*.9;return"m0,0l0,"+(f(J(b,l))-f(B(b,l)))+"l"+-h/2+",0l"+h/2+",0l0,"+(f(H(b,l))-f(J(b,l)))+"l0,"+(f(F(b,l))-f(H(b,l)))+"l"+h/2+",0l"+-h/2+",0z"}).attr("transform",
function(a,b){return"translate("+m(v(a,b))+","+f(B(a,b))+")"}).on("mouseover",function(b,h){d3.select(this).classed("hover",!0);M.elementMouseover({point:b,series:a[0],pos:[m(v(b,h)),f(q(b,h))],pointIndex:h,seriesIndex:0,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);M.elementMouseout({point:b,series:a[0],pointIndex:f,seriesIndex:0,e:d3.event})}).on("click",function(a,b){M.elementClick({value:q(a,b),data:a,index:b,pos:[m(v(a,b)),f(q(a,b))],e:d3.event,id:h});d3.event.stopPropagation()}).on("dblclick",
function(a,b){M.elementDblClick({value:q(a,b),data:a,index:b,pos:[m(v(a,b)),f(q(a,b))],e:d3.event,id:h});d3.event.stopPropagation()});s.attr("class",function(a,b,f){return(J(a,b)>F(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+f+"-"+b});d3.transition(s).attr("transform",function(a,b){return"translate("+m(v(a,b))+","+f(B(a,b))+")"}).attr("d",function(b,h){var m=t/a[0].values.length*.9;return"m0,0l0,"+(f(J(b,h))-f(B(b,h)))+"l"+-m/2+",0l"+m/2+",0l0,"+(f(H(b,h))-f(J(b,h)))+"l0,"+(f(F(b,h))-
f(H(b,h)))+"l"+m/2+",0l"+-m/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},r=960,A=500,h=Math.floor(1E4*Math.random()),m=d3.scale.linear(),f=d3.scale.linear(),v=function(a){return a.x},q=function(a){return a.y},J=function(a){return a.open},F=function(a){return a.close},B=function(a){return a.high},H=function(a){return a.low},D=[],L=[],S=!1,z=!0,Q=s.utils.defaultColor(),P,I,O,N,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=
M;a.options=s.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.open=function(b){if(!arguments.length)return J;J=b;return a};a.close=function(b){if(!arguments.length)return F;F=b;return a};a.high=function(b){if(!arguments.length)return B;B=b;return a};a.low=function(b){if(!arguments.length)return H;H=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:
b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return m;m=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return P;P=b;return a};a.yDomain=
function(b){if(!arguments.length)return I;I=b;return a};a.xRange=function(b){if(!arguments.length)return O;O=b;return a};a.yRange=function(b){if(!arguments.length)return N;N=b;return a};a.forceX=function(b){if(!arguments.length)return D;D=b;return a};a.forceY=function(b){if(!arguments.length)return L;L=b;return a};a.padData=function(b){if(!arguments.length)return S;S=b;return a};a.clipEdge=function(b){if(!arguments.length)return z;z=b;return a};a.color=function(b){if(!arguments.length)return Q;Q=
s.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return h;h=b;return a};return a};s.models.pie=function(){function a(f){f.each(function(a){var f=r-b.left-b.right,s=A-b.top-b.bottom,E=Math.min(f,s)/2,u=E-E/5,N=d3.select(this);a=N.selectAll(".nv-wrap.nv-pie").data(a);var R=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+v).append("g"),J=a.select("g");R.append("g").attr("class","nv-pie");R.append("g").attr("class","nv-pieLabels");a.attr("transform","translate("+
b.left+","+b.top+")");J.select(".nv-pie").attr("transform","translate("+f/2+","+s/2+")");J.select(".nv-pieLabels").attr("transform","translate("+f/2+","+s/2+")");N.on("click",function(a,b){O.chartClick({data:a,index:b,pos:d3.event,id:v})});var G=d3.svg.arc().outerRadius(u);Q&&G.startAngle(Q);P&&G.endAngle(P);S&&G.innerRadius(E*I);s=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:m(a)});f=a.select(".nv-pie").selectAll(".nv-slice").data(s);a=a.select(".nv-pieLabels").selectAll(".nv-label").data(s);
f.exit().remove();a.exit().remove();s=f.enter().append("g").attr("class","nv-slice").on("mouseover",function(a,b){d3.select(this).classed("hover",!0);O.elementMouseover({label:h(a.data),value:m(a.data),point:a.data,pointIndex:b,pos:[d3.event.pageX,d3.event.pageY],id:v})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);O.elementMouseout({label:h(a.data),value:m(a.data),point:a.data,index:b,id:v})}).on("click",function(a,b){O.elementClick({label:h(a.data),value:m(a.data),point:a.data,
index:b,pos:d3.event,id:v});d3.event.stopPropagation()}).on("dblclick",function(a,b){O.elementDblClick({label:h(a.data),value:m(a.data),point:a.data,index:b,pos:d3.event,id:v});d3.event.stopPropagation()});f.attr("fill",function(a,b){return q(a,b)}).attr("stroke",function(a,b){return q(a,b)});s.append("path").each(function(a){this._current=a});f.select("path").transition().attr("d",G).attrTween("d",function(a){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;
S||(a.innerRadius=0);var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return G(b(a))}});if(F){var Z=d3.svg.arc().innerRadius(0);B&&(Z=G);H&&(Z=d3.svg.arc().outerRadius(G.outerRadius()));a.enter().append("g").classed("nv-label",!0).each(function(a,b){var f=d3.select(this);f.attr("transform",function(a){if(z){a.outerRadius=u+10;a.innerRadius=u+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+Z.centroid(a)+
") rotate("+b+")"}a.outerRadius=E+10;a.innerRadius=E+15;return"translate("+Z.centroid(a)+")"});f.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);f.append("text").style("text-anchor",z?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var V={},l=function(a){return 140*Math.floor(a[0]/140)+","+14*Math.floor(a[1]/14)};a.transition().attr("transform",function(a){if(z){a.outerRadius=u+10;a.innerRadius=u+15;var b=(a.startAngle+a.endAngle)/
2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+Z.centroid(a)+") rotate("+b+")"}a.outerRadius=E+10;a.innerRadius=E+15;a=Z.centroid(a);b=l(a);V[b]&&(a[1]-=14);V[l(a)]=!0;return"translate("+a+")"});a.select(".nv-label text").style("text-anchor",z?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(a,b){var f=(a.endAngle-a.startAngle)/(2*Math.PI),l={key:h(a.data),value:m(a.data),percent:d3.format("%")(f)};return a.value&&f>L?l[D]:""})}});return a}
var b={top:0,right:0,bottom:0,left:0},r=500,A=500,h=function(a){return a.x},m=function(a){return a.y},f=function(a){return a.description},v=Math.floor(1E4*Math.random()),q=s.utils.defaultColor(),J=d3.format(",.2f"),F=!0,B=!0,H=!1,D="key",L=.02,S=!1,z=!1,Q=!1,P=!1,I=.5,O=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=O;a.options=s.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?
f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.values=function(b){s.log("pie.values() is no longer supported.");return a};a.x=function(b){if(!arguments.length)return h;h=b;return a};a.y=function(b){if(!arguments.length)return m;m=d3.functor(b);
return a};a.description=function(b){if(!arguments.length)return f;f=b;return a};a.showLabels=function(b){if(!arguments.length)return F;F=b;return a};a.labelSunbeamLayout=function(b){if(!arguments.length)return z;z=b;return a};a.donutLabelsOutside=function(b){if(!arguments.length)return H;H=b;return a};a.pieLabelsOutside=function(b){if(!arguments.length)return B;B=b;return a};a.labelType=function(b){if(!arguments.length)return D;D=(D=b)||"key";return a};a.donut=function(b){if(!arguments.length)return S;
S=b;return a};a.donutRatio=function(b){if(!arguments.length)return I;I=b;return a};a.startAngle=function(b){if(!arguments.length)return Q;Q=b;return a};a.endAngle=function(b){if(!arguments.length)return P;P=b;return a};a.id=function(b){if(!arguments.length)return v;v=b;return a};a.color=function(b){if(!arguments.length)return q;q=s.utils.getColor(b);return a};a.valueFormat=function(b){if(!arguments.length)return J;J=b;return a};a.labelThreshold=function(b){if(!arguments.length)return L;L=b;return a};
return a};s.models.pieChart=function(){function a(q){q.each(function(q){var s=d3.select(this),v=(h||parseInt(s.style("width"))||960)-A.left-A.right,L=(m||parseInt(s.style("height"))||400)-A.top-A.bottom;a.update=function(){s.transition().call(a)};a.container=this;F.disabled=q.map(function(a){return!!a.disabled});if(!B){var I;B={};for(I in F)B[I]=F[I]instanceof Array?F[I].slice(0):F[I]}if(q&&q.length)s.selectAll(".nv-noData").remove();else return I=s.selectAll(".nv-noData").data([H]),I.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",A.left+v/2).attr("y",A.top+L/2).text(function(a){return a}),a;I=s.selectAll("g.nv-wrap.nv-pieChart").data([q]);var J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),N=I.select("g");J.append("g").attr("class","nv-pieWrap");J.append("g").attr("class","nv-legendWrap");f&&(r.width(v).key(b.x()),I.select(".nv-legendWrap").datum(q).call(r),A.top!=r.height()&&(A.top=r.height(),L=(m||parseInt(s.style("height"))||
400)-A.top-A.bottom),I.select(".nv-legendWrap").attr("transform","translate(0,"+-A.top+")"));I.attr("transform","translate("+A.left+","+A.top+")");b.width(v).height(L);v=N.select(".nv-pieWrap").datum([q]);d3.transition(v).call(b);r.dispatch.on("stateChange",function(b){F=b;D.stateChange(F);a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){D.tooltipHide(a)});D.on("changeState",function(b){"undefined"!==typeof b.disabled&&(q.forEach(function(a,f){a.disabled=b.disabled[f]}),F.disabled=
b.disabled);a.update()})});return a}var b=s.models.pie(),r=s.models.legend(),A={top:30,right:20,bottom:20,left:20},h=null,m=null,f=!0,v=s.utils.defaultColor(),q=!0,J=function(a,b,f,h){return"<h3>"+a+"</h3><p>"+b+"</p>"},F={},B=null,H="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+A.left,a.pos[1]+A.top];D.tooltipShow(a)});D.on("tooltipShow",function(f){if(q){var h=b.description()(f.point)||
b.x()(f.point),m=f.pos[0]+0,r=f.pos[1]+0,v=b.valueFormat()(b.y()(f.point)),h=J(h,v,f,a);s.tooltip.show([m,r],h,0>f.value?"n":"s",null,void 0)}});D.on("tooltipHide",function(){q&&s.tooltip.cleanup()});a.legend=r;a.dispatch=D;a.pie=b;d3.rebind(a,b,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return A;A.top="undefined"!=
typeof b.top?b.top:A.top;A.right="undefined"!=typeof b.right?b.right:A.right;A.bottom="undefined"!=typeof b.bottom?b.bottom:A.bottom;A.left="undefined"!=typeof b.left?b.left:A.left;return a};a.width=function(b){if(!arguments.length)return h;h=b;return a};a.height=function(b){if(!arguments.length)return m;m=b;return a};a.color=function(f){if(!arguments.length)return v;v=s.utils.getColor(f);r.color(v);b.color(v);return a};a.showLegend=function(b){if(!arguments.length)return f;f=b;return a};a.tooltips=
function(b){if(!arguments.length)return q;q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return J;J=b;return a};a.state=function(b){if(!arguments.length)return F;F=b;return a};a.defaultState=function(b){if(!arguments.length)return B;B=b;return a};a.noData=function(b){if(!arguments.length)return H;H=b;return a};return a};s.models.scatter=function(){function a(X){X.each(function(a){var X=r-b.left-b.right,ba=A-b.top-b.bottom,$=d3.select(this);a.forEach(function(a,b){a.values.forEach(function(a){a.series=
b})});var la=E&&u&&U?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:J(a,b),y:F(a,b),size:B(a,b)}})}));f.domain(E||d3.extent(la.map(function(a){return a.x}).concat(L)));O&&a[0]?f.range(T||[(X*N+X)/(2*a[0].values.length),X-X*(1+N)/(2*a[0].values.length)]):f.range(T||[0,X]);v.domain(u||d3.extent(la.map(function(a){return a.y}).concat(S))).range(R||[ba,0]);q.domain(U||d3.extent(la.map(function(a){return a.size}).concat(z))).range(G||[16,256]);if(f.domain()[0]===f.domain()[1]||
v.domain()[0]===v.domain()[1])Z=!0;f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1]));v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1]));isNaN(f.domain()[0])&&f.domain([-1,1]);isNaN(v.domain()[0])&&v.domain([-1,1]);x=x||f;ia=ia||v;var ca=$.selectAll("g.nv-wrap.nv-scatter").data([a]),la=ca.enter().append("g").attr("class",
"nvd3 nv-wrap nv-scatter nv-chart-"+m+(Z?" nv-single-point":"")),$=la.append("defs"),la=la.append("g"),ya=ca.select("g");la.append("g").attr("class","nv-groups");la.append("g").attr("class","nv-point-paths");ca.attr("transform","translate("+b.left+","+b.top+")");$.append("clipPath").attr("id","nv-edge-clip-"+m).append("rect");ca.select("#nv-edge-clip-"+m+" rect").attr("width",X).attr("height",0<ba?ba:0);ya.attr("clip-path",M?"url(#nv-edge-clip-"+m+")":"");ka=!0;X=ca.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});X.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);X.exit().remove();X.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});X.transition().style("fill",function(a,b){return h(a,b)}).style("stroke",function(a,b){return h(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);D?(ba=X.selectAll("circle.nv-point").data(function(a){return a.values},P),ba.enter().append("circle").style("fill",function(a,
b){return a.color}).style("stroke",function(a,b){return a.color}).attr("cx",function(a,b){return s.utils.NaNtoZero(x(J(a,b)))}).attr("cy",function(a,b){return s.utils.NaNtoZero(ia(F(a,b)))}).attr("r",function(a,b){return Math.sqrt(q(B(a,b))/Math.PI)}),ba.exit().remove(),X.exit().selectAll("path.nv-point").transition().attr("cx",function(a,b){return s.utils.NaNtoZero(f(J(a,b)))}).attr("cy",function(a,b){return s.utils.NaNtoZero(v(F(a,b)))}).remove(),ba.each(function(a,b){d3.select(this).classed("nv-point",
!0).classed("nv-point-"+b,!0).classed("hover",!1)}),ba.transition().attr("cx",function(a,b){return s.utils.NaNtoZero(f(J(a,b)))}).attr("cy",function(a,b){return s.utils.NaNtoZero(v(F(a,b)))}).attr("r",function(a,b){return Math.sqrt(q(B(a,b))/Math.PI)})):(ba=X.selectAll("path.nv-point").data(function(a){return a.values}),ba.enter().append("path").style("fill",function(a,b){return a.color}).style("stroke",function(a,b){return a.color}).attr("transform",function(a,b){return"translate("+x(J(a,b))+","+
ia(F(a,b))+")"}).attr("d",d3.svg.symbol().type(H).size(function(a,b){return q(B(a,b))})),ba.exit().remove(),X.exit().selectAll("path.nv-point").transition().attr("transform",function(a,b){return"translate("+f(J(a,b))+","+v(F(a,b))+")"}).remove(),ba.each(function(a,b){d3.select(this).classed("nv-point",!0).classed("nv-point-"+b,!0).classed("hover",!1)}),ba.transition().attr("transform",function(a,b){return"translate("+f(J(a,b))+","+v(F(a,b))+")"}).attr("d",d3.svg.symbol().type(H).size(function(a,b){return q(B(a,
b))})));clearTimeout(W);W=setTimeout(function(){if(!Q)return!1;var h=d3.merge(a.map(function(a,b){return a.values.map(function(a,h){var l=J(a,h),m=F(a,h);return[f(l)+1E-7*Math.random(),v(m)+1E-7*Math.random(),b,h,a]}).filter(function(a,b){return I(a[4],b)})}));if(!0===l){if(t){ca.select("defs").selectAll(".nv-point-clips").data([m]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+m);var q=ca.select("#nv-points-clip-"+m).selectAll("circle").data(h);q.enter().append("circle").attr("r",
C);q.exit().remove();q.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]});ca.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+m+")")}h.length&&(h.push([f.range()[0]-20,v.range()[0]-20,null,null]),h.push([f.range()[1]+20,v.range()[1]+20,null,null]),h.push([f.range()[0]-20,v.range()[0]+20,null,null]),h.push([f.range()[1]+20,v.range()[1]-20,null,null]));var s=d3.geom.polygon([[-10,-10],[-10,A+10],[r+10,A+10],[r+10,-10]]),q=d3.geom.voronoi(h).map(function(a,b){return{data:s.clip(a),
series:h[b][2],point:h[b][3]}}),q=ca.select(".nv-point-paths").selectAll("path").data(q);q.enter().append("path").attr("class",function(a,b){return"nv-path-"+b});q.exit().remove();q.attr("d",function(a){return 0===a.data.length?"M 0 0":"M"+a.data.join("L")+"Z"});var u=function(h,l){if(ka)return 0;var m=a[h.series];if("undefined"!==typeof m){var q=m.values[h.point];l({point:q,series:m,pos:[f(J(q,h.point))+b.left,v(F(q,h.point))+b.top],seriesIndex:h.series,pointIndex:h.point})}};q.on("click",function(a){u(a,
V.elementClick)}).on("mouseover",function(a){u(a,V.elementMouseover)}).on("mouseout",function(a,b){u(a,V.elementMouseout)})}else ca.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(h,l){if(ka||!a[h.series])return 0;var m=a[h.series],q=m.values[l];V.elementClick({point:q,series:m,pos:[f(J(q,l))+b.left,v(F(q,l))+b.top],seriesIndex:h.series,pointIndex:l})}).on("mouseover",function(h,l){if(ka||!a[h.series])return 0;var m=a[h.series],q=m.values[l];V.elementMouseover({point:q,
series:m,pos:[f(J(q,l))+b.left,v(F(q,l))+b.top],seriesIndex:h.series,pointIndex:l})}).on("mouseout",function(b,f){if(ka||!a[b.series])return 0;var h=a[b.series];V.elementMouseout({point:h.values[f],series:h,seriesIndex:b.series,pointIndex:f})});ka=!1},300);x=f.copy();ia=v.copy();q.copy()});return a}var b={top:0,right:0,bottom:0,left:0},r=960,A=500,h=s.utils.defaultColor(),m=Math.floor(1E5*Math.random()),f=d3.scale.linear(),v=d3.scale.linear(),q=d3.scale.linear(),J=function(a){return a.x},F=function(a){return a.y},
B=function(a){return a.size||1},H=function(a){return a.shape||"circle"},D=!0,L=[],S=[],z=[],Q=!0,P=null,I=function(a){return!a.notActive},O=!1,N=.1,M=!1,t=!0,C=function(){return 25},E=null,u=null,T=null,R=null,U=null,G=null,Z=!1,V=d3.dispatch("elementClick","elementMouseover","elementMouseout"),l=!0,x,ia,W,ka=!1;a.clearHighlights=function(){d3.selectAll(".nv-chart-"+m+" .nv-point.hover").classed("hover",!1)};a.highlightPoint=function(a,b,f){d3.select(".nv-chart-"+m+" .nv-series-"+a+" .nv-point-"+
b).classed("hover",f)};V.on("elementMouseover.point",function(b){Q&&a.highlightPoint(b.seriesIndex,b.pointIndex,!0)});V.on("elementMouseout.point",function(b){Q&&a.highlightPoint(b.seriesIndex,b.pointIndex,!1)});a.dispatch=V;a.options=s.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return J;J=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return F;F=d3.functor(b);return a};a.size=function(b){if(!arguments.length)return B;B=d3.functor(b);return a};a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return v;v=b;return a};a.zScale=function(b){if(!arguments.length)return q;
q=b;return a};a.xDomain=function(b){if(!arguments.length)return E;E=b;return a};a.yDomain=function(b){if(!arguments.length)return u;u=b;return a};a.sizeDomain=function(b){if(!arguments.length)return U;U=b;return a};a.xRange=function(b){if(!arguments.length)return T;T=b;return a};a.yRange=function(b){if(!arguments.length)return R;R=b;return a};a.sizeRange=function(b){if(!arguments.length)return G;G=b;return a};a.forceX=function(b){if(!arguments.length)return L;L=b;return a};a.forceY=function(b){if(!arguments.length)return S;
S=b;return a};a.forceSize=function(b){if(!arguments.length)return z;z=b;return a};a.interactive=function(b){if(!arguments.length)return Q;Q=b;return a};a.pointKey=function(b){if(!arguments.length)return P;P=b;return a};a.pointActive=function(b){if(!arguments.length)return I;I=b;return a};a.padData=function(b){if(!arguments.length)return O;O=b;return a};a.padDataOuter=function(b){if(!arguments.length)return N;N=b;return a};a.clipEdge=function(b){if(!arguments.length)return M;M=b;return a};a.clipVoronoi=
function(b){if(!arguments.length)return t;t=b;return a};a.useVoronoi=function(b){if(!arguments.length)return l;l=b;!1===l&&(t=!1);return a};a.clipRadius=function(b){if(!arguments.length)return C;C=b;return a};a.color=function(b){if(!arguments.length)return h;h=s.utils.getColor(b);return a};a.shape=function(b){if(!arguments.length)return H;H=b;return a};a.onlyCircles=function(b){if(!arguments.length)return D;D=b;return a};a.id=function(b){if(!arguments.length)return m;m=b;return a};a.singlePoint=function(b){if(!arguments.length)return Z;
Z=b;return a};return a};s.models.scatterChart=function(){function a(ia){ia.each(function(ia){function W(){if(C)return ca.select(".nv-point-paths").style("pointer-events","all"),!1;ca.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);H.distortion(t).focus(a[0]);D.distortion(t).focus(a[1]);ca.select(".nv-scatterWrap").call(b);I&&ca.select(".nv-x.nv-axis").call(r);O&&ca.select(".nv-y.nv-axis").call(A);ca.select(".nv-distributionX").datum(ia.filter(function(a){return!a.disabled})).call(f);
ca.select(".nv-distributionY").datum(ia.filter(function(a){return!a.disabled})).call(v)}var X=d3.select(this),da=this,ea=(J||parseInt(X.style("width"))||960)-q.left-q.right,ba=(F||parseInt(X.style("height"))||400)-q.top-q.bottom;a.update=function(){X.transition().duration(l).call(a)};a.container=this;U.disabled=ia.map(function(a){return!!a.disabled});if(!G){var $;G={};for($ in U)G[$]=U[$]instanceof Array?U[$].slice(0):U[$]}if(ia&&ia.length&&ia.filter(function(a){return a.values.length}).length)X.selectAll(".nv-noData").remove();
else return $=X.selectAll(".nv-noData").data([V]),$.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),$.attr("x",q.left+ea/2).attr("y",q.top+ba/2).text(function(a){return a}),a;$=X.selectAll("g.nv-wrap.nv-scatterChart").data([ia]);var la=$.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g"),ca=$.select("g");la.append("rect").attr("class","nvd3 nv-background");la.append("g").attr("class","nv-x nv-axis");
la.append("g").attr("class","nv-y nv-axis");la.append("g").attr("class","nv-scatterWrap");la.append("g").attr("class","nv-distWrap");la.append("g").attr("class","nv-legendWrap");la.append("g").attr("class","nv-controlsWrap");if(P){var ya=M?ea/2:ea;h.width(ya);$.select(".nv-legendWrap").datum(ia).call(h);q.top!=h.height()&&(q.top=h.height(),ba=(F||parseInt(X.style("height"))||400)-q.top-q.bottom);$.select(".nv-legendWrap").attr("transform","translate("+(ea-ya)+","+-q.top+")")}M&&(m.width(180).color(["#444"]),
ca.select(".nv-controlsWrap").datum(x).attr("transform","translate(0,"+-q.top+")").call(m));$.attr("transform","translate("+q.left+","+q.top+")");N&&ca.select(".nv-y.nv-axis").attr("transform","translate("+ea+",0)");b.width(ea).height(ba).color(ia.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!ia[b].disabled}));0!==L&&b.xDomain(null);0!==S&&b.yDomain(null);$.select(".nv-scatterWrap").datum(ia.filter(function(a){return!a.disabled})).call(b);0!==L&&(ya=H.domain()[1]-H.domain()[0],
b.xDomain([H.domain()[0]-L*ya,H.domain()[1]+L*ya]));0!==S&&(ya=D.domain()[1]-D.domain()[0],b.yDomain([D.domain()[0]-S*ya,D.domain()[1]+S*ya]));0===S&&0===L||$.select(".nv-scatterWrap").datum(ia.filter(function(a){return!a.disabled})).call(b);I&&(r.scale(H).ticks(r.ticks()&&r.ticks().length?r.ticks():ea/100).tickSize(-ba,0),ca.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")").call(r));O&&(A.scale(D).ticks(A.ticks()&&A.ticks().length?A.ticks():ba/36).tickSize(-ea,0),ca.select(".nv-y.nv-axis").call(A));
z&&(f.getData(b.x()).scale(H).width(ea).color(ia.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!ia[b].disabled})),la.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),ca.select(".nv-distributionX").attr("transform","translate(0,"+D.range()[0]+")").datum(ia.filter(function(a){return!a.disabled})).call(f));Q&&(v.getData(b.y()).scale(D).width(ba).color(ia.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!ia[b].disabled})),la.select(".nv-distWrap").append("g").attr("class",
"nv-distributionY"),ca.select(".nv-distributionY").attr("transform","translate("+(N?ea:-v.size())+",0)").datum(ia.filter(function(a){return!a.disabled})).call(v));d3.fisheye&&(ca.select(".nv-background").attr("width",ea).attr("height",ba),ca.select(".nv-background").on("mousemove",W),ca.select(".nv-background").on("click",function(){C=!C}),b.dispatch.on("elementClick.freezeFisheye",function(){C=!C}));m.dispatch.on("legendClick",function(f,h){f.disabled=!f.disabled;t=f.disabled?0:2.5;ca.select(".nv-background").style("pointer-events",
f.disabled?"none":"all");ca.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(H.distortion(t).focus(0),D.distortion(t).focus(0),ca.select(".nv-scatterWrap").call(b),ca.select(".nv-x.nv-axis").call(r),ca.select(".nv-y.nv-axis").call(A)):C=!1;a.update()});h.dispatch.on("stateChange",function(b){U.disabled=b.disabled;Z.stateChange(U);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+
a.pointIndex).attr("y1",function(b,f){return a.pos[1]-ba});d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+f.size());a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];Z.tooltipShow(a)});Z.on("tooltipShow",function(f){if(E){var h=da.parentNode,l=f.pos[0]+(h.offsetLeft||0),m=f.pos[1]+(h.offsetTop||0),t=f.pos[0]+(h.offsetLeft||0),v=D.range()[0]+q.top+(h.offsetTop||0),x=H.range()[0]+q.left+(h.offsetLeft||0),z=f.pos[1]+(h.offsetTop||0),C=r.tickFormat()(b.x()(f.point,
f.pointIndex)),B=A.tickFormat()(b.y()(f.point,f.pointIndex));null!=u&&s.tooltip.show([t,v],u(f.series.key,C,B,f,a),"n",1,h,"x-nvtooltip");null!=T&&s.tooltip.show([x,z],T(f.series.key,C,B,f,a),"e",1,h,"y-nvtooltip");null!=R&&s.tooltip.show([l,m],R(f.series.key,C,B,f,a),0>f.value?"n":"s",null,h)}});Z.on("changeState",function(b){"undefined"!==typeof b.disabled&&(ia.forEach(function(a,f){a.disabled=b.disabled[f]}),U.disabled=b.disabled);a.update()});H.copy();D.copy()});return a}var b=s.models.scatter(),
r=s.models.axis(),A=s.models.axis(),h=s.models.legend(),m=s.models.legend(),f=s.models.distribution(),v=s.models.distribution(),q={top:30,right:20,bottom:50,left:75},J=null,F=null,B=s.utils.defaultColor(),H=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.xScale(),D=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),L=0,S=0,z=!1,Q=!1,P=!0,I=!0,O=!0,N=!1,M=!!d3.fisheye,t=0,C=!1,E=!0,u=function(a,b,f){return"<strong>"+b+"</strong>"},T=function(a,b,f){return"<strong>"+
f+"</strong>"},R=null,U={},G=null,Z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),V="No Data Available.",l=250;b.xScale(H).yScale(D);r.orient("bottom").tickPadding(10);A.orient(N?"right":"left").tickPadding(10);f.axis("x");v.axis("y");m.updateState(!1);var x=[{key:"Magnify",disabled:!0}];b.dispatch.on("elementMouseout.tooltip",function(a){Z.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+
b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",v.size())});Z.on("tooltipHide",function(){E&&s.tooltip.cleanup()});a.dispatch=Z;a.scatter=b;a.legend=h;a.controls=m;a.xAxis=r;a.yAxis=A;a.distX=f;a.distY=v;d3.rebind(a,b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=s.utils.optionsFunc.bind(a);a.margin=
function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left="undefined"!=typeof b.left?b.left:q.left;return a};a.width=function(b){if(!arguments.length)return J;J=b;return a};a.height=function(b){if(!arguments.length)return F;F=b;return a};a.color=function(b){if(!arguments.length)return B;B=s.utils.getColor(b);h.color(B);f.color(B);v.color(B);return a};a.showDistX=
function(b){if(!arguments.length)return z;z=b;return a};a.showDistY=function(b){if(!arguments.length)return Q;Q=b;return a};a.showControls=function(b){if(!arguments.length)return M;M=b;return a};a.showLegend=function(b){if(!arguments.length)return P;P=b;return a};a.showXAxis=function(b){if(!arguments.length)return I;I=b;return a};a.showYAxis=function(b){if(!arguments.length)return O;O=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return N;N=b;A.orient(b?"right":"left");return a};
a.fisheye=function(b){if(!arguments.length)return t;t=b;return a};a.xPadding=function(b){if(!arguments.length)return L;L=b;return a};a.yPadding=function(b){if(!arguments.length)return S;S=b;return a};a.tooltips=function(b){if(!arguments.length)return E;E=b;return a};a.tooltipContent=function(b){if(!arguments.length)return R;R=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return u;u=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return T;T=b;return a};a.state=function(b){if(!arguments.length)return U;
U=b;return a};a.defaultState=function(b){if(!arguments.length)return G;G=b;return a};a.noData=function(b){if(!arguments.length)return V;V=b;return a};a.transitionDuration=function(b){if(!arguments.length)return l;l=b;return a};return a};s.models.scatterPlusLineChart=function(){function a(l){l.each(function(l){function W(){if(M)return $.select(".nv-point-paths").style("pointer-events","all"),!1;$.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);H.distortion(N).focus(a[0]);
D.distortion(N).focus(a[1]);$.select(".nv-scatterWrap").datum(l.filter(function(a){return!a.disabled})).call(b);Q&&$.select(".nv-x.nv-axis").call(r);P&&$.select(".nv-y.nv-axis").call(A);$.select(".nv-distributionX").datum(l.filter(function(a){return!a.disabled})).call(f);$.select(".nv-distributionY").datum(l.filter(function(a){return!a.disabled})).call(v)}var ja=d3.select(this),ka=this,X=(J||parseInt(ja.style("width"))||960)-q.left-q.right,da=(F||parseInt(ja.style("height"))||400)-q.top-q.bottom;
a.update=function(){ja.transition().duration(Z).call(a)};a.container=this;T.disabled=l.map(function(a){return!!a.disabled});if(!R){var ea;R={};for(ea in T)R[ea]=T[ea]instanceof Array?T[ea].slice(0):T[ea]}if(l&&l.length&&l.filter(function(a){return a.values.length}).length)ja.selectAll(".nv-noData").remove();else return ea=ja.selectAll(".nv-noData").data([G]),ea.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ea.attr("x",q.left+X/2).attr("y",q.top+
da/2).text(function(a){return a}),a;H=b.xScale();D=b.yScale();var ba=ja.selectAll("g.nv-wrap.nv-scatterChart").data([l]);ea=ba.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var $=ba.select("g");ea.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");ea.append("g").attr("class","nv-x nv-axis");ea.append("g").attr("class","nv-y nv-axis");ea.append("g").attr("class","nv-scatterWrap");ea.append("g").attr("class","nv-regressionLinesWrap");
ea.append("g").attr("class","nv-distWrap");ea.append("g").attr("class","nv-legendWrap");ea.append("g").attr("class","nv-controlsWrap");ba.attr("transform","translate("+q.left+","+q.top+")");I&&$.select(".nv-y.nv-axis").attr("transform","translate("+X+",0)");z&&(h.width(X/2),ba.select(".nv-legendWrap").datum(l).call(h),q.top!=h.height()&&(q.top=h.height(),da=(F||parseInt(ja.style("height"))||400)-q.top-q.bottom),ba.select(".nv-legendWrap").attr("transform","translate("+X/2+","+-q.top+")"));O&&(m.width(180).color(["#444"]),
$.select(".nv-controlsWrap").datum(V).attr("transform","translate(0,"+-q.top+")").call(m));b.width(X).height(da).color(l.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!l[b].disabled}));ba.select(".nv-scatterWrap").datum(l.filter(function(a){return!a.disabled})).call(b);ba.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");ba=ba.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});ba.enter().append("g").attr("class",
"nv-regLines");ba=ba.selectAll(".nv-regLine").data(function(a){return[a]});ba.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);ba.transition().attr("x1",H.range()[0]).attr("x2",H.range()[1]).attr("y1",function(a,b){return D(H.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return D(H.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,f){return B(a,f)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"===typeof a.slope||"undefined"===
typeof a.intercept?0:1});Q&&(r.scale(H).ticks(r.ticks()?r.ticks():X/100).tickSize(-da,0),$.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")").call(r));P&&(A.scale(D).ticks(A.ticks()?A.ticks():da/36).tickSize(-X,0),$.select(".nv-y.nv-axis").call(A));L&&(f.getData(b.x()).scale(H).width(X).color(l.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!l[b].disabled})),ea.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),$.select(".nv-distributionX").attr("transform",
"translate(0,"+D.range()[0]+")").datum(l.filter(function(a){return!a.disabled})).call(f));S&&(v.getData(b.y()).scale(D).width(da).color(l.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!l[b].disabled})),ea.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),$.select(".nv-distributionY").attr("transform","translate("+(I?X:-v.size())+",0)").datum(l.filter(function(a){return!a.disabled})).call(v));d3.fisheye&&($.select(".nv-background").attr("width",X).attr("height",
da),$.select(".nv-background").on("mousemove",W),$.select(".nv-background").on("click",function(){M=!M}),b.dispatch.on("elementClick.freezeFisheye",function(){M=!M}));m.dispatch.on("legendClick",function(f,h){f.disabled=!f.disabled;N=f.disabled?0:2.5;$.select(".nv-background").style("pointer-events",f.disabled?"none":"all");$.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(H.distortion(N).focus(0),D.distortion(N).focus(0),$.select(".nv-scatterWrap").call(b),$.select(".nv-x.nv-axis").call(r),
$.select(".nv-y.nv-axis").call(A)):M=!1;a.update()});h.dispatch.on("stateChange",function(b){T=b;U.stateChange(T);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos[1]-da);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+f.size());a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];U.tooltipShow(a)});U.on("tooltipShow",function(f){if(t){var h=
ka.parentNode,l=f.pos[0]+(h.offsetLeft||0),m=f.pos[1]+(h.offsetTop||0),v=f.pos[0]+(h.offsetLeft||0),x=D.range()[0]+q.top+(h.offsetTop||0),z=H.range()[0]+q.left+(h.offsetLeft||0),B=f.pos[1]+(h.offsetTop||0),G=r.tickFormat()(b.x()(f.point,f.pointIndex)),I=A.tickFormat()(b.y()(f.point,f.pointIndex));null!=C&&s.tooltip.show([v,x],C(f.series.key,G,I,f,a),"n",1,h,"x-nvtooltip");null!=E&&s.tooltip.show([z,B],E(f.series.key,G,I,f,a),"e",1,h,"y-nvtooltip");null!=u&&s.tooltip.show([l,m],u(f.series.key,G,I,
f.point.tooltip,f,a),0>f.value?"n":"s",null,h)}});U.on("changeState",function(b){"undefined"!==typeof b.disabled&&(l.forEach(function(a,f){a.disabled=b.disabled[f]}),T.disabled=b.disabled);a.update()});H.copy();D.copy()});return a}var b=s.models.scatter(),r=s.models.axis(),A=s.models.axis(),h=s.models.legend(),m=s.models.legend(),f=s.models.distribution(),v=s.models.distribution(),q={top:30,right:20,bottom:50,left:75},J=null,F=null,B=s.utils.defaultColor(),H=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):
b.xScale(),D=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),L=!1,S=!1,z=!0,Q=!0,P=!0,I=!1,O=!!d3.fisheye,N=0,M=!1,t=!0,C=function(a,b,f){return"<strong>"+b+"</strong>"},E=function(a,b,f){return"<strong>"+f+"</strong>"},u=function(a,b,f,h){return"<h3>"+a+"</h3><p>"+h+"</p>"},T={},R=null,U=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),G="No Data Available.",Z=250;b.xScale(H).yScale(D);r.orient("bottom").tickPadding(10);A.orient(I?"right":"left").tickPadding(10);
f.axis("x");v.axis("y");m.updateState(!1);var V=[{key:"Magnify",disabled:!0}];b.dispatch.on("elementMouseout.tooltip",function(a){U.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",v.size())});U.on("tooltipHide",function(){t&&s.tooltip.cleanup()});a.dispatch=U;a.scatter=b;a.legend=h;a.controls=m;a.xAxis=r;a.yAxis=A;a.distX=f;a.distY=v;d3.rebind(a,
b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left="undefined"!=typeof b.left?b.left:
q.left;return a};a.width=function(b){if(!arguments.length)return J;J=b;return a};a.height=function(b){if(!arguments.length)return F;F=b;return a};a.color=function(b){if(!arguments.length)return B;B=s.utils.getColor(b);h.color(B);f.color(B);v.color(B);return a};a.showDistX=function(b){if(!arguments.length)return L;L=b;return a};a.showDistY=function(b){if(!arguments.length)return S;S=b;return a};a.showControls=function(b){if(!arguments.length)return O;O=b;return a};a.showLegend=function(b){if(!arguments.length)return z;
z=b;return a};a.showXAxis=function(b){if(!arguments.length)return Q;Q=b;return a};a.showYAxis=function(b){if(!arguments.length)return P;P=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return I;I=b;A.orient(b?"right":"left");return a};a.fisheye=function(b){if(!arguments.length)return N;N=b;return a};a.tooltips=function(b){if(!arguments.length)return t;t=b;return a};a.tooltipContent=function(b){if(!arguments.length)return u;u=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return C;
C=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return E;E=b;return a};a.state=function(b){if(!arguments.length)return T;T=b;return a};a.defaultState=function(b){if(!arguments.length)return R;R=b;return a};a.noData=function(b){if(!arguments.length)return G;G=b;return a};a.transitionDuration=function(b){if(!arguments.length)return Z;Z=b;return a};return a};s.models.sparkline=function(){function a(h){h.each(function(a){var h=r-b.left-b.right,s=A-b.top-b.bottom,L=d3.select(this);m.domain(F||
d3.extent(a,v)).range(H||[0,h]);f.domain(B||d3.extent(a,q)).range(D||[s,0]);a=L.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");h=a.selectAll("path").data(function(a){return[a]});h.enter().append("path");h.exit().remove();h.style("stroke",function(a,b){return a.color||J(a,b)}).attr("d",d3.svg.line().x(function(a,b){return m(v(a,b))}).y(function(a,b){return f(q(a,
b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(f){if(-1!=f){var h=a[f];h.pointIndex=f;return h}return null}var h=a.map(function(a,b){return q(a,b)}),m=b(h.lastIndexOf(f.domain()[1])),r=b(h.indexOf(f.domain()[0])),h=b(h.length-1);return[r,m,h].filter(function(a){return null!=a})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a,b){return m(v(a,a.pointIndex))}).attr("cy",function(a,b){return f(q(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return v(a,
a.pointIndex)==m.domain()[1]?"nv-point nv-currentValue":q(a,a.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,bottom:2,left:0},r=400,A=32,h=!0,m=d3.scale.linear(),f=d3.scale.linear(),v=function(a){return a.x},q=function(a){return a.y},J=s.utils.getColor(["#000"]),F,B,H,D;a.options=s.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:
b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.x=function(b){if(!arguments.length)return v;v=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return q;q=d3.functor(b);return a};a.xScale=function(b){if(!arguments.length)return m;m=b;return a};a.yScale=function(b){if(!arguments.length)return f;
f=b;return a};a.xDomain=function(b){if(!arguments.length)return F;F=b;return a};a.yDomain=function(b){if(!arguments.length)return B;B=b;return a};a.xRange=function(b){if(!arguments.length)return H;H=b;return a};a.yRange=function(b){if(!arguments.length)return D;D=b;return a};a.animate=function(b){if(!arguments.length)return h;h=b;return a};a.color=function(b){if(!arguments.length)return J;J=s.utils.getColor(b);return a};return a};s.models.sparklinePlus=function(){function a(s){s.each(function(z){function B(){if(!q){var a=
t.selectAll(".nv-hoverValue").data(v),f=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+m(b.x()(z[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);v.length&&(f.append("line").attr("x1",0).attr("y1",-r.top).attr("x2",0).attr("y2",O),f.append("text").attr("class",
"nv-xValue").attr("x",-6).attr("y",-r.top).attr("text-anchor","end").attr("dy",".9em"),t.select(".nv-hoverValue .nv-xValue").text(J(b.x()(z[v[0]],v[0]))),f.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-r.top).attr("text-anchor","start").attr("dy",".9em"),t.select(".nv-hoverValue .nv-yValue").text(F(b.y()(z[v[0]],v[0]))))}}var P=d3.select(this),I=(A||parseInt(P.style("width"))||960)-r.left-r.right,O=(h||parseInt(P.style("height"))||400)-r.top-r.bottom;a.update=function(){a(s)};a.container=
this;if(z&&z.length)P.selectAll(".nv-noData").remove();else{var N=P.selectAll(".nv-noData").data([L]);N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");N.attr("x",r.left+I/2).attr("y",r.top+O/2).text(function(a){return a});return a}N=b.y()(z[z.length-1],z.length-1);m=b.xScale();f=b.yScale();var M=P.selectAll("g.nv-wrap.nv-sparklineplus").data([z]),P=M.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),t=M.select("g");
P.append("g").attr("class","nv-sparklineWrap");P.append("g").attr("class","nv-valueWrap");P.append("g").attr("class","nv-hoverArea");M.attr("transform","translate("+r.left+","+r.top+")");M=t.select(".nv-sparklineWrap");b.width(I).height(O);M.call(b);M=t.select(".nv-valueWrap").selectAll(".nv-currentValue").data([N]);M.enter().append("text").attr("class","nv-currentValue").attr("dx",D?-8:8).attr("dy",".9em").style("text-anchor",D?"end":"start");M.attr("x",I+(D?r.right:0)).attr("y",H?function(a){return f(a)}:
0).style("fill",b.color()(z[z.length-1],z.length-1)).text(F(N));P.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!q){for(var a=d3.mouse(this)[0]-r.left,a=Math.round(m.invert(a)),f=Math.abs(b.x()(z[0],0)-a),h=0,s=0;s<z.length;s++)Math.abs(b.x()(z[s],s)-a)<f&&(f=Math.abs(b.x()(z[s],s)-a),h=s);v=[h];B()}}).on("click",function(){q=!q}).on("mouseout",function(){v=[];B()});t.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-r.left+","+-r.top+")"}).attr("width",
I+r.left+r.right).attr("height",O+r.top)});return a}var b=s.models.sparkline(),r={top:15,right:100,bottom:10,left:50},A=null,h=null,m,f,v=[],q=!1,J=d3.format(",r"),F=d3.format(",.2f"),B=!0,H=!0,D=!1,L="No Data Available.";a.sparkline=b;d3.rebind(a,b,"x","y","xScale","yScale","color");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return r;r.top="undefined"!=typeof b.top?b.top:r.top;r.right="undefined"!=typeof b.right?b.right:r.right;r.bottom="undefined"!=typeof b.bottom?
b.bottom:r.bottom;r.left="undefined"!=typeof b.left?b.left:r.left;return a};a.width=function(b){if(!arguments.length)return A;A=b;return a};a.height=function(b){if(!arguments.length)return h;h=b;return a};a.xTickFormat=function(b){if(!arguments.length)return J;J=b;return a};a.yTickFormat=function(b){if(!arguments.length)return F;F=b;return a};a.showValue=function(b){if(!arguments.length)return B;B=b;return a};a.alignValue=function(b){if(!arguments.length)return H;H=b;return a};a.rightAlignValue=function(b){if(!arguments.length)return D;
D=b;return a};a.noData=function(b){if(!arguments.length)return L;L=b;return a};return a};s.models.stackedArea=function(){function a(q){q.each(function(q){var s=r-b.left-b.right,Q=A-b.top-b.bottom,N=d3.select(this);D=S.xScale();L=S.yScale();var M=q;q.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,f){a.index=f;a.seriesIndex=b;return a})});q=q.filter(function(a){return!a.disabled});q=d3.layout.stack().order(F).offset(J).values(function(a){return a.values}).x(f).y(v).out(function(a,
b,f){f=0===v(a)?0:f;a.display={y:f,y0:b}})(q);var N=N.selectAll("g.nv-wrap.nv-stackedarea").data([q]),t=N.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=t.append("defs"),t=t.append("g"),E=N.select("g");t.append("g").attr("class","nv-areaWrap");t.append("g").attr("class","nv-scatterWrap");N.attr("transform","translate("+b.left+","+b.top+")");S.width(s).height(Q).x(f).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(q.map(function(a,b){return a.color||h(a,a.seriesIndex)}));
E.select(".nv-scatterWrap").datum(q).call(S);C.append("clipPath").attr("id","nv-edge-clip-"+m).append("rect");N.select("#nv-edge-clip-"+m+" rect").attr("width",s).attr("height",Q);E.attr("clip-path",H?"url(#nv-edge-clip-"+m+")":"");var u=d3.svg.area().x(function(a,b){return D(f(a,b))}).y0(function(a){return L(a.display.y0)}).y1(function(a){return L(a.display.y+a.display.y0)}).interpolate(B),T=d3.svg.area().x(function(a,b){return D(f(a,b))}).y0(function(a){return L(a.display.y0)}).y1(function(a){return L(a.display.y0)}),
s=E.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});s.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return T(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);z.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);z.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1);z.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});s.exit().remove();s.style("fill",function(a,b){return a.color||h(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||h(a,a.seriesIndex)});s.transition().attr("d",function(a,b){return u(a.values,b)});S.dispatch.on("elementMouseover.area",function(a){E.select(".nv-chart-"+m+" .nv-area-"+
a.seriesIndex).classed("hover",!0)});S.dispatch.on("elementMouseout.area",function(a){E.select(".nv-chart-"+m+" .nv-area-"+a.seriesIndex).classed("hover",!1)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,f=a[0].length,h=1/b,m,l,q,r=[];for(l=0;l<f;++l){for(q=m=0;m<M.length;m++)q+=v(M[m].values[l]);if(q)for(m=0;m<b;m++)a[m][l][1]/=q;else for(m=0;m<b;m++)a[m][l][1]=h}for(l=0;l<f;++l)r[l]=0;return r}});return a}var b={top:0,right:0,bottom:0,left:0},r=960,A=500,h=s.utils.defaultColor(),
m=Math.floor(1E5*Math.random()),f=function(a){return a.x},v=function(a){return a.y},q="stack",J="zero",F="default",B="linear",H=!1,D,L,S=s.models.scatter(),z=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");S.size(2.2).sizeDomain([2.2,2.2]);S.dispatch.on("elementClick.area",function(a){z.areaClick(a)});S.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];z.tooltipShow(a)});S.dispatch.on("elementMouseout.tooltip",function(a){z.tooltipHide(a)});
a.dispatch=z;a.scatter=S;d3.rebind(a,S,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");a.options=s.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return f;f=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return v;v=d3.functor(b);return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?
f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.clipEdge=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return h;h=s.utils.getColor(b);return a};a.offset=function(b){if(!arguments.length)return J;
J=b;return a};a.order=function(b){if(!arguments.length)return F;F=b;return a};a.style=function(b){if(!arguments.length)return q;q=b;switch(q){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}return a};a.interpolate=function(b){if(!arguments.length)return B;
B=b;return a};return a};s.models.stackedAreaChart=function(){function a(G){G.each(function(G){var V=d3.select(this),l=this,x=(q||parseInt(V.style("width"))||960)-v.left-v.right,W=(J||parseInt(V.style("height"))||400)-v.top-v.bottom;a.update=function(){V.transition().duration(U).call(a)};a.container=this;M.disabled=G.map(function(a){return!!a.disabled});if(!t){var ja;t={};for(ja in M)t[ja]=M[ja]instanceof Array?M[ja].slice(0):M[ja]}if(G&&G.length&&G.filter(function(a){return a.values.length}).length)V.selectAll(".nv-noData").remove();
else return ja=V.selectAll(".nv-noData").data([C]),ja.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ja.attr("x",v.left+x/2).attr("y",v.top+W/2).text(function(a){return a}),a;I=b.xScale();O=b.yScale();ja=V.selectAll("g.nv-wrap.nv-stackedAreaChart").data([G]);var ka=ja.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),X=ja.select("g");ka.append("rect").style("opacity",0);ka.append("g").attr("class","nv-x nv-axis");
ka.append("g").attr("class","nv-y nv-axis");ka.append("g").attr("class","nv-stackedWrap");ka.append("g").attr("class","nv-legendWrap");ka.append("g").attr("class","nv-controlsWrap");ka.append("g").attr("class","nv-interactive");X.select("rect").attr("width",x).attr("height",W);H&&(ka=B?x-u:x,h.width(ka),X.select(".nv-legendWrap").datum(G).call(h),v.top!=h.height()&&(v.top=h.height(),W=(J||parseInt(V.style("height"))||400)-v.top-v.bottom),X.select(".nv-legendWrap").attr("transform","translate("+(x-
ka)+","+-v.top+")"));if(B){var da=[{key:R.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=b.style(),style:"stack"},{key:R.stream||"Stream",metaKey:"Stream",disabled:"stream"!=b.style(),style:"stream"},{key:R.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=b.style(),style:"expand"},{key:R.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=b.style(),style:"stack_percent"}];u=T.length/3*260;da=da.filter(function(a){return-1!==T.indexOf(a.metaKey)});m.width(u).color(["#444",
"#444","#444"]);X.select(".nv-controlsWrap").datum(da).call(m);v.top!=Math.max(m.height(),h.height())&&(v.top=Math.max(m.height(),h.height()),W=(J||parseInt(V.style("height"))||400)-v.top-v.bottom);X.select(".nv-controlsWrap").attr("transform","translate(0,"+-v.top+")")}ja.attr("transform","translate("+v.left+","+v.top+")");S&&X.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)");z&&(f.width(x).height(W).margin({left:v.left,top:v.top}).svgContainer(V).xScale(I),ja.select(".nv-interactive").call(f));
b.width(x).height(W);X.select(".nv-stackedWrap").datum(G).transition().call(b);D&&(r.scale(I).ticks(x/100).tickSize(-W,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+W+")"),X.select(".nv-x.nv-axis").transition().duration(0).call(r));L&&(A.scale(O).ticks("wiggle"==b.offset()?0:W/36).tickSize(-x,0).setTickFormat("expand"==b.style()||"stack_percent"==b.style()?d3.format("%"):N),X.select(".nv-y.nv-axis").transition().duration(0).call(A));b.dispatch.on("areaClick.toggle",function(b){1===
G.filter(function(a){return!a.disabled}).length?G.forEach(function(a){a.disabled=!1}):G.forEach(function(a,f){a.disabled=f!=b.seriesIndex});M.disabled=G.map(function(a){return!!a.disabled});E.stateChange(M);a.update()});h.dispatch.on("stateChange",function(b){M.disabled=b.disabled;E.stateChange(M);a.update()});m.dispatch.on("legendClick",function(f,h){f.disabled&&(da=da.map(function(a){a.disabled=!0;return a}),f.disabled=!1,b.style(f.style),M.style=b.style(),E.stateChange(M),a.update())});f.dispatch.on("elementMousemove",
function(h){b.clearHighlights();var m,q,t,u=[];G.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,l){q=s.interactiveBisect(f.values,h.pointXValue,a.x());b.highlightPoint(l,q,!0);var r=f.values[q];if("undefined"!==typeof r){"undefined"===typeof m&&(m=r);"undefined"===typeof t&&(t=a.xScale()(a.x()(r,q)));var v="expand"==b.style()?r.display.y:a.y()(r,q);u.push({key:f.key,value:v,color:F(f,f.seriesIndex),stackedValue:r.display})}});u.reverse();if(2<u.length){var x=a.yScale().invert(h.mouseY),
z=null;u.forEach(function(a,b){x=Math.abs(x);var f=Math.abs(a.stackedValue.y0),h=Math.abs(a.stackedValue.y);x>=f&&x<=h+f&&(z=b)});null!=z&&(u[z].highlight=!0)}var B=r.tickFormat()(a.x()(m,q)),C="expand"==b.style()?function(a,b){return d3.format(".1%")(a)}:function(a,b){return A.tickFormat()(a)};f.tooltip.position({left:t+v.left,top:h.mouseY+v.top}).chartContainer(l.parentNode).enabled(Q).valueFormatter(C).data({value:B,series:u})();f.renderGuideLine(t)});f.dispatch.on("elementMouseout",function(a){E.tooltipHide();
b.clearHighlights()});E.on("tooltipShow",function(f){if(Q){var h=l.parentNode,m=f.pos[0]+(h.offsetLeft||0),q=f.pos[1]+(h.offsetTop||0),t=r.tickFormat()(b.x()(f.point,f.pointIndex)),u=A.tickFormat()(b.y()(f.point,f.pointIndex)),t=P(f.series.key,t,u,f,a);s.tooltip.show([m,q],t,0>f.value?"n":"s",null,h)}});E.on("changeState",function(f){"undefined"!==typeof f.disabled&&G.length===f.disabled.length&&(G.forEach(function(a,b){a.disabled=f.disabled[b]}),M.disabled=f.disabled);"undefined"!==typeof f.style&&
b.style(f.style);a.update()})});return a}var b=s.models.stackedArea(),r=s.models.axis(),A=s.models.axis(),h=s.models.legend(),m=s.models.legend(),f=s.interactiveGuideline(),v={top:30,right:25,bottom:50,left:60},q=null,J=null,F=s.utils.defaultColor(),B=!0,H=!0,D=!0,L=!0,S=!1,z=!1,Q=!0,P=function(a,b,f,h,m){return"<h3>"+a+"</h3><p>"+f+" on "+b+"</p>"},I,O,N=d3.format(",.2f"),M={style:b.style()},t=null,C="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),u=250,
T=["Stacked","Stream","Expanded"],R={},U=250;r.orient("bottom").tickPadding(7);A.orient(S?"right":"left");m.updateState(!1);b.dispatch.on("tooltipShow",function(a){a.pos=[a.pos[0]+v.left,a.pos[1]+v.top];E.tooltipShow(a)});b.dispatch.on("tooltipHide",function(a){E.tooltipHide(a)});E.on("tooltipHide",function(){Q&&s.tooltip.cleanup()});a.dispatch=E;a.stacked=b;a.legend=h;a.controls=m;a.xAxis=r;a.yAxis=A;a.interactiveLayer=f;d3.rebind(a,b,"x","y","size","xScale","yScale","xDomain","yDomain","xRange",
"yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");a.options=s.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return v;v.top="undefined"!=typeof b.top?b.top:v.top;v.right="undefined"!=typeof b.right?b.right:v.right;v.bottom="undefined"!=typeof b.bottom?b.bottom:v.bottom;v.left="undefined"!=typeof b.left?b.left:v.left;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=
function(b){if(!arguments.length)return J;J=b;return a};a.color=function(f){if(!arguments.length)return F;F=s.utils.getColor(f);h.color(F);b.color(F);return a};a.showControls=function(b){if(!arguments.length)return B;B=b;return a};a.showLegend=function(b){if(!arguments.length)return H;H=b;return a};a.showXAxis=function(b){if(!arguments.length)return D;D=b;return a};a.showYAxis=function(b){if(!arguments.length)return L;L=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return S;S=b;A.orient(b?
"right":"left");return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return z;z=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));return a};a.tooltip=function(b){if(!arguments.length)return P;P=b;return a};a.tooltips=function(b){if(!arguments.length)return Q;Q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return P;P=b;return a};a.state=function(b){if(!arguments.length)return M;M=b;return a};a.defaultState=function(b){if(!arguments.length)return t;t=b;return a};a.noData=
function(b){if(!arguments.length)return C;C=b;return a};a.transitionDuration=function(b){if(!arguments.length)return U;U=b;return a};a.controlsData=function(b){if(!arguments.length)return T;T=b;return a};a.controlLabels=function(b){if(!arguments.length||"object"!==typeof b)return R;R=b;return a};A.setTickFormat=A.tickFormat;A.tickFormat=function(a){if(!arguments.length)return N;N=a;return A};return a}})();
(function(W,s){var a=0;W.widget("s3.timeplot",{options:{ajaxURL:null,autoSubmit:1E3,burnDown:!1,emptyMessage:"No data available",thousandSeparator:" ",thousandGrouping:"3",precision:null,defaultChartType:"linechart",defaultChartAxis:"totals"},_create:function(){this.id=a;a+=1},_init:function(){var a=W(this.element),r=this.options;this.widget_id=a.attr("id");this.input=a.find('input[type="hidden"][name="tp-data"]').first();this.svg=this.data=null;a=a.find(".tp-chart");this.chart=a.length?a.first():
null;this.currentChart={type:null,chart:null,container:null};r.numberFormatter=function(a){var b=r.precision;if(null===a||"undefined"==typeof a)return"-";b=b||0==b?a.toFixed(b):a.toString();b=b.split(".");a=b[0];b=1<b.length?"."+b[1]:"";a=a.replace(new RegExp("\\B(?=(\\d{"+r.thousandGrouping+"})+(?!\\d))","g"),r.thousandSeparator);return a+b};this.refresh()},_destroy:function(){var a=this.element;this._unbindEvents();this.svg&&(this.svg.remove(),this.svg=null,a.find(".tp-chart").empty());this.data=
null;W.Widget.prototype.destroy.call(this)},refresh:function(){var a=this.element;this._unbindEvents();this._renderChart();this._renderChartOptions();this.options.autoSubmit?a.find(".tp-submit").hide():a.find(".tp-submit").show();this._bindEvents();a.find(".tp-throbber").hide()},_renderChartOptions:function(){var a=W(this.element),r=a.find(".tp-chart-controls").first().empty();if(!this.data.e){var s=a.attr("id"),a=W('<div class="pt-chart-opts">'),h=s+"-bchart-totals",s=s+"-lchart-totals";W(a).append(W('<span id="'+
s+'" class="tp-chart-icon tp-lchart"/><span class="tp-chart-label">Line Chart</span>'));W(a).append(W('<span id="'+h+'" class="tp-chart-icon tp-bchart"/><span class="tp-chart-label">Bar Chart</span>'));W(r).append(a)}},_renderChart:function(a){var r=this.chart;if(r){var s=this.options,h=this.currentChart,m=null,f=null;a?(m=a.type,f=a.axis):(h&&(m=h.type,f=h.axis),m&&f||(m=s.defaultChartType,f=s.defaultChartAxis));h.type==m&&h.axis==f||this._removeChart();a=this.element;s=a.find(".tp-empty");h=this.data;
null===h&&(h=JSON.parse(this.input.val()));h||(h={e:!0});this.data=h;if(h.e)this._removeChart(),a.find(".tp-empty").show();else switch(s.hide(),r.show(),f){case "totals":switch(m){case "barchart":this._renderBarChart(r,h.p);break;default:this._renderLineChart(r,h.p)}}}},_removeChart:function(){var a=this.chart;a&&(a.empty().hide(),a=this.currentChart,a.container=null,a.chart=null,a.type=null,a.axis=null,W(window).off("resize.tp"))},_renderBarChart:function(a,r){for(var s=[],h=0;h<r.length;h++){var m=
r[h];s.push({start:(new Date(m.t[0])).getTime(),value:m.v})}var h=this.currentChart,f,v;h.chart?(v=h.container,f=h.chart,v.datum([{key:"reportChart",values:s}]).transition().duration(500).call(f)):(W(a).closest(".tp-chart-contents").show().css({width:"96%"}),W(a).css({height:"360px"}),v=d3.select(W(a).get(0)).append("svg").attr("class","nv"),f=nv.models.discreteBarChart().x(function(a){return a.start}).y(function(a){return a.value}).color(["silver"]).staggerLabels(!0).tooltips(!1).showValues(!0).forceY([0,
1]),m=this.options.numberFormatter,f.valueFormat(m),f.yAxis.tickFormat(m),f.xAxis.tickFormat(function(a){return(new Date(a)).toLocaleDateString()}),nv.addGraph(function(){v.datum([{key:"reportChart",values:s}]).transition().duration(500).call(f);W(window).off("resize.tp").on("resize.tp",function(a){f.update(a)});return f}),h.container=v,h.chart=f,h.type="barchart",h.axis="totals")},_renderLineChart:function(a,r){for(var s=[],h=0;h<r.length;h++){var m=r[h];s.push({start:(new Date(m.t[0])).getTime(),
value:m.v})}var h=this.currentChart,f,v;h.chart?(v=h.container,f=h.chart,v.datum([{key:"reportChart",values:s,area:!0}]).transition().duration(250).call(f)):(W(a).closest(".tp-chart-contents").show().css({width:"96%"}),W(a).css({height:"360px"}),v=d3.select(W(a).get(0)).append("svg").attr("class","nv"),f=nv.models.lineChart().x(function(a){return a.start}).y(function(a){return a.value}).margin({right:50}).transitionDuration(250).showLegend(!1).useInteractiveGuideline(!0).forceY([0,1]),f.yAxis.tickFormat(this.options.numberFormatter),
f.xAxis.tickFormat(function(a){return(new Date(a)).toLocaleDateString()}),nv.addGraph(function(){v.datum([{key:"reportChart",values:s,area:!0}]).transition().duration(500).call(f);W(window).off("resize.tp").on("resize.tp",function(a){f.update(a)});return f}),h.container=v,h.chart=f,h.type="linechart",h.axis="totals")},reload:function(a,r,s){s="undefined"!=typeof s?s:!0;"undefined"==typeof r&&(r=this._getFilters());var h=this,m=!1;W(this.element).find(".tp-throbber").show();if(a||r)m=this._updateAjaxURL(a,
r);m||s?W.ajax({url:this.options.ajaxURL,dataType:"json"}).done(function(a){h.input.val(JSON.stringify(a));h.data=a;h.refresh()}).fail(function(a,b,h){msg="UNAUTHORIZED"==h?i18n.gis_requires_login:a.responseText;console.log(msg)}):h.refresh()},_getOptions:function(){var a="#"+W(this.element).attr("id"),a=W(a+"-time").val(),r=null,s=null,h=null,m=null;"custom"!=a&&(r=a.split("|"),3==r.length&&(s=r[0],h=r[1],m=r[2]));return{start:s,end:h,slots:m}},_getFilters:function(){var a=W("#"+this.widget_id+"-filters");
try{return a.length?S3.search.getCurrentFilters(a.first()):null}catch(r){return null}},_updateAjaxURL:function(a,r){var s=this.options.ajaxURL;if(!s)return!1;var h,m=s.split("?"),f;1<m.length?(h=m[1],f=h.split("&")):f=[];var v=[],s=!1;if(a)for(var q in a)h=a[q],h=q+"="+h,s||-1!=W.inArray(h,f)||(s=!0),v.push(h);q={};h={};var J,F,B,H;if(r)for(J=0,F=r.length;J<F;J++)H=r[J],B=H[0],H=H[1],null===H?q[B]||(h[B]=!0):(h[B]&&(h[B]=!1),q[B]?q[B].push(B+"="+H):q[B]=[B+"="+H]);J=0;for(F=f.length;J<F;J++)H=f[J].split("="),
1<H.length&&(B=decodeURIComponent(H[0]),H=decodeURIComponent(H[1]),h[B]?s=!0:q[B]?s||-1!=W.inArray(B+"="+H,q[B])||(s=!0):a&&a.hasOwnProperty(B)||v.push(f[J]));for(B in q)for(J=0,F=q[B].length;J<F;J++)s||-1!=W.inArray(q[B][J],f)||(s=!0),v.push(q[B][J]);B=v.join("&");m=m[0];B&&(m=m+"?"+B);this.options.ajaxURL=m;return s},_parseDate:function(a){return d3.time.format("%Y-%m-%dT%H:%M:%S+00:00").parse(a)},_bindEvents:function(){var a=this,r="#"+this.widget_id;W(r+"-options legend").click(function(){W(this).siblings().toggle();
W(this).children().toggle()});W(r+"-filters legend").click(function(){W(this).siblings().toggle();W(this).children().toggle()});W(r+"-time").on("change.autosubmit",function(){W(r+"-tp-form").trigger("optionChanged")});if(this.options.autoSubmit){var s=this.options.autoSubmit;W(r+"-tp-form").on("optionChanged",function(){var h=W(this);if(!h.data("noAutoSubmit")){var m=h.data("autoSubmitTimeout");m&&clearTimeout(m);m=setTimeout(function(){var f=a._getOptions(),h=a._getFilters();a.reload(f,h,!1)},s);
h.data("autoSubmitTimeout",m)}})}else W(r+"-tp-form input.tp-submit").on("click.timeplot",function(){var h=a._getOptions(),m=a._getFilters();a.reload(h,m,!1)});W(r+"-lchart-totals").click(function(){a._renderChart({type:"linechart",axis:"totals"})});W(r+"-bchart-totals").click(function(){a._renderChart({type:"barchart",axis:"totals"})})},_unbindEvents:function(){var a="#"+this.widget_id;W(window).off("resize.timeplot");W(a+"-tp-form").off("optionChanged");W(a+"-tp-form input.tp-submit").off("click.timeplot");
W(a+"-time").unbind("change.autosubmit");W(a+"-options legend").unbind("click");W(a+"-filters legend").unbind("click");W(a+"-lchart-totals,"+a+"-bchart-totals").unbind("click")}})})(jQuery);
