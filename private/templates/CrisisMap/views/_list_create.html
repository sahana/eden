<div class='row'>
 <div class='small-12 columns'>
  {{try:}}{{=H2(title)}}{{except:}}{{pass}}
  {{try:}}{{=s3db.ocr_buttons(r)}}{{except:}}{{pass}}
 </div>
</div>
<div class='row'>
 <div id='rheader' class='small-12 columns'>
  {{try:}}{{=XML(rheader)}}
 </div>
</div>
<div id='component' class='row'>
{{except:}}
 </div>
</div>
<div class='row'>
{{pass}}
 <div class='small-12 columns'>
  <div class='row'>
   <div id='map' class='small-12 columns'></div>
  </div>
  <div class='row'>
   <div class='small-12 columns'>
    <div id='list-btn-add'>
     {{try:}}{{showadd_btn=showadd_btn}}{{except:}}{{showadd_btn=None}}{{pass}}
     {{if showadd_btn:}}{{=showadd_btn}}{{hide_listadd = True}}
     {{else:}}{{try:}}{{=buttons["add_btn"]}}{{except:}}{{pass}}{{hide_listadd = False}}{{pass}}
    </div>
    <div id='list-add'>
     {{try:}}{{=H3(addtitle)}}{{except:}}{{pass}}
     {{try:}}{{=addheader}}{{except:}}{{pass}}
     {{include "key.html"}}
     <div class='form-container'>
      {{try:}}{{=form}}{{except:}}{{pass}}
     </div>
    </div>
   </div>
  </div>
  <div class='row'>
   {{try:}}{{items = items}}
   <div id='table-container' class='small-12 columns'>
    {{=items}}
   </div>
   {{except:}}{{pass}}
  </div>
 </div>
</div>
<div class='row'>
 {{if s3.rfooter:}}
  <div id='rfooter' class='small-12 columns'>
   {{=XML(s3.rfooter)}}
  </div>
 {{pass}}
</div>
{{include "dataTables.html"}}
{{if r.http == "POST" or not hide_listadd:}}
{{script = '''$('#list-add').show()
$('#show-add-btn').hide()'''}}
{{else:}}
{{script = '''$('#show-add-btn').click(function(){$('#list-add').show()
 $('#show-add-btn').hide()})'''}}
{{pass}}
{{s3.jquery_ready.append(script)}}
